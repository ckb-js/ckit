{"version":3,"sources":["../../../packages/ckit/dist/helpers/pw.js","../../../packages/ckit/dist/helpers/pw.serde.js","../../../packages/ckit/dist/tx-builders/AcpTransferSudtBuilder.js","../../../packages/ckit/dist/tx-builders/pw/TransferSudtPwBuilder.js","../../../packages/ckit/dist/helpers/Amount.js","../../../packages/ckit/dist/tx-builders/unipass/config.js","../../../packages/ckit/dist/tx-builders/TransferCkbBuilder.js","../../../packages/ckit/dist/tx-builders/pw/TransferCkbPwBuilder.js","../../../packages/ckit/dist/tx-builders/MintSudtBuilder.js","../../../packages/ckit/dist/tx-builders/pw/MintSudtPwBuilder.js","../../../packages/ckit/dist/tx-builders/rc/index.js","../../../packages/ckit/dist/tx-builders/rc/CreateRcUdtInfoCellBuilder.js","../../../packages/ckit/dist/tx-builders/rc/CreateRcUdtInfoCellPwBuilder.js","../../../packages/ckit/dist/tx-builders/rc/MintRcUdtBuilder.js","../../../packages/ckit/dist/tx-builders/rc/MintRcUdtPwBuilder.js","../../../packages/ckit/dist/tx-builders/ChequeDepositBuilder.js","../../../packages/ckit/dist/tx-builders/ChequeClaimBuilder.js","../../../packages/ckit/dist/tx-builders/ChequeWithdrawBuilder.js","../../../packages/ckit/dist/tx-builders/ExchangeSudtForCkbBuilder.js","../../../packages/ckit/dist/wallets/pw/PwAdapterSigner.js","../../../packages/ckit/dist/wallets/Secp256k1Wallet.js","../../../packages/ckit/dist/wallets/UnipassWallet.js","../../../packages/ckit/dist/wallets/unipass/UnipassAdapter.js","../../../packages/ckit/dist/wallets/RcOwnerWallet.js","../../../packages/ckit/dist/providers/index.js","../../../packages/ckit/dist/utils.js","../../../packages/mercury-client/dist/CellOutPointProvider.js","../../../packages/mercury-client/dist/LatestOutPointProvider.js","../../../packages/mercury-client/dist/StaticFutureOutPointProvider.js","../../../packages/ckit/dist/providers/mercury/IndexerCellProvider.js","../../../packages/ckit/dist/providers/CkitProvider.js","../../../packages/ckit/dist/predefined/index.js","../../../packages/ckit/dist/predefined/aggron.js","../../../packages/ckit/dist/predefined/lina.js","../../../packages/utils/dist/index.js","hooks/useConfigStorage.tsx","containers/CkitProviderContainer/index.tsx","wallets/ObservableNonAcpPwLockWallet.ts","wallets/ObservableAcpPwLockWallet.ts","wallets/ObservableUnipassWallet.ts","wallets/ObservableOmnilockWallet.ts","wallets/ObservableAcpOmnilockWallet.ts","containers/WalletContainer/index.tsx","hooks/useUnipass.tsx","utils/AssetAmount.ts","utils/index.ts","hooks/useSendTransaction.tsx","components/OnLoaded/index.tsx","components/Styled/index.tsx","components/Wallet/WalletConnect.tsx","hooks/useSendIssueTx.tsx","hooks/useAssetMetaStorage.tsx","hooks/useFormValidate.tsx","components/Wallet/WalletChange.tsx","components/Wallet/WalletList.tsx","views/Account/index.tsx","components/Assets/AssetList/AssetBalance.tsx","components/Assets/AssetList/SendButton.tsx","hooks/useSendTransferTx.tsx","components/Assets/AssetList/index.tsx","components/Assets/AddAssetButton.tsx","views/Assets/index.tsx","components/Issue/AssetMetaDisplay.tsx","components/Issue/IssueOperation.tsx","components/Issue/index.tsx","views/Issue/index.tsx","views/index.tsx","App.tsx","reportWebVitals.ts","index.tsx","../../../packages/ckit/dist/errors.js","../../../packages/ckit/dist/tx-builders/pw/AbstractPwSenderBuilder.js","../../../packages/rc-lock/dist/index.js","../../../packages/ckit/dist/tx-builders/builder-utils.js","../../../packages/base/dist/index.js","../../../packages/ckit/dist/tx-builders/AbstractTransactionBuilder.js","../../../packages/ckit/dist/helpers/index.js","../../../packages/ckit/dist/wallets/AbstractSingleEntrySigner.js","../../../packages/easy-byte/dist/index.js","../../../packages/ckit/dist/wallets/PwWallet.js","../../../packages/mercury-client/dist/index.js","../../../packages/ckit/dist/index.js","../../../packages/rc-lock/dist/generated/rc_udt_info.js","../../../packages/easy-byte/dist/utils.js","../../../packages/ckit/dist/tx-builders/index.js","../../../packages/ckit/dist/providers/mercury/MercuryProvider.js","../../../packages/base/dist/AbstractProvider.js","../../../packages/base/dist/typeid.js","../../../packages/base/dist/AbstractWallet.js","../../../packages/utils/dist/debug.js","../../../packages/utils/dist/invariant.js","../../../packages/utils/dist/assertion.js","../../../packages/utils/dist/bytes.js","../../../packages/ckit/dist/wallets/index.js","../../../packages/ckit/dist/wallets/RcInternalSigner.js","../../../packages/rc-lock/dist/generated/rc-lock.js","../../../packages/rc-lock/dist/rc.js","../../../packages/easy-byte/dist/struct.js"],"names":["Object","defineProperty","exports","value","enumerable","get","_pw","serialize","deserialize","Pw","_pwCore","require","fromPwScript","x","code_hash","codeHash","args","hash_type","hashType","toPwScript","Script","HashType","type","data","fromPwCellDep","dep_type","depType","out_point","tx_hash","outPoint","txHash","index","toPwCellDep","CellDep","DepType","depGroup","code","OutPoint","fromPwCell","cell_output","capacity","toHexString","undefined","lock","getHexData","toPwCell","isLumosCell","Cell","Amount","output","output_data","toPwOutPoint","tx","raw","inputs","map","item","since","previousOutput","inputCells","amount","outputs","version","cellDeps","headerDeps","witnessArgs","witnesses","Transaction","RawTransaction","toCell","toScript","AcpTransferSudtBuilder","_errors","_AbstractTransactionBuilder","_TransferSudtPwBuilder","AbstractTransactionBuilder","constructor","options","provider","sender","obj","key","super","this","configurable","writable","builder","TransferSudtPwBuilder","recipients","find","option","recipient","RecipientSameWithSenderError","address","build","_utils","_utils2","_builderUtils","_AbstractPwSenderBuilder","AbstractPwSenderBuilder","optionsGroupBySudt","Map","forEach","oldRecipientOptions","sudt","newRecipientOptions","policy","additionalCapacity","createCapacity","concat","set","senderSudtInputCells","recipientSudtInputCells","senderSudtOutputCells","recipientSudtOutputCells","recipientCreateOutputCells","optionsOfSameSudt","allowDuplicateRecipient","deduplicateOptions","sudtScript","totalTransferAmount","add","recipientLiveSudtCell","collectUdtCells","_option$additionalCap","debug","boom","recipientSudtInputCell","recipientSudtOutputCell","setSUDTAmount","getSUDTAmount","push","_option$additionalCap2","parseToScript","toString","String","byteLenOfSudt","getLockscriptArgsLength","toUInt128LE","senderSudtInputCell","cellCapacity","sudtAmount","reduce","input","ZERO","senderSudtOutputCell","sub","senderSudtInputCellsCapacity","sum","cell","senderSudtOutputCellsCapacity","recipientSudtInputCellsCapacity","recipientSudtOutputCellsCapacity","recipientCreateOutputCellsCapacity","inputsContainedCapacity","outputsContainedCapacity","txWithoutSupplyCapacity","getCellDepsByCells","getWitnessPlaceholder","needSupplyCapacity","Builder","calcFee","Number","config","MIN_FEE_RATE","senderSudtCellToPayCapacity","gte","senderLockscriptArgsLen","needSearchCapacity","byteLenOfLockOnlyCell","supplyCapacityLiveCells","collectCkbLiveCells","supplyCapacityInputCells","capacityChangeCell","txWithSupplyCapacity","fee","length","existedOption","Error","Array","from","values","BN","_bignumber","BigNumber","CkbAmount","_defineProperty","val","checkIsAmount","__isCkitAmount__","decimals","isInteger","BigInt","times","pow","bn","lt","humanize","decimalPlaces","Infinity","separator","valWithDecimals","originDecimalPlaces","rounded","Math","min","ROUND_FLOOR","toFormat","new","base","toHex","eq","gt","lte","plus","minus","asBN","getCellDeps","isLina","AggronCellDeps","LinaCellDeps","nets","name","url","model","TransferCkbBuilder","_TransferCkbPwBuilder","some","capacityPolicy","TransferCkbPwBuilder","_rxjs","recipientCreatedCells","filter","acpOptions","recipientAcpCells$","pipe","mergeMap","async","resolved","NoAvailableCellError","toArray","recipientAcpCells","lastValueFrom","createdCapacity","totalCapacity","injectedAcpCapacity","senderCells","senderOutput","acc","MintSudtBuilder","_MintSudtPwBuilder","NonAcpPwMintBuilder","buildPwTransaction","_helpers","issuerAddress","senderMintedUdtType","newSudtScript","createdRecipientCells","_item$sudt","recipientLockArgsBytesLen","resolvedFindAcpCells","foundRecipientCells$","_item$sudt2","foundRecipientCells","createdRecipientCellsCapacity","createdCell","foundRecipientCellsAdditionalCapacity","foundCell","neededCapacityFromIssuer","issuerCells","issuerOutput","clone","inputCell","rawTx","_CreateRcUdtInfoCellBuilder","keys","_MintRcUdtBuilder","_rcLock","CreateRcUdtInfoCellBuilder","_CreateRcUdtInfoCellPwBuilder","builtTransaction","CreateRcUdtInfoCellPwBuilder","getTypeHash","rcUdtInfoCell","invariant","toHash","getIssuerLockHash","_base","_dist","_ckbJsToolkit","_jsbi","__esModule","default","sudtInfo","rcIdentity","udtInfo","SerializeUdtInfo","Reader","fromRawString","toArrayBuffer","symbol","description","rcUdtInfoCellSize","byteLenOfRcCell","byteLength","ownerRcLock","newScript","bytes","flag","pubkeyHash","ownerRcAddress","parseToAddress","senderOutpoints","fromCkb","typeIdScript","generateTypeIdScript","previous_output","rcLockScript","rcInfoCell","formatByteLike","OmniSupplyOutputData","encode","current_supply","max_supply","maxSupply","sudt_script_hash","utils","computeScriptHash","Uint8Array","next","rawTransaction","MintRcUdtBuilder","_MintRcUdtPwBuilder","MintRcUdtPwBuilder","_easyByte","_lodash","helper","RcSupplyLockHelper","mercury","rcLock","newScriptTemplate","sudtType","resolvedInfoCells","listCreatedInfoCells","nonNullable","udtType","findOrCreatePolicies","alreadyDetermined","partition","groupByRecipient","groupBy","mergedFindOrCreatePolicies","items","left","right","then","cells","determineFindOrCreate","rc_identity_flag","rc_identity_pubkey_hash","RcSupplyLockArgs","decode","toBuffer","infoCell","capacityProviderAddress","RcIdentityLockArgs","rc_lock_flag","pad0x","byteWidth","mintedSudtAmount","dataBuf","decoded","encoded","write","setHexData","ChequeDepositBuilder","receiver","skipCheck","asserts","isTemplateOf","receiverLock","senderLock","receiverLockHash","slice","senderLockHash","chequeLock","chequeOccupied","occupiedShannon","byteLenOfChequeCell","chequeCell","toBigUInt128LE","changeNeededCapacity","hexDataOccupiedBytes","collectedSudtCells","collectedSudtCapacityAndAmount","ckb","sudtChangeCell","collectedLockOnlyCells","lockOnlyCells","outputCells","ChequeClaimBuilder","searchKey","script","script_type","unclaimedCells","collectCells","claimedSudtCell","ejectExtraCapacity","mergeSudtCells","claimedEmptyChequeCell","inputCapacityCells","collectLockOnlyCells","byteLenOfHexData","changeCell","mergeLockOnlyCells","ChequeWithdrawBuilder","_helpers2","unwithdrawnCells","currEpoch","rpc","get_current_epoch","validEpoch","number","validWithdrawCells","req","method","params","block_number","result","batchRequestCkb","i","epoch","substring","withdrawnChangeCapacity","extraNeededCapacity","withdrawnSudtCells","sudtCell","sudtCapacity","minimalCellCapacity","withdrawnChangeCell","minimalCapacity","toNumber","inputSince","generateSince","relative","cellInput","toCellInput","CellInput","ExchangeSudtForCkbBuilder","feeCkb","AmountUnit","inExchangeProviderCells","collectExchangeProviderCells","calcMinExchangeProviderCkb","inSudtCells","collectSudtCells","calcNeededSudtAmount","outExchangeCell","createOutExchangeCell","outSudtCell","createOutSudtCell","outRecipientCell","createOutRecipientCell","createWitness","checkTransaction","neededSudtAmount","sudtSender","exchangeProvider","inclusive","inExchangeProviderCkbSum","NoEnoughCkbError","expected","actual","inExchangeProviderSudtSum","calcCkbAndSudtSum","ckbAmountForRecipient","shannon","sudtAmountForExchange","inCkbSum","inSudtSum","exchangeRecipient","sudtAmountForRecipient","firstInputs","secondInputs","witness","exchangeProviderCell","ckbSum","sudtSum","checkCellsCapacity","inputCkbSum","inputSudtSum","outputCkbSum","outputSudtSum","minCapacity","cellOccupiedBytes","PwAdapterSigner","serializeBigInt","view","DataView","ArrayBuffer","setUint32","buffer","rawSigner","hasher","Blake2bHasher","messages","sigs","signerLock","getAddress","sig","signMessage","message","toMessages","signMessages","SerializeWitnessArgs","normalizers","NormalizeWitnessArgs","serializeJson","FillSignedWitnesses","validate","hash","SerializeRawTransaction","NormalizeRawTransaction","transformers","TransformRawTransaction","used","_input","update","firstWitness","j","sameWith","currentWitness","digest","reset","Secp256k1Signer","Secp256k1Wallet","_hd","_AbstractSingleEntrySigner","_classPrivateFieldGet","privateMap","descriptor","call","_classApplyDescriptorGet","_classExtractFieldDescriptor","_classPrivateFieldSet","TypeError","_classApplyDescriptorSet","action","has","_privateKey","WeakMap","AbstractWallet","privateKey","lockConfig","setDescriptor","features","_privateKey2","AbstractSingleEntrySigner","privateKeyToBlake160","signature","signRecoverable","Promise","resolve","UnipassWallet","_UnipassAdapter","adapterConfig","adapter","UnipassRedirectAdapter","unipassLockArgs","getLockArgs","sign","seal","pubkeyToLockArgs","getRetFromSearchParams","redirect","isUnipassLoginData","isUnipassSigData","pubkey","ckbHash","hexToBytes","check","replace","searchParams","URLSearchParams","location","search","json","res","JSON","parse","info","delete","pathname","host","protocol","window","qs","newUrl","history","replaceState","path","href","setTimeout","_options$host","_options$loginDataCac","loginDataCacheKey","saveLoginInfo","getLoginDataFromUrl","getLoginDataFromCache","hasLoginInfo","hasSigData","_ref","_this$getLoginDataFro","redirectToLogin","_this$getSignatureFro","getSignatureFromUrl","redirectToSign","generateUnipassNewUrl","success_url","_this$getLoginDataFro2","saveLoginDataToCache","localStorage","setItem","stringify","serialized","getItem","loginData","urlObj","URL","toLowerCase","entries","RcAcpPwSigner","RcAcpWallet","RcPwSigner","RcOwnerWallet","_PwWallet","describeFeatures","getRcSigner","ethProvider","detect","rcSigner","selectedAddress","request","addListener","signer","emitChangedSigner","emitConnectStatusChanged","rcOwnerLockArgs","RcIdentityFlag","ETH","getRcIdentity","signedMessage","personalSign","v","parseInt","padStart","SerializeRcLockWitnessLock","RcIdentityAcpLockArgs","RcLockFlag","ACP_MASK","rc_lock_acp_minimum_ckb","rc_lock_acp_minimum_udt","_MercuryProvider","_CkitProvider","unimplemented","asyncSleep","ms","randomHexString","lengthWithOut0x","floor","random","join","bytesToHex","b","hex","match","startsWith","byte","condition","err","DefaultOutPointProvider","BaseCellOutPointProvider","_rpc","rpcUrl","upgradableScripts","RPC","_liveCellTx$transacti","liveCellTx","get_transaction","transaction","configKey","scriptConfig","SCRIPTS","checkConfigResult","shouldReturnOriginalOutput","originalOutPoint","TX_HASH","INDEX","includes","get_live_cell","status","getScriptDep","LatestOutPointProvider","_","indexerUrl","mercuryClient","MercuryClient","checkConfigByKey","getTypeIdByOutPoint","objects","get_cells","search_key","StaticFutureOutPointProvider","scriptConfigs","RC_LOCK","CODE_HASH","HASH_TYPE","DEP_TYPE","findIndex","found","MercuryCellProvider","collector","queries","queryData","collect","Symbol","asyncIterator","liveCells","CkitProvider","MercuryProvider","init","getScriptConfig","template","issuer","issuerLockHash","scriptLice","predefined","Aggron","_interopRequireWildcard","Lina","_getRequireWildcardCache","nodeInterop","cacheBabelInterop","cacheNodeInterop","cache","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","prototype","hasOwnProperty","desc","PREFIX","_configManager","SECP256K1_BLAKE160","AGGRON4","ANYONE_CAN_PAY","SUDT","PW_ANYONE_CAN_PAY","PW_NON_ANYONE_CAN_PAY","UNIPASS","CHEQUE","LINA","_debug","createDebugger","_invariant","_assertion","_bytes","useConfigStorage","initialConfig","useMemo","ckitConfig","mecuryRPC","ckbRPC","nervosExploreTxUrlPrefix","nervosExploreAddressUrlPrefix","nervosExploreSudtUrlPrefix","useLocalStorage","CkitProviderContainer","createContainer","ckitProvider","setCkitProvider","useState","localConfig","useEffect","NonAcpPwLockWallet","AcpPwLockWallet","ObservableUnipassWallet","makeObservable","connectStatus","observable","ObservableOmnilockWallet","ObservableAcpOmnilockWallet","WalletContainer","useContainer","currentWalletName","setCurrentWalletName","wallets","useLocalObservable","signerAddress","setSignerAddress","error","setError","visible","setVisible","isInitialized","setIsInitialized","setModalVisible","useCallback","runInAction","splice","connect","autorun","wallet","on","remainConnectedWallet","w","connectedWallet","currentWallet","displayWalletName","useUnipass","cachedTx","cacheTx","shouldLogin","cacheLogin","shouldSendTx","clearTx","AssetAmount","rawAmount","humanizeAmount","toRawString","toHumanizeString","truncateMiddle","str","start","end","HEX_REGEX","isValidHexString","test","useSendTransaction","useMutation","serializedTx","serde","sendTransaction","onSuccess","Modal","success","title","content","target","rel","onError","errorMsg","width","OnIncomplete","children","isLoaded","setIsLoaded","mutateAsync","txToSend","catch","StyledCardWrapper","styled","div","WalletConnect","observer","size","onClick","CheckCircleTwoTone","useSendIssueTx","recipientsParams","operationKind","helpers","useAssetMetaStorage","initialAssetMeta","decimal","assetsMeta","setAssetsMeta","addAssetMeta","newValue","useFormValidate","useProvider","validateCkbAddress","e","isLockscriptACP","scripts","checkRcLockFlag","argsBytes","validateACPAddress","validateInviteAddress","validateIssueAcpAddress","validateTransferAddress","validateAmount","assetAmount","fromHumanize","isNaN","WalletChange","truncatedAddress","style","marginTop","marginBottom","span","offset","textAlign","AddressTip","copyable","float","Typography","Text","ModalBorderWrapper","WalletList","closable","onCancel","footer","pagination","dataSource","renderItem","Item","WalletListItem","props","UsbOutlined","SyncOutlined","spin","AccountView","Title","level","paddingTop","AssetBalance","query","useQuery","getUdtBalance","getCkbLiveCellsBalance","enabled","isError","fromRaw","LoadingOutlined","SendButton","issuableSudtScript","isMint","buttonContent","disabled","isLoading","ModalForm","assetMeta","sendTransferTransaction","isTransferLoading","useSendTransferTx","sendIssueTransaction","isIssueLoading","onSubmit","loading","formik","useFormik","initialValues","errors","recipientError","amountError","resetForm","justify","align","htmlFor","getFieldProps","onChange","setFieldValue","Option","id","placeholder","touched","submitForm","AssetList","columns","render","record","showHeader","pageSize","AddAssetButton","buttonProps","setSubmitting","newAssetMeta","onBlur","handleBlur","Group","handleChange","AssetsView","icon","PlusCircleOutlined","fontSize","AssetMetaDisplay","scriptHash","ScriptTip","Link","IssueOperation","setOperationKind","recipientFieldDisplayName","inviteRecipient","issueRecipient","issuePolicy","IssueArea","udtScript","IssueView","isSupportIssue","checkSupported","AppView","BodyWrapper","className","App","queryClient","QueryClient","QueryClientProvider","client","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById","NoEnoughUdtError","CkitError","metadata","_config","getCellDep","foundEntry","keyToTemplate","getCellDepByKey","promises","getCellDepByScript","all","uniqWith","flatMap","dep1","dep2","inputLockAndTypeScripts","outputTypeScripts","repeat","input_type","output_type","_exportNames","UdtInfo","_rc_udt_info","_rc","lockArgsByteLen","typeArgsByteLen","dataLen","byteLen","toBigUint128LE","readBigUint128LE","totalAmount","total","refinedCell","refinedCapacity","fn","fx","fg","arg","readBigUInt128LE","num","toFixed","toUpperCase","_ScriptManager","ScriptManager","_AbstractProvider","AbstractProvider","_AbstractWallet","deserialized","_Amount","_PwAdapterSigner","_options$hasher","signed","TransformTransaction","_struct","hashMessage","InternalNonAcpPwLockSigner","_detectProvider","_secp256k","ethereum","AbstractPwWallet","addresses","isArray","produceSigner","disconnect","removeEventListener","listener","enable","AbstractPwSigner","ethereumProvider","Platform","eth","Keccak256Hasher","getEthAddress","publicKeyCreate","_CellOutPointProvider","_LatestOutPointProvider","_StaticFutureOutPointProvider","_clientJs","uri","transport","HTTPTransport","headers","Client","RequestManager","payload","order","limit","after_cursor","get_tip","get_transactions","_predefined","_wallets","_providers","_txBuilders","dataLengthError","required","assertDataLength","assertArrayBuffer","reader","verifyAndExtractOffsets","expectedFieldCount","compatible","requiredByteLength","getUint32","firstOffset","itemCount","offsets","serializeTable","buffers","totalSize","array","SerializeUTF8Bytes","SerializeUint128","SerializeByte32","SerializeUdtCellData","versionView","setUint8","udt_info","UdtCellData","Byte32","Uint128","UTF8Bytes","indexAt","getUint8","getDecimals","offset_end","getName","getSymbol","getDescription","decimalsView","getVersion","getCurrentSupply","getMaxSupply","getSudtScriptHash","getUdtInfo","startsWith0x","rm0x","safePadZero","prependZeroToEvenLength","convertEndian","toUnfixedBuffer","toFixedBuffer","byteSize","_buffer","le","isEvenLength","isUnfixed","padEvenLength","expectedByteStringLength","padEnd","reverse","byteString","Buffer","shouldPad0x","isBuffer","unfixed","unfixedSize","alloc","fn1","fn2","SerializedTx","DeserializedTx","_AcpTransferSudtBuilder","_TransferCkbBuilder","_MintSudtBuilder","_ChequeDepositBuilder","_ChequeClaimBuilder","_ChequeWithdrawBuilder","_ExchangeSudtForCkbBuilder","_mercuryClient","_isomorphicFetch","_IndexerCellProvider","mercuryRpc","ckbRpc","mercuryUrl","depOutPointProvider","newOutPoint","batch","jsonrpc","response","body","results","output_data_len_range","cells$","expand","last_cursor","takeWhile","concatMap","scan","defaultValue","fromInfo","takeWhile_","balance$","balance","getTxPoolInfo","tx_pool_info","getChainInfo","get_blockchain_info","send_transaction","udt","minimalAmount","resolvedCell","pollIntervalMs","timeoutMs","Date","now","_tx$tx_status","tx_status","rpcTip","get_tip_block_number","mercuryTip","asIndexerCellProvider","_typeid","newTypeIdScript","outputIndex","findCellDepByAddress","findCellDepByScript","initialized","min_fee_rate","isMainnet","chain","txPoolInfo","encodeToAddress","generateAddress","parseAddress","_eventemitter","event","emitter","isDisconnected","tryConnect","emitError","removeAllListeners","feature","getConnectStatus","getSigner","emit","namespace","_tinyInvariant","hexes","padToEven","hexStringLike","isNumberLike","internal","_RcOwnerWallet","_RcInternalSigner","_Secp256k1Wallet","_UnipassWallet","RcSecp256k1Signer","RcEthSigner","RCLockSigner","RC_MODE","CKB","getAddressByMode","ACP","mode","pubKeykHash","rc_args","PUBKEY_HASH","reject","_privateKey3","ethAddress","SerializeIdentity","SerializeRcIdentity","SerializeRcIdentityOpt","SerializeBytesOpt","rc_identity","preimage","SerializeScriptVec","SerializeScriptVecOpt","SerializeXudtWitnessInput","raw_extension_data","SerializeBytesVec","extension_data","SerializeRCRule","SerializeRCCellVec","SerializeRCData","itemBuffer","SerializeSmtProof","SerializeSmtProofEntry","SerializeSmtProofEntryVec","SerializeSmtUpdateItem","SerializeSmtUpdateItemVec","SerializeSmtUpdateAction","updates","proof","SerializeXudtData","SerializeBytes","SerializeUint32","SerializeUint64","SerializeUint256","SerializeByte32Vec","SerializeScriptOpt","SerializeProposalShortId","SerializeUncleBlockVec","SerializeTransactionVec","SerializeProposalShortIdVec","SerializeCellDepVec","SerializeCellInputVec","SerializeCellOutputVec","SerializeScript","SerializeOutPoint","SerializeCellInput","SerializeCellOutput","SerializeCellDep","SerializeTransaction","SerializeRawHeader","SerializeHeader","SerializeUncleBlock","SerializeBlock","header","uncles","transactions","proposals","SerializeCellbaseWitness","WitnessArgs","CellbaseWitness","Block","UncleBlock","Header","RawHeader","CellOutput","CellOutputVec","CellInputVec","CellDepVec","ProposalShortIdVec","TransactionVec","UncleBlockVec","ProposalShortId","ScriptOpt","Byte32Vec","BytesVec","BytesOpt","Bytes","Uint256","Uint64","Uint32","XudtData","SmtUpdateAction","SmtUpdateItemVec","SmtUpdateItem","SmtProofEntryVec","SmtProofEntry","SmtProof","RCData","RCCellVec","RCRule","XudtWitnessInput","ScriptVecOpt","ScriptVec","RcLockWitnessLock","RcIdentityOpt","RcIdentity","Identity","getIdentity","getProofs","identity","proofs","hasValue","getSignature","getPreimage","len","getRawExtensionData","getExtensionData","getSmtRoot","getFlags","smt_root","flags","t","unionType","getMask","getProof","maskView","mask","getKey","getPackedValues","packed_values","getUpdates","getLock","getData","toBigEndianUint32","toLittleEndianUint32","getCodeHash","getHashType","getArgs","hashTypeView","getTxHash","getIndex","getSince","getPreviousOutput","getCapacity","getType","type_","getOutPoint","getDepType","getHeaderDeps","getInputs","getOutputs","getOutputsData","cell_deps","header_deps","outputs_data","getRaw","getWitnesses","getCompactTarget","getTimestamp","getNumber","getEpoch","getParentHash","getTransactionsRoot","getProposalsHash","getUnclesHash","getDao","compact_target","timestamp","parent_hash","transactions_root","proposals_hash","uncles_hash","dao","getNonce","nonce","getHeader","getProposals","getUncles","getTransactions","getMessage","getInputType","getOutputType","convertToRcIdentityFlag","convertToSudtSupplyInfo","convertToSudtInfo","RcSupplyOutputData","OmniSupplyLockArgs","OmniIdentityLockArgs","_operators","read","buf","createFixedStruct","field","createField","readUInt8","U8","U128LE","U128LEJSBI","outputData","fixedDataLen","fields","currentSupply","type_id_hash","udtId","indexer","SUPPLY_MASK","supplyCells$","newRcSupplyLockScript","infoLock","FixedStruct","U128BEJSBI","U64BEJSBI","U64LEJSBI","U128BE","I128BE","I128LE","U64BE","U64LE","I64BE","I64LE","U32BE","U32LE","I32BE","I32LE","U16BE","U16LE","I16BE","I16LE","I8","createReader","fnName","createWriter","namedField","parsed","bigIntReader","signMask","valueMask","bigIntWriter","jsbiReader","jsbiWriter"],"mappings":"4GAEAA,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETH,OAAOC,eAAeC,EAAS,YAAa,CAC1CE,YAAY,EACZC,IAAK,WACH,OAAOC,EAAIC,aAGfP,OAAOC,eAAeC,EAAS,cAAe,CAC5CE,YAAY,EACZC,IAAK,WACH,OAAOC,EAAIE,eAGfN,EAAQO,QAAK,EAEb,IAAIC,EAAUC,EAAQ,IAElBL,EAAMK,EAAQ,MAiBlB,SAASC,EAAaC,GACpB,MAAO,CACLC,UAAWD,EAAEE,SACbC,KAAMH,EAAEG,KACRC,UAAWJ,EAAEK,UAIjB,SAASC,EAAWN,GAClB,OAAO,IAAIH,EAAQU,OAAOP,EAAEC,UAAWD,EAAEG,KAAsB,SAAhBH,EAAEI,UAAuBP,EAAQW,SAASC,KAAOZ,EAAQW,SAASE,MAwCnH,MAAMd,EAAK,CACTe,cAhEF,SAAuBX,GACrB,MAAO,CACLY,SAAUZ,EAAEa,QACZC,UAAW,CACTC,QAASf,EAAEgB,SAASC,OACpBC,MAAOlB,EAAEgB,SAASE,SA4DtBC,YAvDF,SAAqBnB,GACnB,OAAO,IAAIH,EAAQuB,QAAuB,cAAfpB,EAAEY,SAA2Bf,EAAQwB,QAAQC,SAAWzB,EAAQwB,QAAQE,KAAM,IAAI1B,EAAQ2B,SAASxB,EAAEc,UAAUC,QAASf,EAAEc,UAAUI,SAuD/JO,WAxCF,SAAoBzB,GAClB,MAAO,CACL0B,YAAa,CACXC,SAAU3B,EAAE2B,SAASC,cACrBnB,KAAMT,EAAES,KAAOV,EAAaC,EAAES,WAAQoB,EACtCC,KAAM/B,EAAaC,EAAE8B,OAEvBhB,UAAWd,EAAEgB,SAAW,CACtBD,QAASf,EAAEgB,SAASC,OACpBC,MAAOlB,EAAEgB,SAASE,YAChBW,EACJnB,KAAMV,EAAE+B,eA8BVC,SArBF,SAAkBhC,GAChB,OANF,SAAqBA,GACnB,MAAiB,kBAANA,GAAuB,MAALA,GACtB,gBAAiBA,EAIpBiC,CAAYjC,GACP,IAAIH,EAAQqC,KAAK,IAAIrC,EAAQsC,OAAOnC,EAAE0B,YAAYC,SAAU,GAAIrB,EAAWN,EAAE0B,YAAYI,MAAO9B,EAAE0B,YAAYjB,KAAOH,EAAWN,EAAE0B,YAAYjB,WAAQoB,EAAW7B,EAAEc,UAAY,IAAIjB,EAAQ2B,SAASxB,EAAEc,UAAUC,QAASf,EAAEc,UAAUI,YAASW,EAAW7B,EAAEU,MAG7P,IAAIb,EAAQqC,KAAK,IAAIrC,EAAQsC,OAAOnC,EAAEoC,OAAOT,SAAU,GAAIrB,EAAWN,EAAEoC,OAAON,MAAO9B,EAAEoC,OAAO3B,KAAOH,EAAWN,EAAEoC,OAAO3B,WAAQoB,EAAW7B,EAAEc,UAAY,IAAIjB,EAAQ2B,SAASxB,EAAEc,UAAUC,QAASf,EAAEc,UAAUI,YAASW,EAAW7B,EAAEqC,cAiB9O/B,aACAP,eACAuC,aAhBF,SAAsBtC,GACpB,OAAO,IAAIH,EAAQ2B,SAASxB,EAAEe,QAASf,EAAEkB,SAiB3C7B,EAAQO,GAAKA,G,uDC9FbT,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQK,UAKR,SAAmB6C,GACjB,MAAMC,EAAMD,EAAGC,IACf,MAAO,CACLA,IAAK,CACHC,OAAQD,EAAIC,OAAOC,KAAIC,IAAQ,CAC7BC,MAAOD,EAAKC,MACZC,eAAgB,CACd3B,MAAOyB,EAAKE,eAAe3B,MAC3BD,OAAQ0B,EAAKE,eAAe5B,YAGhC6B,WAAYN,EAAIM,WAAWJ,KAAIC,IAAQ,CACrCb,KAAM,CACJ3B,KAAMwC,EAAKb,KAAK3B,KAChBD,SAAUyC,EAAKb,KAAK5B,SACpBG,SAAUsC,EAAKb,KAAKzB,UAEtBI,KAAMkC,EAAKlC,MAAQ,CACjBN,KAAMwC,EAAKlC,KAAKN,KAChBE,SAAUsC,EAAKlC,KAAKJ,SACpBH,SAAUyC,EAAKlC,KAAKP,UAEtBQ,KAAMiC,EAAKZ,aACXJ,SAAU,CACRoB,OAAQJ,EAAKhB,SAASC,eAGxBZ,SAAU,CACRC,OAAQ0B,EAAK3B,SAASC,OACtBC,MAAOyB,EAAK3B,SAASE,WAGzB8B,QAASR,EAAIQ,QAAQN,KAAIC,IAAQ,CAC/BhB,SAAU,CACRoB,OAAQJ,EAAKhB,SAASC,eAExBlB,KAAMiC,EAAKZ,aACXD,KAAM,CACJ3B,KAAMwC,EAAKb,KAAK3B,KAChBE,SAAUsC,EAAKb,KAAKzB,SACpBH,SAAUyC,EAAKb,KAAK5B,UAEtBO,KAAMkC,EAAKlC,MAAQ,CACjBN,KAAMwC,EAAKlC,KAAKN,KAChBE,SAAUsC,EAAKlC,KAAKJ,SACpBH,SAAUyC,EAAKlC,KAAKP,cAGxB+C,QAAST,EAAIS,QACbC,SAAUV,EAAIU,SAASR,KAAIC,IAAQ,CACjC9B,QAAS8B,EAAK9B,QACdG,SAAU,CACRE,MAAOyB,EAAK3B,SAASE,MACrBD,OAAQ0B,EAAK3B,SAASC,YAG1BkC,WAAYX,EAAIW,YAElBC,YAAab,EAAGa,YAChBC,UAAWd,EAAGc,YA/DlBhE,EAAQM,YA2ER,SAAqB4C,GACnB,MAAMC,EAAMD,EAAGC,IACf,OAAO,IAAI3C,EAAQyD,YAAY,IAAIzD,EAAQ0D,eAAef,EAAIM,WAAWJ,IAAIc,GAAShB,EAAIQ,QAAQN,IAAIc,GAAShB,EAAIU,SAASR,KAAIC,GAAQ,IAAI9C,EAAQuB,QAAyB,SAAjBuB,EAAK9B,QAAqBhB,EAAQwB,QAAQE,KAAO1B,EAAQwB,QAAQC,SAAU,IAAIzB,EAAQ2B,SAASmB,EAAK3B,SAASC,OAAQ0B,EAAK3B,SAASE,UAAUsB,EAAIW,WAAYX,EAAIS,SAAUV,EAAGa,cA3E7U,IAAIvD,EAAUC,EAAQ,IAiEtB,SAAS2D,EAASzD,GAChB,OAAO,IAAIH,EAAQU,OAAOP,EAAEE,SAAUF,EAAEG,KAAqB,SAAfH,EAAEK,SAAsBR,EAAQW,SAASC,KAAOZ,EAAQW,SAASE,MAGjH,SAAS8C,EAAOxD,GACd,OAAO,IAAIH,EAAQqC,KAAK,IAAIrC,EAAQsC,OAAOnC,EAAE2B,SAASoB,OAAQ,GAAIU,EAASzD,EAAE8B,MAAO9B,EAAES,KAAOgD,EAASzD,EAAES,WAAQoB,EAAW,aAAc7B,GAAKA,EAAEgB,SAAW,IAAInB,EAAQ2B,SAASxB,EAAEgB,SAASC,OAAQjB,EAAEgB,SAASE,YAASW,EAAW7B,EAAEU,Q,kCC5EtOvB,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQqE,4BAAyB,EAEjC,IAAIC,EAAU7D,EAAQ,KAElB8D,EAA8B9D,EAAQ,KAEtC+D,EAAyB/D,EAAQ,MAIrC,MAAM4D,UAA+BE,EAA4BE,2BAC/DC,YAAYC,EAASC,EAAUC,GAHjC,IAAyBC,EAAKC,EAAK9E,EAI/B+E,QACAC,KAAKN,QAAUA,EACfM,KAAKL,SAAWA,EAChBK,KAAKJ,OAASA,EAPiB5E,OASE,GATP8E,EASJ,aATDD,EASLG,MAT0CnF,OAAOC,eAAe+E,EAAKC,EAAK,CAAE9E,MAAOA,EAAOC,YAAY,EAAMgF,cAAc,EAAMC,UAAU,IAAkBL,EAAIC,GAAO9E,EAWvLgF,KAAKG,QAAU,IAAIZ,EAAuBa,sBAAsBV,EAASC,EAAUC,GAG1E,cAET,GADuBI,KAAKN,QAAQW,WAAWC,MAAKC,GAAUA,EAAOC,YAAcR,KAAKJ,SACpE,MAAM,IAAIP,EAAQoB,6BAA6B,CACjEC,QAASV,KAAKJ,SAEhB,OAAOI,KAAKG,QAAQQ,SAKxB5F,EAAQqE,uBAAyBA,G,kCCnCjCvE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQqF,2BAAwB,EAEhC,IAAIQ,EAASpF,EAAQ,KAEjBD,EAAUC,EAAQ,IAElBL,EAAMK,EAAQ,KAEdqF,EAAUrF,EAAQ,KAElBsF,EAAgBtF,EAAQ,KAExBuF,EAA2BvF,EAAQ,KAEvC,MAAM4E,UAA8BW,EAAyBC,wBAC3DvB,YAAYC,EAASC,EAAUC,GAC7BG,MAAMJ,GACNK,KAAKN,QAAUA,EACfM,KAAKJ,OAASA,EAGL,cACT,MAAMqB,EAAqB,IAAIC,IAC/BlB,KAAKN,QAAQW,WAAWc,SAAQzB,IAC9B,MAAM0B,EAAsBH,EAAmB/F,IAAIwE,EAAQ2B,KAAKxF,MAC1DyF,OAA8C/D,IAAxB6D,EAAoC,CAAC,CAC/DZ,UAAWd,EAAQc,UACnB/B,OAAQiB,EAAQjB,OAChB4C,KAAM3B,EAAQ2B,KACdE,OAAQ7B,EAAQ6B,OAChBC,mBAAoB9B,EAAQ8B,mBAC5BC,eAAgB/B,EAAQ+B,iBACrBL,EAAoBM,OAAO,CAC9BlB,UAAWd,EAAQc,UACnB/B,OAAQiB,EAAQjB,OAChB4C,KAAM3B,EAAQ2B,KACdE,OAAQ7B,EAAQ6B,OAChBC,mBAAoB9B,EAAQ8B,mBAC5BC,eAAgB/B,EAAQ+B,iBAE1BR,EAAmBU,IAAIjC,EAAQ2B,KAAKxF,KAAMyF,MAE5C,MAAMM,EAAuB,GACvBC,EAA0B,GAC1BC,EAAwB,GACxBC,EAA2B,GAC3BC,EAA6B,GAEnC,IAAK,MAAM3D,KAAQ4C,EAAoB,CACrC,IAAK,CAAEgB,GAAqB5D,EAEvB2B,KAAKN,QAAQwC,0BAChBD,EAAoBjC,KAAKmC,mBAAmBF,IAI9C,MAAMG,EAAaH,EAAkB,GAAGZ,KACxC,IAAIgB,EAAsB,IAAI9G,EAAQsC,OAAO,IAAK,GAElD,IAAK,MAAM0C,KAAU0B,EAAmB,CAGtC,GAFAI,EAAsBA,EAAoBC,IAAI,IAAI/G,EAAQsC,OAAO0C,EAAO9B,OAAQ,IAE1D,iBAAlB8B,EAAOgB,OAA2B,CACpC,MAAMgB,SAA+BvC,KAAKL,SAAS6C,gBAAgBjC,EAAOC,UAAW4B,EAAY,MAAM,GACvG7B,EAAOgB,OAASgB,EAAwB,UAAY,aAGtD,OAAQhC,EAAOgB,QACb,IAAK,UACH,CACE,IAAIkB,EAEAlC,EAAOkB,iBAAgB,EAAIb,EAAO8B,OAAX,+EAC3B,MAAMH,SAA+BvC,KAAKL,SAAS6C,gBAAgBjC,EAAOC,UAAW4B,EAAY,MAAM,GAClGG,IAAuB,EAAI1B,EAAQ8B,MAAZ,oBAA+BpC,EAAOC,UAAtC,kCAC5B,MAAMoC,EAAyB,IAAIrH,EAAQqC,KAAK,IAAIrC,EAAQsC,OAAO0E,EAAsBzE,OAAOT,SAAU,GAAIlC,EAAIG,GAAGU,WAAWuG,EAAsBzE,OAAON,MAAO+E,EAAsBzE,OAAO3B,MAAQhB,EAAIG,GAAGU,WAAWuG,EAAsBzE,OAAO3B,MAAOhB,EAAIG,GAAG0C,aAAauE,EAAsB/F,WAAY+F,EAAsBxE,aACrU8E,EAA0B,IAAItH,EAAQqC,KAAK,IAAIrC,EAAQsC,OAAO0E,EAAsBzE,OAAOT,SAAU,GAAGiF,IAAI,IAAI/G,EAAQsC,OAA+D,QAAvD4E,EAAwBlC,EAAOiB,0BAA0D,IAA1BiB,EAAmCA,EAAwB,IAAK,IAAKtH,EAAIG,GAAGU,WAAWuG,EAAsBzE,OAAON,MAAO+E,EAAsBzE,OAAO3B,MAAQhB,EAAIG,GAAGU,WAAWuG,EAAsBzE,OAAO3B,WAAOoB,EAAWgF,EAAsBxE,aAC5b8E,EAAwBC,cAAcD,EAAwBE,gBAAgBT,IAAI,IAAI/G,EAAQsC,OAAO0C,EAAO9B,OAAQ,KACpHoD,EAAwBmB,KAAKJ,GAC7Bb,EAAyBiB,KAAKH,GAC9B,MAGJ,IAAK,aACH,CACE,IAAII,EAEA1C,EAAOkB,gBACTO,EAA2BgB,KAAK,IAAIzH,EAAQqC,KAAK,IAAIrC,EAAQsC,OAAO0C,EAAOkB,eAAgB,GAAItG,EAAIG,GAAGU,WAAWgE,KAAKL,SAASuD,cAAc3C,EAAOC,cAItJD,EAAOiB,mBAA8E,QAAxDyB,EAAyB1C,EAAOiB,0BAA2D,IAA3ByB,EAAoCA,GAA0B,IAAM,GAAGE,WACpK,MAAMN,EAA0B,IAAItH,EAAQqC,KAAK,IAAIrC,EAAQsC,OAAO0C,EAAOiB,mBAAoB,GAAGc,IAAI,IAAI/G,EAAQsC,OAAOuF,QAAO,EAAItC,EAAcuC,eAAerD,KAAKsD,wBAAwB/C,EAAOC,eAAgBrF,EAAIG,GAAGU,WAAWgE,KAAKL,SAASuD,cAAc3C,EAAOC,YAAarF,EAAIG,GAAGU,WAAWoG,QAAa7E,EAAW,IAAIhC,EAAQsC,OAAO0C,EAAO9B,OAAQ,GAAG8E,eACtWxB,EAAyBiB,KAAKH,GAC9B,QAMR,MACMW,SAD4BxD,KAAKL,SAAS6C,gBAAgBxC,KAAKJ,OAAQwC,EAAYC,EAAoB/E,gBAC7Dc,IAAIjD,EAAIG,GAAGoC,UAC3DkE,EAAqBoB,QAAQQ,GAC7B,MAAOC,EAAcC,GAAcF,EAAoBG,QAAO,EAAEF,EAAcC,GAAaE,IAGlF,CAFPH,EAAeA,EAAanB,IAAIsB,EAAMvG,UACtCqG,EAAaA,EAAWpB,IAAIsB,EAAMb,mBAEjC,CAACxH,EAAQsC,OAAOgG,KAAMtI,EAAQsC,OAAOgG,OAClCC,EAAuB,IAAIvI,EAAQqC,KAAK6F,EAC9CD,EAAoB,GAAGhG,KACvBgG,EAAoB,GAAGrH,UAAMoB,EAAWmG,EAAWH,eACnDO,EAAqBhB,cAAcgB,EAAqBf,gBAAgBgB,IAAI1B,IAC5EP,EAAsBkB,KAAKc,GAI7B,MAAME,EAA+BpC,EAAqB+B,QAAO,CAACM,EAAKC,IAASD,EAAI3B,IAAI4B,EAAK7G,WAAW9B,EAAQsC,OAAOgG,MACjHM,EAAgCrC,EAAsB6B,QAAO,CAACM,EAAKC,IAASD,EAAI3B,IAAI4B,EAAK7G,WAAW9B,EAAQsC,OAAOgG,MACnHO,EAAkCvC,EAAwB8B,QAAO,CAACM,EAAKC,IAASD,EAAI3B,IAAI4B,EAAK7G,WAAW9B,EAAQsC,OAAOgG,MACvHQ,EAAmCtC,EAAyB4B,QAAO,CAACM,EAAKC,IAASD,EAAI3B,IAAI4B,EAAK7G,WAAW9B,EAAQsC,OAAOgG,MACzHS,EAAqCtC,EAA2B2B,QAAO,CAACM,EAAKC,IAASD,EAAI3B,IAAI4B,EAAK7G,WAAW9B,EAAQsC,OAAOgG,MAC7HU,EAA0BH,EAAgC9B,IAAI0B,GAC9DQ,EAA2BH,EAAiC/B,IAAI6B,GAA+B7B,IAAIgC,GACnGG,EAA0B,IAAIlJ,EAAQyD,YAAY,IAAIzD,EAAQ0D,eAAe2C,EAAqBF,OAAOG,GAA0BC,EAAsBJ,OAAOK,GAA0BL,OAAOM,SAAmChC,KAAK0E,mBAAmB9C,EAAqBF,OAAOG,GAA0BC,EAAsBJ,OAAOK,KAA6BH,EAAqBxD,KAAI,IAAM4B,KAAK2E,sBAAsB3E,KAAKJ,WAI3agF,EAF2BrJ,EAAQsJ,QAAQC,QAAQL,EAAyBM,OAAO/E,KAAKL,SAASqF,OAAOC,eAE1D3C,IAAIkC,EAAyBT,IAAIQ,IAC/EW,EAA8BpD,EAAsBxB,MAAK4D,GAAQA,EAAK7G,SAAS0G,IAAI,IAAIxI,EAAQsC,OAAOuF,QAAO,EAAItC,EAAcuC,eAAerD,KAAKsD,wBAAwBtD,KAAKJ,YAAYuF,IAAIP,KAEtM,GAAIM,EAEF,OADAA,EAA4B7H,SAAW6H,EAA4B7H,SAAS0G,IAAIa,GACzEH,EAIT,MAAMW,EAA0BpF,KAAKsD,wBAAwBtD,KAAKJ,QAK5DyF,EAJwBb,EAC7BlC,IAAI,IAAI/G,EAAQsC,OAAOuF,QAAO,EAAItC,EAAcwE,uBAAuBF,MAEvE9C,IAAI,IAAI/G,EAAQsC,OAAO,MACyBkG,IAAIQ,GAC/CgB,QAAgCvF,KAAKL,SAAS6F,oBAAoBxF,KAAKJ,OAAQyF,EAAmB/H,eAClGmI,EAA2BF,EAAwBnH,IAAIjD,EAAIG,GAAGoC,UAE9DgI,EAAqBvK,EAAIG,GAAGoC,SAAS6H,EAAwB,IAEnEG,EAAmBrI,SAAWoI,EAAyB9B,QAAO,CAACM,EAAKC,IAASD,EAAI3B,IAAI4B,EAAK7G,WAAW9B,EAAQsC,OAAOgG,MACpH,MAAMrF,EAAaoD,EAAqBF,OAAOG,GAAyBH,OAAO+D,GACzE/G,EAAUoD,EAAsBJ,OAAOK,GAA0BL,OAAOM,GAA4BN,OAAO,CAACgE,IAC5GC,EAAuB,IAAIpK,EAAQyD,YAAY,IAAIzD,EAAQ0D,eAAeT,EAAYE,QAAesB,KAAK0E,mBAAmBlG,EAAYE,IAAWkD,EAAqBxD,KAAI,IAAM4B,KAAK2E,sBAAsB3E,KAAKJ,WAEnNgG,EAAMrK,EAAQsJ,QAAQC,QAAQa,EAAsBZ,OAAO/E,KAAKL,SAASqF,OAAOC,eAGtF,OADAS,EAAmBrI,SAAWqI,EAAmBrI,SAAS0G,IAAI6B,GAAKtD,IAAIiC,GAAyBR,IAAIS,GAC7FmB,EAGTrC,wBAAwB5C,GACtB,OAAQV,KAAKL,SAASuD,cAAcxC,GAAS7E,KAAKgK,OAAS,GAAK,EAGlE1D,mBAAmBzC,GACjB,MAAMyC,EAAqB,IAAIjB,IAW/B,OAVAxB,EAAQyB,SAAQZ,IACd,MAAMuF,EAAgB3D,EAAmBjH,IAAIqF,EAAOC,WAEpD,GAAIsF,EAAe,CACjB,GAAIA,EAAcvE,SAAWhB,EAAOgB,OAAQ,MAAM,IAAIwE,MAAM,wDAC5DD,EAAcrH,OAAS,IAAIlD,EAAQsC,OAAOiI,EAAcrH,OAAQ,GAAG6D,IAAI,IAAI/G,EAAQsC,OAAO0C,EAAO9B,OAAQ,IAAInB,mBAE7G6E,EAAmBR,IAAIpB,EAAOC,UAAWD,MAGtCyF,MAAMC,KAAK9D,EAAmB+D,WAKzCnL,EAAQqF,sBAAwBA,G,kCCvLhCvF,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQoL,GAAKA,EACbtL,OAAOC,eAAeC,EAAS,YAAa,CAC1CE,YAAY,EACZC,IAAK,WACH,OAAOkL,EAAWC,aAGtBtL,EAAQuL,UAAYvL,EAAQ8C,YAAS,EAErC,IAAIuI,EAAa5K,EAAQ,KAErBoF,EAASpF,EAAQ,KAErB,SAAS+K,EAAgB1G,EAAKC,EAAK9E,GAAiK,OAApJ8E,KAAOD,EAAOhF,OAAOC,eAAe+E,EAAKC,EAAK,CAAE9E,MAAOA,EAAOC,YAAY,EAAMgF,cAAc,EAAMC,UAAU,IAAkBL,EAAIC,GAAO9E,EAAgB6E,EAE3M,SAASsG,EAAGK,GACV,MAAmB,kBAARA,GACP3I,EAAO4I,cAAcD,GADW,IAAIJ,EAAWC,UAAUjD,OAAOoD,IAE7D,IAAIJ,EAAWC,UAAUG,GAGlC,MAAM3I,EACgB,qBAACnC,GACnB,MAAiB,kBAANA,IACF,MAALA,IACG,qBAAsBA,GAAKA,EAAEgL,mBAc3B,YAAC1L,EAAO2L,EAAW,GAE5B,OADIA,EAAW,IAAM5B,OAAO6B,UAAUD,MAAW,EAAI/F,EAAO+B,MAAM,yBAC5B,IAAI9E,EAArB,kBAAV7C,EAAsCmL,EAAGnL,EAAQ6L,OAAO,KAAOA,OAAOF,IAC5EA,EACaR,EAAGnL,GAAO8L,MAAMX,EAAG,IAAIY,IAAIJ,IADZR,EAAGnL,IAStCyE,YAAYuH,GAKV,GAJAT,EAAgBvG,KAAM,oBAAoB,GAE1CuG,EAAgBvG,KAAM,WAAO,IAExBgH,EAAGJ,YAAa,MAAM,IAAIb,MAAM,6BACrC,GAAIiB,EAAGC,GAAG,GAAI,MAAM,IAAIlB,MAAM,2CAC9B/F,KAAK9B,IAAM,IAAIkI,EAAWC,UAAUW,GAGtCE,SAASxH,GACP,MAAM,cACJyH,EAAgBC,IADZ,UAEJC,GAAY,EAFR,SAGJV,EAAW,GACTjH,GAAoB,GAClB4H,EAAkBtH,KAAK9B,IAAI4I,MAAMX,EAAG,IAAIY,KAAKJ,IAC7CY,EAAsBD,EAAgBH,gBACtCK,EAAUF,EAAgBH,cAAcM,KAAKC,IAAIH,EAAqBJ,GAAgBf,EAAWC,UAAUsB,aACjH,OAAIN,EAAkBG,EAAQI,WACvBJ,EAAQrE,WAGjB0E,IAAIrB,GACF,OAAO,IAAI3I,EAAO2I,GAGpBrD,SAAS2E,GACP,OAAO9H,KAAK9B,IAAIiF,SAAS2E,GAG3BC,QACE,MAAO,KAAO/H,KAAKmD,SAAS,IAG9B6E,GAAGxB,GACD,OAAOxG,KAAK9B,IAAI8J,GAAG7B,EAAGK,IAGxByB,GAAGzB,GACD,OAAOxG,KAAK9B,IAAI+J,GAAG9B,EAAGK,IAGxBrB,IAAIqB,GACF,OAAOxG,KAAK9B,IAAIiH,IAAIgB,EAAGK,IAGzBS,GAAGT,GACD,OAAOxG,KAAK9B,IAAI+I,GAAGd,EAAGK,IAGxB0B,IAAI1B,GACF,OAAOxG,KAAK9B,IAAIgK,IAAI/B,EAAGK,IAGzB2B,KAAK3B,GACH,OAAOxG,KAAK6H,IAAI7H,KAAK9B,IAAIiK,KAAKhC,EAAGK,KAGnC4B,MAAM5B,GACJ,OAAOxG,KAAK6H,IAAI7H,KAAK9B,IAAIkK,MAAMjC,EAAGK,KAGpC6B,OACE,OAAO,IAAIjC,EAAWC,UAAUrG,KAAK9B,MAKzCnD,EAAQ8C,OAASA,EAEjB,MAAMyI,UAAkBzI,EAIX,cACT,MAAM,IAAIkI,MAAM,qCAGJ,eAAC/K,GACb,OAAO,IAAIsL,EAAUH,EAAGnL,GAAO8L,MAAM,IAAM,IAG3B,mBAAC9L,GACjB,OAAO,IAAIsL,EAAUH,EAAGnL,IAG1B6M,IAAIrB,GACF,OAAO,IAAIF,EAAUE,GAGvBU,SAASxH,GACP,OAAOK,MAAMmH,SAAS,IAAKxH,EACzBiH,SAAU,KAMhB5L,EAAQuL,UAAYA,G,kCCzJpBzL,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQuN,YAgCR,SAAqBC,GAAS,GAC5B,IAAInM,EAAOoM,EACPD,IAAQnM,EAAOqM,GACnB,OAAOrM,GAlCTrB,EAAQ2N,UAAO,EAEf,IAAInN,EAAUC,EAAQ,IAyBtBT,EAAQ2N,KApBK,CAIb,CACEC,KAAM,MACNC,IAAK,yBACLC,MAAO,GACN,CACDF,KAAM,iBACNC,IAAK,wBACLC,MAAO,GACN,CACDF,KAAM,eACNC,IAAK,yBACLC,MAAO,GACN,CACDF,KAAM,OACNC,IAAK,wBAGP,MAAMJ,EAAiB,CAAC,IAAIjN,EAAQuB,QAAQvB,EAAQwB,QAAQE,KAAM,IAAI1B,EAAQ2B,SAAS,qEAAsE,QAAS,IAAI3B,EAAQuB,QAAQvB,EAAQwB,QAAQE,KAAM,IAAI1B,EAAQ2B,SAAS,qEAAsE,QAAS,IAAI3B,EAAQuB,QAAQvB,EAAQwB,QAAQE,KAAM,IAAI1B,EAAQ2B,SAAS,qEAAsE,SACnbuL,EAAe,CAAC,IAAIlN,EAAQuB,QAAQvB,EAAQwB,QAAQE,KAAM,IAAI1B,EAAQ2B,SAAS,qEAAsE,QAAS,IAAI3B,EAAQuB,QAAQvB,EAAQwB,QAAQE,KAAM,IAAI1B,EAAQ2B,SAAS,qEAAsE,QAAS,IAAI3B,EAAQuB,QAAQvB,EAAQwB,QAAQE,KAAM,IAAI1B,EAAQ2B,SAAS,qEAAsE,U,kCCjCvbrC,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ+N,wBAAqB,EAE7B,IAAIzJ,EAAU7D,EAAQ,KAElB8D,EAA8B9D,EAAQ,KAEtCuN,EAAwBvN,EAAQ,MAGpC,MAAMsN,UAA2BxJ,EAA4BE,2BAC3DC,YAAYC,EAASC,EAAUC,GAC7BG,QACAC,KAAKN,QAAUA,EACfM,KAAKL,SAAWA,EAChBK,KAAKJ,OAASA,EAGL,cAET,GADuBI,KAAKN,QAAQW,WAAW2I,MAAK3K,GAAQA,EAAKmC,YAAcR,KAAKJ,QAAkC,YAAxBvB,EAAK4K,iBAC/E,MAAM,IAAI5J,EAAQoB,6BAA6B,CACjEC,QAASV,KAAKJ,SAGhB,OADgB,IAAImJ,EAAsBG,qBAAqBlJ,KAAKN,QAASM,KAAKL,SAAUK,KAAKJ,QAClFe,SAKnB5F,EAAQ+N,mBAAqBA,G,kCC/B7BjO,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQmO,0BAAuB,EAE/B,IAAI3N,EAAUC,EAAQ,IAElB2N,EAAQ3N,EAAQ,KAEhB6D,EAAU7D,EAAQ,KAElBL,EAAMK,EAAQ,KAEdsF,EAAgBtF,EAAQ,KAExBuF,EAA2BvF,EAAQ,KAEvC,MAAM0N,UAA6BnI,EAAyBC,wBAC1DvB,YAAYC,EAASC,EAAUC,GAC7BG,MAAMJ,GACNK,KAAKN,QAAUA,EACfM,KAAKJ,OAASA,EAGL,cACT,MAAMwJ,EAAwBpJ,KAAKN,QAAQW,WAAWgJ,QAAOhL,GAAgC,eAAxBA,EAAK4K,iBAAiC7K,KAAIC,GAAQ,IAAI9C,EAAQqC,KAAK,IAAIrC,EAAQsC,OAAOQ,EAAKI,OAAQ,GAAItD,EAAIG,GAAGU,WAAWgE,KAAKL,SAASuD,cAAc7E,EAAKmC,eACzN8I,EAAatJ,KAAKN,QAAQW,WAAWgJ,QAAOhL,GAAgC,YAAxBA,EAAK4K,iBACzDM,GAAqB,EAAIJ,EAAMlD,MAAMqD,GAAYE,MAAK,EAAIL,EAAMM,WAAUC,UAC9E,MACMC,SADkB3J,KAAKL,SAAS6F,oBAAoBnH,EAAKmC,UAAW,MAC/C,GAC3B,IAAKmJ,EAAU,MAAM,IAAItK,EAAQuK,qBAAqB,CACpDpM,KAAMwC,KAAKL,SAASuD,cAAc7E,EAAKmC,aAGzC,MAAM0D,EAAO/I,EAAIG,GAAGoC,SAASiM,GAG7B,OADAzF,EAAK7G,SAAW6G,EAAK7G,SAASiF,IAAI,IAAI/G,EAAQsC,OAAOQ,EAAKI,OAAQ,IAC3DyF,MACL,EAAIiF,EAAMU,YACRC,QAA0B,EAAIX,EAAMY,eAAeR,GACnDS,EAAkBZ,EAAsBzF,QAAO,CAACsG,EAAe/F,IAAS+F,EAAc3H,IAAI4B,EAAK7G,WAAW9B,EAAQsC,OAAOgG,MACzHqG,EAAsBZ,EAAW3F,QAAO,CAACsG,EAAe5L,IAAS4L,EAAc3H,IAAI,IAAI/G,EAAQsC,OAAOQ,EAAKI,OAAQ,KAAKlD,EAAQsC,OAAOgG,MAKvIsG,SAJwBnK,KAAKL,SAAS6F,oBAAoBxF,KAAKJ,OAAQsK,EAAoB5H,IAAI0H,GACpG1H,IAAI,IAAI/G,EAAQsC,OAAOuF,QAAO,EAAItC,EAAcwE,4BAEhDhD,IAAI,IAAI/G,EAAQsC,OAAO,MAAMP,gBACMc,IAAIjD,EAAIG,GAAGoC,UAE/C,IAAKyM,EAAYtE,SAAWsE,EAAY,GACtC,MAAM,IAAI9K,EAAQuK,qBAAqB,CACrCpM,KAAMwC,KAAKL,SAASuD,cAAclD,KAAKJ,UAK3C,MAAMwK,EAAeD,EAAY,GACjCC,EAAa/M,SAAW8M,EAAYxG,QAAO,CAAC0G,EAAKnG,IAASmG,EAAI/H,IAAI4B,EAAK7G,WAAW,IAAI9B,EAAQsC,OAAO,IAAK,IAC1G,MAAMW,EAAa,IAAI2L,KAAgBL,GACjCpL,EAAU,CAAC0L,KAAiBN,KAAsBV,GAClDnL,EAAK,IAAI1C,EAAQyD,YAAY,IAAIzD,EAAQ0D,eAAeT,EAAYE,QAAesB,KAAK0E,mBAAmBlG,EAAYE,IAAW,CAACsB,KAAK2E,sBAAsB3E,KAAKJ,UACnKgG,EAAMsD,EAAqBpE,QAAQ7G,GAEzC,OADAmM,EAAa/M,SAAW+M,EAAa/M,SAAS0G,IAAIiG,GAAiBjG,IAAImG,GAAqBnG,IAAI6B,GACzF3H,GAKXlD,EAAQmO,qBAAuBA,G,kCCnE/BrO,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQuP,qBAAkB,EAE1B,IAAIjL,EAAU7D,EAAQ,KAElB8D,EAA8B9D,EAAQ,KAEtC+O,EAAqB/O,EAAQ,MAEjC,MAAM8O,UAAwBhL,EAA4BE,2BACxDC,YAAYC,EAASC,EAAUC,GAC7BG,QACAC,KAAKN,QAAUA,EACfM,KAAKL,SAAWA,EAChBK,KAAKJ,OAASA,EAGQ,2BACtB,MAAMO,EAAU,IAAIoK,EAAmBC,oBAAoBxK,KAAKN,QAASM,KAAKL,SAAUK,KAAKJ,QAC7F,aAAaO,EAAQQ,QAGZ,cAET,GADmBX,KAAKN,QAAQW,WAAW2I,MAAK3K,GAAQA,EAAKmC,YAAcR,KAAKJ,QAAkC,eAAxBvB,EAAK4K,iBAC/E,MAAM,IAAI5J,EAAQoB,6BAA6B,CAC7DC,QAASV,KAAKJ,SAEhB,OAAOI,KAAKyK,sBAKhB1P,EAAQuP,gBAAkBA,G,kCClC1BzP,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQyP,yBAAsB,EAE9B,IAAIjP,EAAUC,EAAQ,IAElB2N,EAAQ3N,EAAQ,KAEhB6D,EAAU7D,EAAQ,KAElBkP,EAAWlP,EAAQ,KAEnBL,EAAMK,EAAQ,KAEdsF,EAAgBtF,EAAQ,KAExBuF,EAA2BvF,EAAQ,KAEvC,MAAMgP,UAA4BzJ,EAAyBC,wBACzDvB,YAAYC,EAASC,EAAUgL,GAC7B5K,MAAMJ,GACNK,KAAKN,QAAUA,EACfM,KAAK2K,cAAgBA,EAGZ,cACT,MAAMC,EAAsB5K,KAAKL,SAASkL,cAAc7K,KAAK2K,eAEvDG,EAAwB9K,KAAKN,QAAQW,WAAWgJ,QAAOhL,GAAgC,eAAxBA,EAAK4K,iBAAiC7K,KAAIC,IAC7G,IAAI0M,EAEJ,MAAMC,GAA6BhL,KAAKL,SAASuD,cAAc7E,EAAKmC,WAAW3E,KAAKgK,OAAS,GAAK,EAClG,OAAO,IAAItK,EAAQqC,KAAK,IAAIrC,EAAQsC,OAAOuF,QAAO,EAAIsH,EAASvE,IAAI9H,EAAKmD,oBAAsB,IAAK,GAAGc,IAAI,IAAI/G,EAAQsC,OAAOuF,QAAO,EAAItC,EAAcuC,eAAe2H,MAA+B7P,EAAIG,GAAGU,WAAWgE,KAAKL,SAASuD,cAAc7E,EAAKmC,YACvPrF,EAAIG,GAAGU,WAAwC,QAA5B+O,EAAa1M,EAAKgD,YAAiC,IAAf0J,EAAwBA,EAAaH,QAC5FrN,EAAW,IAAIhC,EAAQsC,OAAOQ,EAAKI,OAAQ,GAAG8E,kBAG1C0H,EAAuBjL,KAAKN,QAAQW,WAAWgJ,QAAOhL,GAAgC,YAAxBA,EAAK4K,iBACnEiC,GAAuB,EAAI/B,EAAMlD,MAAMgF,GAAsBzB,MACnE,EAAIL,EAAMM,WAAUC,UAClB,IAAIyB,EAEJ,MAAMxB,SAAkB3J,KAAKL,SAAS6C,gBAAgBnE,EAAKmC,UAAyC,QAA7B2K,EAAc9M,EAAKgD,YAAkC,IAAhB8J,EAAyBA,EAAcP,EAAqB,MAAM,GAE9K,IAAKjB,EACH,MAAM,IAAItK,EAAQuK,qBAAqB,CACrCpM,KAAMwC,KAAKL,SAASuD,cAAc7E,EAAKmC,WACvCrE,KAAMyO,IAIV,MAAM1G,EAAO/I,EAAIG,GAAGoC,SAASiM,GAI7B,OAFAzF,EAAK7G,SAAW6G,EAAK7G,SAASiF,IAAI,IAAI/G,EAAQsC,OAAOQ,EAAKmD,oBAAsB,IAAK,IACrF0C,EAAKpB,cAAcoB,EAAKnB,gBAAgBT,IAAI,IAAI/G,EAAQsC,OAAOQ,EAAKI,OAAQ,KACrEyF,IACN,IAAI,EAAIiF,EAAMU,YACXuB,QAA4B,EAAIjC,EAAMY,eAAemB,GACrDG,EAAgCP,EAAsBnH,QAAO,CAACM,EAAKqH,IAAgBrH,EAAI3B,IAAIgJ,EAAYjO,WAAW9B,EAAQsC,OAAOgG,MACjI0H,EAAwCN,EAAqBtH,QAAO,CAACM,EAAKuH,IAAcvH,EAAI3B,IAAI,IAAI/G,EAAQsC,OAAO2N,EAAUhK,oBAAsB,IAAK,KAAKjG,EAAQsC,OAAOgG,MAC5K4H,EAA2BJ,EAA8B/I,IAAIiJ,GAClEjJ,IAAI,IAAI/G,EAAQsC,OAAOuF,QAAO,EAAItC,EAAcwE,4BAEhDhD,IAAI,IAAI/G,EAAQsC,OAAO,MAElB6N,SADwB1L,KAAKL,SAAS6F,oBAAoBxF,KAAK2K,cAAec,EAAyBnO,gBACzEc,IAAIjD,EAAIG,GAAGoC,UAEzCiO,EAAeD,EAAY,GAAGE,QACpCD,EAAatO,SAAWqO,EAAY/H,QAAO,CAACM,EAAK4H,IAAc5H,EAAI3B,IAAIuJ,EAAUxO,WAAW9B,EAAQsC,OAAOgG,MAC3G,MAAMrF,EAAa,IAAIkN,KAAgBN,GACjC1M,EAAU,CAACiN,KAAiBb,KAA0BM,GACtDU,EAAQ,IAAIvQ,EAAQ0D,eAAeT,EAAYE,QAAesB,KAAK0E,mBAAmBlG,EAAYE,IAClGT,EAAK,IAAI1C,EAAQyD,YAAY8M,EAAO,CAAC9L,KAAK2E,sBAAsB3E,KAAK2K,iBAErE/E,EAAMrK,EAAQsJ,QAAQC,QAAQ7G,EAAI8G,OAAO/E,KAAKL,SAASqF,OAAOC,eAGpE,OADA0G,EAAatO,SAAWsO,EAAatO,SAAS0G,IAAI6B,GAAK7B,IAAIsH,GAA+BtH,IAAIwH,GACvFtN,GAKXlD,EAAQyP,oBAAsBA,G,kCCnF9B3P,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAGT,IAAI+Q,EAA8BvQ,EAAQ,MAE1CX,OAAOmR,KAAKD,GAA6B5K,SAAQ,SAAUrB,GAC7C,YAARA,GAA6B,eAARA,IACrBA,KAAO/E,GAAWA,EAAQ+E,KAASiM,EAA4BjM,IACnEjF,OAAOC,eAAeC,EAAS+E,EAAK,CAClC7E,YAAY,EACZC,IAAK,WACH,OAAO6Q,EAA4BjM,UAKzC,IAAImM,EAAoBzQ,EAAQ,MAEhCX,OAAOmR,KAAKC,GAAmB9K,SAAQ,SAAUrB,GACnC,YAARA,GAA6B,eAARA,IACrBA,KAAO/E,GAAWA,EAAQ+E,KAASmM,EAAkBnM,IACzDjF,OAAOC,eAAeC,EAAS+E,EAAK,CAClC7E,YAAY,EACZC,IAAK,WACH,OAAO+Q,EAAkBnM,UAK/B,IAAIoM,EAAU1Q,EAAQ,KAEtBX,OAAOmR,KAAKE,GAAS/K,SAAQ,SAAUrB,GACzB,YAARA,GAA6B,eAARA,IACrBA,KAAO/E,GAAWA,EAAQ+E,KAASoM,EAAQpM,IAC/CjF,OAAOC,eAAeC,EAAS+E,EAAK,CAClC7E,YAAY,EACZC,IAAK,WACH,OAAOgR,EAAQpM,W,kCCtCrBjF,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQoR,gCAA6B,EAErC,IAAIvL,EAASpF,EAAQ,KAEjB8D,EAA8B9D,EAAQ,KAEtC4Q,EAAgC5Q,EAAQ,MAsB5C,MAAM2Q,UAAmC7M,EAA4BE,2BACnEC,YAAYC,EAASC,GArBvB,IAAyBE,EAAKC,EAAK9E,EAsB/B+E,QACAC,KAAKN,QAAUA,EACfM,KAAKL,SAAWA,EAxBe3E,OA0BWuC,GA1BhBuC,EA0BJ,sBA1BDD,EA0BLG,MA1B0CnF,OAAOC,eAAe+E,EAAKC,EAAK,CAAE9E,MAAOA,EAAOC,YAAY,EAAMgF,cAAc,EAAMC,UAAU,IAAkBL,EAAIC,GAAO9E,EA6B9K,cAET,OADAgF,KAAKqM,uBAAyB,IAAID,EAA8BE,6BAA6BtM,KAAKN,QAASM,KAAKL,UAAUgB,QACnHX,KAAKqM,iBAOdE,cACE,IAAKvM,KAAKqM,iBAAkB,MAAM,IAAItG,MAAM,gCAC5C,MAAMyG,EAAgBxM,KAAKqM,iBAAiBnO,IAAIQ,QAAQ,GAExD,OADA,EAAIkC,EAAO6L,WAAWD,GAAiBA,EAAcrQ,MAC9CqQ,EAAcrQ,KAAKuQ,SAG5BC,oBACE,IAAK3M,KAAKqM,iBAAkB,MAAM,IAAItG,MAAM,gCAC5C,MAAMyG,EAAgBxM,KAAKqM,iBAAiBnO,IAAIQ,QAAQ,GAExD,OADA,EAAIkC,EAAO6L,WAAWD,GAAiBA,EAAcrQ,MAC9CqQ,EAAchP,KAAKkP,UAK9B3R,EAAQoR,2BAA6BA,G,kCCjErCtR,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQuR,kCAA+B,EAEvC,IAsBgCzM,EAtB5B+M,EAAQpR,EAAQ,IAEhBqR,EAAQrR,EAAQ,KAEhB0Q,EAAU1Q,EAAQ,KAElBoF,EAASpF,EAAQ,KAEjBD,EAAUC,EAAQ,IAElBsR,EAAgBtR,EAAQ,KAExBuR,GAU4BlN,EAVGrE,EAAQ,OAUUqE,EAAImN,WAAanN,EAAM,CAAEoN,QAASpN,GARnF6K,EAAWlP,EAAQ,KAEnBL,EAAMK,EAAQ,KAEdsF,EAAgBtF,EAAQ,KAExBuF,EAA2BvF,EAAQ,KAIvC,MAAM8Q,UAAqCvL,EAAyBC,wBAClEvB,YAAYC,EAASC,GACnBI,MAAMJ,GACNK,KAAKN,QAAUA,EACfM,KAAKL,SAAWA,EAGP,cACT,MAAM,SACJuN,EADI,WAEJC,GACEnN,KAAKN,QACHC,EAAWK,KAAKL,SAChByN,GAAU,EAAIlB,EAAQmB,kBAAkB,CAC5C1E,KAAMmE,EAAcQ,OAAOC,cAAcL,EAASvE,MAAM6E,gBACxDC,OAAQX,EAAcQ,OAAOC,cAAcL,EAASO,QAAQD,gBAC5D7G,SAAUuG,EAASvG,SACnB+G,YAAaZ,EAAcQ,OAAOC,cAAcL,EAASQ,aAAaF,kBAElEG,GAAoB,EAAI7M,EAAc8M,iBAAiB,GAM3D,GAAI,GAQJR,EAAQS,YAGJC,EAAcnO,EAASoO,UAAU,UAAWnN,EAAOoN,MAAMtM,OAAOyL,EAAWc,KAAMd,EAAWe,WAAY,IACxGC,EAAiBxO,EAASyO,eAAeN,GACzCO,QAAwB1O,EAAS6F,oBAAoB2I,EAAgBzD,EAASpE,UAAUgI,SAAQ,EAAIxN,EAAc8M,iBAAiB,GAIvI,EAAG,GACLD,EACA,GACE5F,UACF,EAAInH,EAAO6L,WAAW4B,EAAgB,IAEtC,MAAME,EAAepT,EAAIG,GAAGU,WAAW2D,EAAS6O,qBAAqB,CACnEC,gBAAiBJ,EAAgB,GAAG7R,UACpC8B,MAAO,OACN,QAEGoQ,EAAevT,EAAIG,GAAGU,WAAW2D,EAASoO,UAAU,UAAWnN,EAAOoN,MAAMtM,OAAOyL,EAAWc,KAAMd,EAAWe,WAAY,KAE/HK,EAAa7B,YAETiC,EAAa,IAAIpT,EAAQqC,KAAK,IAAIrC,EAAQsC,OAAOuF,OAAOuK,GAAoB,GAAIe,EAAcH,OAAchR,EAAWqD,EAAOoN,MAAMtM,QAAO,EAAImL,EAAM+B,gBAAgB1C,EAAQ2C,qBAAqBC,OAAO,CAC7MnQ,QAAS,EACToQ,eAAgBhC,EAAME,QAAQpG,OAAO,GACrCmI,WAAYjC,EAAME,QAAQpG,OAAOqG,EAAS+B,WAC1CC,iBAAkBtC,EAAMuC,MAAMC,kBAAkBzP,EAASkL,cAAc1P,EAAIG,GAAGG,aAAaiT,SACxF,EAAI7B,EAAM+B,gBAAgB,IAAIS,WAAWjC,MACxCjD,EAAckE,EAAgBjQ,IAAIjD,EAAIG,GAAGoC,UACzC0M,EAAeD,EAAY,IACjC,EAAIvJ,EAAO6L,WAAWrC,GACtBA,EAAa/M,SAAW8M,EAAYxG,QAAO,CAAC0G,EAAKiF,IAASjF,EAAI/H,IAAIgN,EAAKjS,WAAW,IAAI9B,EAAQsC,OAAO,MACrG,MAAM0R,EAAiB,IAAIhU,EAAQ0D,eAAekL,EAAa,CAACwE,EAAYvE,SAAqBpK,KAAK0E,mBAAmByF,EAAa,CAACwE,EAAYvE,KAC7InM,EAAK,IAAI1C,EAAQyD,YAAYuQ,EAAgB,CAACvP,KAAK2E,sBAAsBhF,EAASyO,eAAezO,EAASoO,UAAU,eACpHnI,EAAM0G,EAA6BxH,QAAQ7G,GAEjD,OADAmM,EAAa/M,SAAW+M,EAAa/M,SAAS0G,IAAI,IAAIxI,EAAQsC,OAAOuF,OAAOuK,GAAoB,IAAI5J,IAAI6B,GACjG3H,GAKXlD,EAAQuR,6BAA+BA,G,kCCzGvCzR,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQyU,sBAAmB,EAE3B,IAAIlQ,EAA8B9D,EAAQ,KAEtCiU,EAAsBjU,EAAQ,MAKlC,MAAMgU,UAAyBlQ,EAA4BE,2BACzDC,YAAYC,EAASC,GACnBI,QACAC,KAAKN,QAAUA,EACfM,KAAKL,SAAWA,EAGlBgB,QACE,OAAO,IAAI8O,EAAoBC,mBAAmB1P,KAAKN,QAASM,KAAKL,UAAUgB,SAKnF5F,EAAQyU,iBAAmBA,G,kCCzB3B3U,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ2U,wBAAqB,EAE7B,IAwBgC7P,EAxB5B8P,EAAYnU,EAAQ,KAEpB0Q,EAAU1Q,EAAQ,KAElBoF,EAASpF,EAAQ,KAEjBD,EAAUC,EAAQ,IAElBuR,GAgB4BlN,EAhBGrE,EAAQ,OAgBUqE,EAAImN,WAAanN,EAAM,CAAEoN,QAASpN,GAdnF+P,EAAUpU,EAAQ,KAElB2N,EAAQ3N,EAAQ,KAEhB6D,EAAU7D,EAAQ,KAElBL,EAAMK,EAAQ,KAEdqF,EAAUrF,EAAQ,KAElBsF,EAAgBtF,EAAQ,KAExBuF,EAA2BvF,EAAQ,KAIvC,MAAMkU,UAA2B3O,EAAyBC,wBACxDvB,YAAYC,EAASC,GACnBI,MAAMJ,GACNK,KAAKN,QAAUA,EACfM,KAAKL,SAAWA,EAGS,8BACzB,MAAMkQ,EAAS,IAAI3D,EAAQ4D,mBAAmB9P,KAAKL,SAASoQ,QAAS,CACnEC,OAAQhQ,KAAKL,SAASsQ,kBAAkB,WACxCC,SAAUlQ,KAAKL,SAASsQ,kBAAkB,UAEtCE,QAA0BN,EAAOO,qBAAqBpQ,KAAKN,SAC3D8M,GAAgB,EAAI3L,EAAQwP,aAAaF,EAAkB,IAC3DG,EAAUtQ,KAAKL,SAASkL,cAAc7K,KAAKL,SAASyO,eAAe5B,EAAc1O,OAAON,QAEvF+S,EAAsBC,IAAqB,EAAIZ,EAAQa,WAAWzQ,KAAKN,QAAQW,YAAYhC,GAAgC,iBAAxBA,EAAK4K,iBAEzGyH,GAAmB,EAAId,EAAQe,SAASJ,GAAsBlS,GAAQA,EAAKmC,YAE3EoQ,GAA6B,EAAIhB,EAAQxR,KAAKsS,GAAkBG,GAASA,EAAMlN,QAAO,CAACmN,EAAMC,KAAP,IAAuBD,EACjHrS,OAAQ,IAAIlD,EAAQsC,OAAOiT,EAAKrS,OAAQ,GAAG6D,IAAI,IAAI/G,EAAQsC,OAAOkT,EAAMtS,OAAQ,IAAInB,cACpFkE,mBAAoB,IAAIjG,EAAQsC,OAAOiT,EAAKtP,oBAAsB,IAAK,GAAGc,IAAI,IAAI/G,EAAQsC,OAAOkT,EAAMvP,oBAAsB,IAAK,IAAIlE,oBAElI+C,GAAa,EAAI8I,EAAMlD,MAAM2K,GAA4BpH,MAAK,EAAIL,EAAMM,WAAUpL,GAAQ2B,KAAKL,SAAS6C,gBAAgBnE,EAAKmC,UAAW8P,EAAS,KAAKU,MAAKC,IAAS,IAAM5S,EAC9K4K,eAAgBgI,EAAMpL,OAAS,EAAI,UAAY,kBAC5C,IAAI,EAAIsD,EAAMU,YAEnB,aAD6C,EAAIV,EAAMY,eAAe1J,IAChCqB,OAAO8O,GAGpC,cACTxQ,KAAKN,QAAU,IAAKM,KAAKN,QACvBW,iBAAkBL,KAAKkR,yBAEzB,MAAMrB,EAAS,IAAI3D,EAAQ4D,mBAAmB9P,KAAKL,SAASoQ,QAAS,CACnEC,OAAQhQ,KAAKL,SAASsQ,kBAAkB,WACxCC,SAAUlQ,KAAKL,SAASsQ,kBAAkB,UAEtCE,QAA0BN,EAAOO,qBAAqBpQ,KAAKN,SAC3D8M,GAAgB,EAAI3L,EAAQwP,aAAaF,EAAkB,KAE3D,iBACJgB,EADI,wBAEJC,GACElF,EAAQmF,iBAAiBC,QAAO,EAAI3B,EAAU4B,UAAU/E,EAAc1O,OAAON,KAAK3B,OAEhF2V,EAAWrW,EAAIG,GAAGoC,SAAS8O,GAE3BiF,EAA0BzR,KAAKL,SAASyO,eAAepO,KAAKL,SAASoO,UAAU,WAAW,EAAI4B,EAAUf,gBAAgB1C,EAAQwF,mBAAmB5C,OAAO,CAC9JqC,mBACAC,0BACAO,aAAc,IAGZ,CACFC,OAAO,MAEHtB,EAAUtQ,KAAKL,SAASkL,cAAc7K,KAAKL,SAASyO,eAAe5B,EAAc1O,OAAON,OAExFsN,EAAwB9K,KAAKN,QAAQW,WAAWgJ,QAAOhL,GAAgC,eAAxBA,EAAK4K,iBAAiC7K,KAAIC,GAAQ,IAAI9C,EAAQqC,KAAK,IAAIrC,EAAQsC,OAAOuF,OAAO/E,EAAKmD,oBAAsB,GAAI,GAAGc,IAAI,IAAI/G,EAAQsC,OAAOuF,QAAO,EAAItC,EAAcuC,oBAAqBlI,EAAIG,GAAGU,WAAWgE,KAAKL,SAASuD,cAAc7E,EAAKmC,YAC5TrF,EAAIG,GAAGU,WAAWsU,QAClB/S,EAAW,IAAIhC,EAAQsC,OAAOQ,EAAKI,OAAQ,GAAG8E,iBAExC0H,EAAuBjL,KAAKN,QAAQW,WAAWgJ,QAAOhL,GAAgC,YAAxBA,EAAK4K,iBACnEiC,GAAuB,EAAI/B,EAAMlD,MAAMgF,GAAsBzB,MACnE,EAAIL,EAAMM,WAAUC,UAClB,MAAMC,SAAkB3J,KAAKL,SAAS6C,gBAAgBnE,EAAKmC,UAAW8P,EAAS,MAAM,GAErF,IAAK3G,EACH,MAAM,IAAItK,EAAQuK,qBAAqB,CACrCpM,KAAMwC,KAAKL,SAASuD,cAAc7E,EAAKmC,WACvCrE,KAAMmU,IAIV,MAAMpM,EAAO/I,EAAIG,GAAGoC,SAASiM,GAI7B,OAFAzF,EAAK7G,SAAW6G,EAAK7G,SAASiF,IAAI,IAAI/G,EAAQsC,OAAOQ,EAAKmD,oBAAsB,IAAK,IACrF0C,EAAKpB,cAAcoB,EAAKnB,gBAAgBT,IAAI,IAAI/G,EAAQsC,OAAOQ,EAAKI,OAAQ,KACrEyF,IACN,IAAI,EAAIiF,EAAMU,YACXuB,QAA4B,EAAIjC,EAAMY,eAAemB,GAErDG,EAAgCP,EAAsBnH,QAAO,CAACM,EAAKqH,IAAgBrH,EAAI3B,IAAIgJ,EAAYjO,WAAW9B,EAAQsC,OAAOgG,MACjI0H,EAAwCN,EAAqBtH,QAAO,CAACM,EAAKuH,IAAcvH,EAAI3B,IAAI,IAAI/G,EAAQsC,OAAO2N,EAAUhK,oBAAsB,IAAK,KAAKjG,EAAQsC,OAAOgG,MAE5K4H,EAA2BlQ,EAAQsC,OAAOgG,KAC/CvB,IAAI+I,GACJ/I,IAAIiJ,GACJjJ,IAAI,IAAI/G,EAAQsC,OAAOuF,QAAO,EAAItC,EAAcwE,uBAAuB4G,EAAQwF,mBAAmBG,cAElGvP,IAAI,IAAI/G,EAAQsC,OAAO,MAGlBsM,SADwBnK,KAAKL,SAAS6F,oBAAoBiM,EAAyBhG,EAAyBnO,gBAC9Ec,IAAIjD,EAAIG,GAAGoC,UAGzC0M,EAAeD,EAAY,GAAGyB,QACpCxB,EAAa/M,SAAW8M,EAAYxG,QAAO,CAACM,EAAK4H,IAAc5H,EAAI3B,IAAIuJ,EAAUxO,WAAW9B,EAAQsC,OAAOgG,MAE3G,MAAMiO,EAAmB9R,KAAKN,QAAQW,WAAWsD,QAAO,CAAC0G,EAAK7J,IAAcuM,EAAME,QAAQ3K,IAAI+H,EAAK0C,EAAME,QAAQpG,OAAOrG,EAAU/B,UAAUsO,EAAME,QAAQpG,OAAO,IAC3JkL,GAAU,EAAIpC,EAAU4B,UAAUC,EAAS/T,cAE3CuU,EAAU9F,EAAQ2C,qBAAqByC,OAAOS,GAE9CE,EAAU/F,EAAQ2C,qBAAqBC,OAAO,IAAKkD,EACvDjD,eAAgBhC,EAAME,QAAQ3K,IAAI0P,EAAQjD,eAAgB+C,KAG5DC,EAAQG,MAAMD,EAAQ9O,SAAS,OAAQ,OACvCqO,EAASW,WAAWvR,EAAOoN,MAAMjG,MAAMgK,IACvC,MAAMvT,EAAa,CAACgT,KAAarH,KAAgBiB,GAC3CU,EAAQ,IAAIvQ,EAAQ0D,eAAeT,EAAY,CAACgT,EAAUpH,KAAiBU,KAA0BM,SAA4BpL,KAAK0E,mBAAmBlG,EAAY,CAACgT,EAAUpH,KAAiBU,KAA0BM,KAC3NnN,EAAK,IAAI1C,EAAQyD,YAAY8M,EAAO,CAAC9L,KAAK2E,sBAAsB8M,GACtEzR,KAAK2E,sBAAsB8M,KAGrB7L,EAAMrK,EAAQsJ,QAAQC,QAAQ7G,EAAI8G,OAAO/E,KAAKL,SAASqF,OAAOC,eAGpE,OADAmF,EAAa/M,SAAW+M,EAAa/M,SAAS0G,IAAI6B,GAAK7B,IAAIsH,GAA+BtH,IAAIwH,GACvFtN,GAKXlD,EAAQ2U,mBAAqBA,G,kCC7J7B7U,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQqX,0BAAuB,EAE/B,IAAIxF,EAAQpR,EAAQ,IAEhBD,EAAUC,EAAQ,IAElBL,EAAMK,EAAQ,KAEdoF,EAASpF,EAAQ,KAEjBsF,EAAgBtF,EAAQ,KAExBuF,EAA2BvF,EAAQ,KAUvC,MAAM4W,UAA6BrR,EAAyBC,wBAC1DvB,YAAYC,EAASC,GACnBI,MAAMJ,GACNK,KAAKN,QAAUA,EACf,MAAM,SACJ2S,EADI,OAEJzS,EAFI,UAGJ0S,GACE5S,GACc,IAAd4S,KACJ,EAAI1R,EAAO2R,SAAS5S,EAAS6S,aAAa,qBAAsBH,GAAW,iDAC3E,EAAIzR,EAAO2R,SAAS5S,EAAS6S,aAAa,qBAAsB5S,IAAWD,EAAS6S,aAAa,UAAW5S,GAAS,mEAG5G,cACT,MAAM,OACJnB,EADI,SAEJ4T,EAFI,OAGJzS,EAHI,KAIJyB,GACErB,KAAKN,QACH+S,EAAezS,KAAKL,SAASuD,cAAcmP,GAC3CK,EAAa1S,KAAKL,SAASuD,cAActD,GAEzC+S,EAAmB/F,EAAMuC,MAAMC,kBAAkBqD,GAAcG,MAAM,EAAG,IAExEC,EAAiBjG,EAAMuC,MAAMC,kBAAkBsD,GAAYE,MAAM,EAAG,IAEpEE,EAAa9S,KAAKL,SAASoO,UAAU,SAAxB,YAAuC4E,GAAvC,OAA0DE,IACvEE,GAAiB,EAAIjS,EAAckS,kBAAiB,EAAIlS,EAAcmS,wBAEtEC,EAAa/X,EAAIG,GAAGoC,SAAS,CACjCtB,MAAM,EAAIb,EAAQ4X,gBAAgB1U,GAClCrB,YAAa,CACXC,SAAU0V,EACVvV,KAAMsV,EACN3W,KAAMkF,KAIJ+R,EAAuB,IAAI7X,EAAQsC,OAAOkV,EAAgB,GAE/DzQ,IAAI,IAAI/G,EAAQsC,OAAO,MACvByE,IAAI,IAAI/G,EAAQsC,QAAO,EAAIiD,EAAcwE,wBAAuB,EAAI/J,EAAQ8X,sBAAsBX,EAAW7W,OAAOsH,aAC/GmQ,SAA4BtT,KAAKL,SAAS6C,gBAAgBxC,KAAKN,QAAQE,OAAQyB,EAAM5C,IAASL,IAAIjD,EAAIG,GAAGoC,UACzG6V,EAAiCD,EAAmB3P,QAAO,CAAC0G,EAAKnG,KAC9D,CACLsP,IAAKnJ,EAAImJ,IAAIlR,IAAI4B,EAAK7G,UACtBgE,KAAMgJ,EAAIhJ,KAAKiB,IAAI4B,EAAKnB,oBAEzB,CACDyQ,IAAKjY,EAAQsC,OAAOgG,KACpBxC,KAAM9F,EAAQsC,OAAOgG,OAEjB4P,EAAiB,IAAIlY,EAAQqC,KAAK,IAAIrC,EAAQsC,QAAO,EAAIiD,EAAcuC,gBAAe,EAAI9H,EAAQ8X,sBAAsBX,EAAW7W,OAAOsH,YAAahI,EAAIG,GAAGU,WAAW0W,GAAavX,EAAIG,GAAGU,WAAWqF,QAAO9D,EAAWgW,EAA+BlS,KAAK0C,IAAI,IAAIxI,EAAQsC,OAAOY,EAAQ,IAAI8E,gBAChSmQ,EAAwBhO,QAA4B,WAGzD,GAF2C6N,EAA+BC,IAAIzP,IAAI0P,EAAepW,UAAU8H,IAAIiO,GAG7G,MAAO,CAAC,GAAI,IAAI7X,EAAQqC,KAAK2V,EAA+BC,IAAIzP,IAAI0P,EAAepW,UAAWlC,EAAIG,GAAGU,WAAW0W,KAGlH,MAAMiB,SAAuB3T,KAAKL,SAAS6F,oBAAoB5F,EAAQwT,EAAqB9V,gBAAgBc,IAAIjD,EAAIG,GAAGoC,UACvH,MAAO,CAACiW,EAAe,IAAIpY,EAAQqC,KACnC+V,EAAchQ,QAAO,CAAC0G,EAAKnG,IAASmG,EAAI/H,IAAI4B,EAAK7G,WAAW9B,EAAQsC,OAAOgG,MAAMvB,IAAIiR,EAA+BC,IAAIzP,IAAI0P,EAAepW,WAAW0G,IAAImP,EAAW7V,UAAWlC,EAAIG,GAAGU,WAAW0W,MATzI,GAWrDlU,EAAa,IAAI8U,KAAuBI,GACxCE,EAAc,CAACV,EAAYO,EAAgB/N,GAC3CzH,EAAK,IAAI1C,EAAQyD,YAAY,IAAIzD,EAAQ0D,eAAeT,EAAYoV,QAAmB5T,KAAK0E,mBAAmBlG,EAAYoV,IAAe,CAAC5T,KAAK2E,sBAAsB/E,KAEtKgG,EAAMrK,EAAQsJ,QAAQC,QAAQ7G,EAAI8G,OAAO/E,KAAKL,SAASqF,OAAOC,eAGpE,OADAS,EAAmBrI,SAAWqI,EAAmBrI,SAAS0G,IAAI6B,GACvD3H,GAKXlD,EAAQqX,qBAAuBA,G,kCCvG/BvX,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ8Y,wBAAqB,EAE7B,IAAIjH,EAAQpR,EAAQ,IAEhBD,EAAUC,EAAQ,IAElBL,EAAMK,EAAQ,KAEdsF,EAAgBtF,EAAQ,KAExBuF,EAA2BvF,EAAQ,KAEvC,MAAMqY,UAA2B9S,EAAyBC,wBACxDvB,YAAYC,EAASC,GACnBI,MAAMJ,GACNK,KAAKN,QAAUA,EAGN,cACT,MAAM,OACJE,EADI,SAEJyS,EAFI,KAGJhR,GACErB,KAAKN,QACHgT,EAAa1S,KAAKL,SAASuD,cAActD,GACzC6S,EAAezS,KAAKL,SAASuD,cAAcmP,GAC3CyB,EAAY,CAChBC,OAAQ/T,KAAKL,SAASoO,UAAU,SAAxB,YAAuCnB,EAAMuC,MAAMC,kBAAkBqD,GAAcG,MAAM,EAAG,KAA5F,OAAkGhG,EAAMuC,MAAMC,kBAAkBsD,GAAYE,MAAM,EAAG,SACzJvR,EAAO,CACTgI,OAAQ,CACN0K,OAAQ1S,IAER,GACJ2S,YAAa,QAETC,QAAuBjU,KAAKL,SAASuU,aAAa,CACtDJ,cAEF7C,GAASA,EAAMpL,QAAU,OAClBsO,IAAmB,EAAIrT,EAAcsT,oBAAoB,CAC9DlQ,MAAM,EAAIpD,EAAcuT,gBAAgB,CACtCpD,MAAOgD,EACPzW,KAAMiV,IAERjV,KAAMiV,IAEF6B,EAAyBL,EAAe7V,KAAI8F,IAAQ,IAAMA,EAC9D9G,YAAa,IAAK8G,EAAK9G,YACrBjB,UAAMoB,EACNC,KAAMkV,GAERtW,KAAM,SAEFmY,QAA2BvU,KAAKL,SAAS6U,qBAAqB/B,EAAc,IAAIlX,EAAQsC,OAAOsW,EAAgB/W,YAAYC,SAAU,GAE1IiF,IAAI,IAAI/G,EAAQsC,OAAO,MAAMyE,IAAI,IAAI/G,EAAQsC,QAAO,EAAIiD,EAAcwE,wBAAuB,EAAIxE,EAAc2T,kBAAkBhC,EAAa5W,OAAOsH,aAAa7F,eAE7JoX,EAAavZ,EAAIG,GAAGoC,UAAS,EAAIoD,EAAc6T,oBAAoBJ,IAEnEtW,EAAK,IAAI1C,EAAQyD,YAAY,IAAIzD,EAAQ0D,eAAe,IAAIsV,EAAmBnW,IAAIjD,EAAIG,GAAGoC,aAAcuW,EAAe7V,IAAIjD,EAAIG,GAAGoC,WAAY,IAAI4W,EAAuBlW,IAAIjD,EAAIG,GAAGoC,UAAWvC,EAAIG,GAAGoC,SAASyW,GAAkBO,SAAmB1U,KAAK0E,mBAAmB,IAAI6P,EAAmBnW,IAAIjD,EAAIG,GAAGoC,aAAcuW,EAAe7V,IAAIjD,EAAIG,GAAGoC,WAAY,IAAI4W,EAAuBlW,IAAIjD,EAAIG,GAAGoC,UAAWvC,EAAIG,GAAGoC,SAASyW,GAAkBO,KAAe,CAAC1U,KAAK2E,sBAAsB0N,KAEhezM,EAAMrK,EAAQsJ,QAAQC,QAAQ7G,EAAI8G,OAAO/E,KAAKL,SAASqF,OAAOC,eAGpE,OADAyP,EAAWrX,SAAWqX,EAAWrX,SAAS0G,IAAI5I,EAAIG,GAAGoC,SAASyW,GAAiB9W,UAAU0G,IAAI6B,GACtF3H,GAKXlD,EAAQ8Y,mBAAqBA,G,kCCxE7BhZ,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ6Z,2BAAwB,EAEhC,IAAIhI,EAAQpR,EAAQ,IAEhBkP,EAAWlP,EAAQ,KAEnBoF,EAASpF,EAAQ,KAEjBD,EAAUC,EAAQ,IAElBqZ,EAAYrZ,EAAQ,KAEpBL,EAAMK,EAAQ,KAEdqF,EAAUrF,EAAQ,KAElBsF,EAAgBtF,EAAQ,KAExBuF,EAA2BvF,EAAQ,KAEvC,MAAMoZ,UAA8B7T,EAAyBC,wBAC3DvB,YAAYC,EAASC,GACnBI,MAAMJ,GACNK,KAAKN,QAAUA,EAGN,cACT,MAAM,OACJE,EADI,SAEJyS,EAFI,KAGJhR,GACErB,KAAKN,QACHC,EAAWK,KAAKL,SAChB+S,EAAa/S,EAASuD,cAActD,GACpC6S,EAAe9S,EAASuD,cAAcmP,GACtCyB,EAAY,CAChBC,OAAQpU,EAASoO,UAAU,SAAnB,YAAkCnB,EAAMuC,MAAMC,kBAAkBqD,GAAcG,MAAM,EAAG,KAAvF,OAA6FhG,EAAMuC,MAAMC,kBAAkBsD,GAAYE,MAAM,EAAG,SACpJvR,EAAO,CACTgI,OAAQ,CACN0K,OAAQ1S,IAER,GACJ2S,YAAa,QAETc,QAAyBnV,EAASuU,aAAa,CACnDJ,cACC7C,GAASA,EAAMpL,QAAU,MACtBkP,QAAkBpV,EAASqV,IAAIC,oBAC/BC,EAAanQ,OAAOgQ,EAAUI,QAAU,EACxCC,EAAqB,GACrBC,EAAM,GAEZ,IAAK,MAAMnR,KAAQ4Q,EACjBO,EAAIrS,KAAK,CACPsS,OAAQ,uBACRC,OAAQrR,EAAKsR,eAIjB,MAAMC,QAAezV,KAAKL,SAAS+V,gBAAgBL,GAEnD,IAAK,IAAIM,EAAI,EAAGA,EAAIF,EAAO5P,OAAQ8P,IAAK,CACxB5Q,OAAO,MAAO,EAAIlE,EAAQwP,aAAaoF,EAAOE,IAAIC,MAAMC,UAAU,IACpEX,GAAYE,EAAmBpS,MAAK,EAAInC,EAAQwP,aAAayE,EAAiBa,KAG5F,GAAkC,IAA9BP,EAAmBvP,OAAc,MAAM,IAAIE,MAAM,+BACrD,IAAI+P,GAA0B,EAAIjB,EAAU1O,IAAI,GAC5C4P,GAAsB,EAAIlB,EAAU1O,IAAI,GAC5C,MAAM6P,EAAqBZ,EAAmBhX,KAAI,SAAU8F,GAC1D,MAAM+R,EAAW,IAAK/R,EACpB9G,YAAa,IAAK8G,EAAK9G,YACrBI,KAAMkV,IAIJwD,EAAetV,EAAOoN,MAAMjG,OAAM,EAAI2C,EAASyL,qBAAqBF,IAG1E,OADAH,EAA0BA,EAAwB3N,MAAK,EAAI0M,EAAU1O,IAAIjC,EAAK9G,YAAYC,UAAU+K,MAAM8N,IACnG,IAAKhS,EACV9G,YAAa,IAAK8G,EAAK9G,YACrBI,KAAMkV,EACNrV,SAAU6Y,OAIVE,EAAsB,CAC1Bha,KAAM,KACNgB,YAAa,CACXC,SAAU,MACVG,KAAMkV,EACNvW,UAAMoB,IAGJ8Y,GAAkB,EAAI3L,EAASyL,qBAAqBC,GAEtDN,EAAwBQ,WAAaD,GACvCD,EAAoBhZ,YAAYC,SAAWuD,EAAOoN,MAAMjG,MAAMsO,GAC9DN,EAAsBA,EAAoB5N,MAAK,EAAI0M,EAAU1O,IAAIkQ,GAAiBjO,MAAM0N,KAExFM,EAAoBhZ,YAAYC,SAAWuD,EAAOoN,MAAMjG,MAAM+N,GAGhE,MAAMvB,QAA2B5U,EAAS6U,qBAAqB9B,EAAY,IAAInX,EAAQsC,OAAO+C,EAAOoN,MAAMjG,MAAMgO,GAAsB,GAAGzT,IAAI,IAAI/G,EAAQsC,OAAO,MAAMyE,IAAI,IAAI/G,EAAQsC,QAAO,EAAIiD,EAAcwE,wBAAuB,EAAIxE,EAAc2T,kBAAkBhC,EAAa5W,OAAOsH,aAAa7F,eAEtSoX,EAAavZ,EAAIG,GAAGoC,UAAS,EAAIoD,EAAc6T,oBAAoBJ,IAEnEgC,EAAa3J,EAAMtO,MAAMkY,cAAc,CAC3CC,UAAU,EACVta,KAAM,cACNnB,MAAO,CACLma,OAAQ,EACRtP,OAAQ,EACRjJ,MAAO,KAILkP,EAAQ,IAAIvQ,EAAQ0D,eAAe,IAAIsV,EAAmBnW,IAAIjD,EAAIG,GAAGoC,aAAc0X,EAAmBhX,IAAIjD,EAAIG,GAAGoC,WAAY,IAAIsY,EAAmB5X,IAAIjD,EAAIG,GAAGoC,UAAWvC,EAAIG,GAAGoC,SAAS0Y,GAAsB1B,SAAmB1U,KAAK0E,mBAAmB,IAAI6P,EAAmBnW,IAAIjD,EAAIG,GAAGoC,aAAc0X,EAAmBhX,IAAIjD,EAAIG,GAAGoC,WAAY,IAAIsY,EAAmB5X,IAAIjD,EAAIG,GAAGoC,UAAWvC,EAAIG,GAAGoC,SAAS0Y,GAAsB1B,KAC9a5I,EAAM3N,OAAS2N,EAAMtN,WAAWJ,KAAI,SAAU8F,GAC5C,MAAMwS,GAAY,EAAI7V,EAAQwP,aAAanM,EAAKyS,eAC1C5C,EAAS,CACbpY,UAAWuI,EAAK1G,KAAK5B,SACrBE,UAAWoI,EAAK1G,KAAKzB,SACrBF,KAAMqI,EAAK1G,KAAK3B,MAGlB,OAAI8D,EAAS6S,aAAa,SAAUuB,GAC3B,IAAIxY,EAAQqb,UAAUF,EAAUnY,eAAgBgY,GAEhD,IAAIhb,EAAQqb,UAAUF,EAAUnY,eAAgB,UAG3D,MAAMN,EAAK,IAAI1C,EAAQyD,YAAY8M,EAAO,CAAC9L,KAAK2E,sBAAsB/E,KAEhEgG,EAAMrK,EAAQsJ,QAAQC,QAAQ7G,EAAI8G,OAAOpF,EAASqF,OAAOC,eAG/D,OADAyP,EAAWrX,SAAWqX,EAAWrX,SAAS0G,IAAI6B,GAAK7B,IAAI,IAAIxI,EAAQsC,OAAO+C,EAAOoN,MAAMjG,MAAMgO,GAAsB,IAC5G9X,GAKXlD,EAAQ6Z,sBAAwBA,G,kCCjJhC/Z,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ8b,+BAA4B,EAEpC,IAAInM,EAAWlP,EAAQ,KAEnBD,EAAUC,EAAQ,IAElB4K,EAAa5K,EAAQ,KAErBL,EAAMK,EAAQ,KAEduF,EAA2BvF,EAAQ,KAEnC6D,EAAU7D,EAAQ,KAEtB,MAAMsb,EAAS,IAAIvb,EAAQsC,OAAO,IAAKtC,EAAQwb,WAAWvD,KAE1D,MAAMqD,UAAkC9V,EAAyBC,wBAC/DvB,YAAYC,EAASC,GACnBI,MAAMJ,GACNK,KAAKN,QAAUA,EACfM,KAAKL,SAAWA,EAuBP,cACT,MAAMqX,QAAgChX,KAAKiX,6BAA6BjX,KAAKkX,8BACvEC,QAAoBnX,KAAKoX,iBAAiBpX,KAAKqX,wBAC/CC,EAAkBtX,KAAKuX,sBAAsBP,GAC7CQ,EAAcxX,KAAKyX,kBAAkBN,GACrCO,EAAmB1X,KAAK2X,yBACxBxZ,EAAS,IAAI6Y,KAA4BG,GACzCzY,EAAU,CAAC4Y,EAAiBE,EAAaE,GACzC9Y,QAAiBoB,KAAK0E,mBAAmBvG,EAAQO,GACjDoN,EAAQ,IAAIvQ,EAAQ0D,eAAed,EAAQO,EAASE,GACpDX,EAAK,IAAI1C,EAAQyD,YAAY8M,EAAO9L,KAAK4X,cAAcZ,EAAyBG,IAEhFvR,EAAMrK,EAAQsJ,QAAQC,QAAQ7G,EAAI8G,OAAO/E,KAAKL,SAASqF,OAAOC,eAIpE,OAFAqS,EAAgBja,SAAWia,EAAgBja,SAAS0G,IAAI6B,GACxD5F,KAAK6X,iBAAiB5Z,GACfA,EAGa,uBAAC6Z,GAGrB,aAF4B9X,KAAKL,SAAS6C,gBAAgBxC,KAAKN,QAAQqY,WAAY/X,KAAKN,QAAQ2B,KAAMyW,EAAiBxa,gBACrFc,IAAIjD,EAAIG,GAAGoC,UAIb,mCAAC2Y,GACjC,IACI7Y,EADAwZ,EAA0B,GAG9B,GAA6C,kBAAlChX,KAAKN,QAAQsY,iBAA+B,CACrDxa,EAAOwC,KAAKL,SAASuD,cAAclD,KAAKN,QAAQsY,kBAChD,MAAMlE,EAAY,CAChBC,OAAQvW,EACRwW,YAAa,OACb3K,OAAQ,CACN0K,OAAQ/T,KAAKN,QAAQ2B,OAQzB2V,SAL8BhX,KAAKL,SAASuU,aAAa,CACvDJ,cACC7C,GAASA,EAAMtN,QAAO,CAACM,EAAKC,IAASD,EAAI3B,IAAI,IAAI/G,EAAQsC,OAAOqG,EAAK9G,YAAYC,YAAY9B,EAAQsC,OAAOgG,MAAMoD,GAAGoP,IAAkB,CACxI4B,WAAW,KAE6B7Z,IAAIjD,EAAIG,GAAGoC,eAErDF,EAAOwC,KAAKN,QAAQsY,iBAAiB,GAAG5a,YAAYI,KACpDwZ,EAA0BhX,KAAKN,QAAQsY,iBAAiB5Z,IAAIjD,EAAIG,GAAGoC,UAGrE,MAAMwa,EAA2BlB,EAAwBrT,QAAO,CAACM,EAAKC,IAASD,EAAI3B,IAAI4B,EAAK7G,WAAW9B,EAAQsC,OAAOgG,MAEtH,GAAIqU,EAAyBjR,GAAGoP,GAC9B,MAAM,IAAIhX,EAAQ8Y,iBAAiB,CACjC3a,OACA4a,SAAU/B,EAAgBlT,WAC1BkV,OAAQH,EAAyB/U,aAIrC,OAAO6T,EAGTO,sBAAsBP,GACpB,MAAMM,EAAkBN,EAAwB,GAAGpL,SAC5CsM,EAA0BI,GAA6BtY,KAAKuY,kBAAkBvB,GAC/EwB,EAAwB,IAAIjd,EAAQsC,OAAO,IAAIuI,EAAWC,UAAUrG,KAAKN,QAAQ8Y,uBAAuBrV,WAAY5H,EAAQwb,WAAW0B,SAC7InB,EAAgBja,SAAW6a,EAAyBnU,IAAIyU,GACxD,MAAME,EAAwB,IAAInd,EAAQsC,OAAO,IAAIuI,EAAWC,UAAUrG,KAAKN,QAAQgZ,uBAAuBvV,WAAY5H,EAAQwb,WAAW0B,SAE7I,OADAnB,EAAgBxU,cAAcwV,EAA0BhW,IAAIoW,IACrDpB,EAGTG,kBAAkBN,GAChB,MAAMK,EAAcL,EAAY,GAAGvL,SAC5B+M,EAAUC,GAAa5Y,KAAKuY,kBAAkBpB,GAGrD,OAFAK,EAAYna,SAAWsb,EACvBnB,EAAY1U,cAAc8V,EAAU7U,IAAI/D,KAAKqX,yBACtCG,EAGTG,yBACE,MAAMa,EAAwB,IAAIjd,EAAQsC,OAAO,IAAIuI,EAAWC,UAAUrG,KAAKN,QAAQ8Y,uBAAuBrV,WAAY5H,EAAQwb,WAAW0B,SACvIf,EAAmB,IAAInc,EAAQqC,KAAK4a,EAAuBrd,EAAIG,GAAGU,WAAWgE,KAAKL,SAASuD,cAAclD,KAAKN,QAAQmZ,oBAAqB1d,EAAIG,GAAGU,WAAWgE,KAAKN,QAAQ2B,OAC1KyX,EAAyB,IAAIvd,EAAQsC,OAAO,IAAIuI,EAAWC,UAAUrG,KAAKN,QAAQoZ,wBAAwB3V,WAAY5H,EAAQwb,WAAW0B,SAE/I,OADAf,EAAiB5U,cAAcgW,GACxBpB,EAGTE,cAAcmB,EAAaC,GACzB,MAAMC,EAAU,GAEhB,GAA6C,kBAAlCjZ,KAAKN,QAAQsY,iBACtBe,EAAY3a,KAAI,IAAM6a,EAAQjW,KAAKhD,KAAK2E,sBAAsB3E,KAAKN,QAAQsY,yBACtE,CACL,MAAM9T,EAAOlE,KAAKN,QAAQsY,iBAAiB,GAC3Ce,EAAY3a,KAAI,IAAM6a,EAAQjW,KAAKhD,KAAK2E,sBAAsB3E,KAAKL,SAASyO,eAAelK,EAAK9G,YAAYI,UAI9G,OADAwb,EAAa5a,KAAI,IAAM6a,EAAQjW,KAAKhD,KAAK2E,sBAAsB3E,KAAKN,QAAQqY,eACrEkB,EAGT/B,6BACE,IAAI1Z,EAEJ,GAA6C,kBAAlCwC,KAAKN,QAAQsY,iBACtBxa,EAAOwC,KAAKL,SAASuD,cAAclD,KAAKN,QAAQsY,sBAC3C,CAELxa,EADawC,KAAKN,QAAQsY,iBAAiB,GAC/B5a,YAAYI,KAG1B,MAAM0b,EAAuB,CAC3B9b,YAAa,CACXC,SAAU,MACVG,KAAMA,EACNrB,KAAM6D,KAAKN,QAAQ2B,MAErBjF,KAAM,IAAIb,EAAQsC,OAAO,KAAK0F,eAIhC,OAF8B,IAAIhI,EAAQsC,OAAO,IAAIuI,EAAWC,UAAUrG,KAAKN,QAAQ8Y,uBAAuBrV,WAAY5H,EAAQwb,WAAW0B,SACrGnW,IAAI,IAAI/G,EAAQsC,QAAO,EAAI6M,EAASyL,qBAAqB+C,GAAsB/V,WAAY5H,EAAQwb,WAAW0B,UACrInW,IAAIwU,GAGvBO,uBACE,MAAMqB,EAAwB,IAAInd,EAAQsC,OAAO,IAAIuI,EAAWC,UAAUrG,KAAKN,QAAQgZ,uBAAuBvV,WAAY5H,EAAQwb,WAAW0B,SACvIK,EAAyB,IAAIvd,EAAQsC,OAAO,IAAIuI,EAAWC,UAAUrG,KAAKN,QAAQoZ,wBAAwB3V,WAAY5H,EAAQwb,WAAW0B,SAC/I,OAAOC,EAAsBpW,IAAIwW,GAGnCP,kBAAkBtH,GAChB,MAAOkI,EAAQC,GAAWnI,EAAMtN,QAAO,EAAEF,EAAcC,GAAaE,IAG3D,CAFPH,EAAeA,EAAanB,IAAIsB,EAAMvG,UACtCqG,EAAaA,EAAWpB,IAAIsB,EAAMb,mBAEjC,CAACxH,EAAQsC,OAAOgG,KAAMtI,EAAQsC,OAAOgG,OACxC,MAAO,CAACsV,EAAQC,GAGlBvB,iBAAiB5Z,GACf,MAAME,EAASF,EAAGC,IAAIM,WAChBE,EAAUT,EAAGC,IAAIQ,QACvBsB,KAAKqZ,mBAAmBlb,GACxB6B,KAAKqZ,mBAAmB3a,GACxB,MAAO4a,EAAaC,GAAgBvZ,KAAKuY,kBAAkBpa,IACpDqb,EAAcC,GAAiBzZ,KAAKuY,kBAAkB7Z,GAE7D,GAAI4a,EAAYrS,GAAGuS,GACjB,MAAM,IAAIzT,MAAJ,qGACmCuT,EADnC,oCAC0EE,IAGlF,GAAID,EAAatS,GAAGwS,GAClB,MAAM,IAAI1T,MAAJ,yFAC+BwT,EAD/B,gCACmEE,IAI7EJ,mBAAmBpI,GACjB,IAAK,MAAM/M,KAAQ+M,EAAO,CACxB,MAAMyI,EAAc,IAAIne,EAAQsC,QAAO,EAAItC,EAAQoe,mBAAmBzV,GAAMf,WAAY5H,EAAQwb,WAAWvD,KAE3G,GAAIkG,EAAYzR,GAAG/D,EAAK7G,UACtB,MAAM,IAAI0I,MAAJ,uDAA0D7B,EAAK7G,SAA/D,6BAA4Fqc,MAO1G3e,EAAQ8b,0BAA4BA,G,kCCzNpChc,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ6e,qBAAkB,EAE1B,IAAIre,EAAUC,EAAQ,IAElBL,EAAMK,EAAQ,KAqHlB,SAASqe,EAAgBlE,GACvB,MAAMmE,EAAO,IAAIC,SAAS,IAAIC,YAAY,IAE1C,OADAF,EAAKG,UAAU,EAAGtE,GAAG,GACdmE,EAAKI,OArBdnf,EAAQ6e,gBA9FR,MACEna,YAAY0a,EAAWxa,EAAUya,EAAS,IAAI7e,EAAQ8e,eACpDra,KAAKma,UAAYA,EACjBna,KAAKL,SAAWA,EAChBK,KAAKoa,OAASA,EAGE,mBAACE,GACjB,MAAMC,EAAO,GAEPC,EAAarf,EAAIG,GAAGU,WAAWgE,KAAKL,SAASuD,oBAAoBlD,KAAKma,UAAUM,eAEtF,IAAK,MAAMpc,KAAQic,EAAU,CAC3B,GAAIjc,EAAKb,KAAK5B,WAAa4e,EAAW5e,UAAYyC,EAAKb,KAAKzB,WAAaye,EAAWze,UAAYsC,EAAKb,KAAK3B,KAAKga,UAAU,EAAG,MAAQ2E,EAAW3e,KAAKga,UAAU,EAAG,IAAK,CACpK0E,EAAKvX,KAhBI,IAiBT,SAGF,MAAM0X,QAAY1a,KAAKma,UAAUQ,YAAYtc,EAAKuc,SAClDL,EAAKvX,KAAK0X,GAGZ,OAAOH,EAGC,WAACtc,GACT,MAAMqc,EAAWta,KAAK6a,WAAW5c,GAC3Bc,QAAkBiB,KAAK8a,aAAaR,GAE1C,IAAK,IAAI3E,EAAI,EAAGA,EAAI2E,EAASzU,OAAQ8P,IAAK,CACxC,MAAM,MACJ/Y,GACE0d,EAAS3E,GAET/Y,EAAQqB,EAAGa,YAAY+G,QApChB,IAoC0B9G,EAAU4W,IAAmD,kBAA1B1X,EAAGa,YAAYlC,KACrFmC,EAAU4W,GAAK,IAAIpa,EAAQ+R,QAAO,EAAI/R,EAAQwf,sBAAsBxf,EAAQyf,YAAYC,qBAAqB,IAAKhd,EAAGa,YAAYlC,GAC/HY,KAAMuB,EAAU4W,OACbuF,iBAKT,OADAjd,EAuDJ,SAA6BA,EAAIqc,EAAUvb,GACzC,GAAIub,EAASzU,SAAW9G,EAAU8G,OAChC,MAAM,IAAIE,MAAM,gCAGlB,IAAK,IAAI4P,EAAI,EAAGA,EAAI2E,EAASzU,OAAQ8P,IAvGtB,KAwGT5W,EAAU4W,KAId1X,EAAGc,UAAUub,EAAS3E,GAAG/Y,OAASmC,EAAU4W,IAG9C,OAAO1X,EApEAkd,CAAoBld,EAAIqc,EAAUvb,GAIzC8b,WAAW5c,GAGT,GAFAA,EAAGmd,WAECnd,EAAGC,IAAIC,OAAO0H,SAAW5H,EAAGC,IAAIM,WAAWqH,OAC7C,MAAM,IAAIE,MAAM,gCAGlB,MAAMpJ,GAAS,IAAIpB,EAAQ8e,eAAgBgB,KAAK,IAAI9f,EAAQ+R,QAAO,EAAI/R,EAAQ+f,yBAAyB/f,EAAQyf,YAAYO,wBAAwBhgB,EAAQigB,aAAaC,wBAAwBxd,EAAGC,SAC9Loc,EAAW,GACXoB,EAAOzd,EAAGC,IAAIC,OAAOC,KAAIud,IAAU,IAEzC,IAAK,IAAIhG,EAAI,EAAGA,EAAI1X,EAAGC,IAAIC,OAAO0H,OAAQ8P,IAAK,CAC7C,GAAI+F,EAAK/F,IAA0B,OAApB1X,EAAGc,UAAU4W,GAC1B,SAGF,GAAIA,GAAK1X,EAAGc,UAAU8G,OACpB,MAAM,IAAIE,MAAJ,gBAAmB4P,EAAnB,wDAGR+F,EAAK/F,IAAK,EACV3V,KAAKoa,OAAOwB,OAAOjf,GACnB,MAAMkf,EAAe,IAAItgB,EAAQ+R,OAAOrP,EAAGc,UAAU4W,IACrD3V,KAAKoa,OAAOwB,OAAO/B,EAAgBgC,EAAahW,WAChD7F,KAAKoa,OAAOwB,OAAOC,GAEnB,IAAK,IAAIC,EAAInG,EAAI,EAAGmG,EAAI7d,EAAGC,IAAIC,OAAO0H,QAAUiW,EAAI7d,EAAGc,UAAU8G,OAAQiW,IACvE,GAAI7d,EAAGC,IAAIM,WAAWmX,GAAGnY,KAAKue,SAAS9d,EAAGC,IAAIM,WAAWsd,GAAGte,MAAO,CACjEke,EAAKI,IAAK,EACV,MAAME,EAAiB,IAAIzgB,EAAQ+R,OAAOrP,EAAGc,UAAU+c,IACvD9b,KAAKoa,OAAOwB,OAAO/B,EAAgBmC,EAAenW,WAClD7F,KAAKoa,OAAOwB,OAAOI,GAIvB1B,EAAStX,KAAK,CACZpG,MAAO+Y,EACPiF,QAAS5a,KAAKoa,OAAO6B,SAASf,gBAE9B1d,KAAMS,EAAGC,IAAIM,WAAWmX,GAAGnY,OAE7BwC,KAAKoa,OAAO8B,QAGd,OAAO5B,K,kCCrGXzf,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQohB,gBAAkBphB,EAAQqhB,qBAAkB,EAEpD,IAAIC,EAAM7gB,EAAQ,KAEdoR,EAAQpR,EAAQ,KAEhB8gB,EAA6B9gB,EAAQ,KAEzC,SAAS+gB,EAAsBlK,EAAUmK,GAA0F,OAEnI,SAAkCnK,EAAUoK,GAAc,GAAIA,EAAWvhB,IAAO,OAAOuhB,EAAWvhB,IAAIwhB,KAAKrK,GAAa,OAAOoK,EAAWzhB,MAFA2hB,CAAyBtK,EAA3FuK,EAA6BvK,EAAUmK,EAAY,QAI3H,SAASK,EAAsBxK,EAAUmK,EAAYxhB,GAA4I,OAIjM,SAAkCqX,EAAUoK,EAAYzhB,GAAS,GAAIyhB,EAAW9a,IAAO8a,EAAW9a,IAAI+a,KAAKrK,EAAUrX,OAAe,CAAE,IAAKyhB,EAAWvc,SAAY,MAAM,IAAI4c,UAAU,4CAA+CL,EAAWzhB,MAAQA,GAJ9G+hB,CAAyB1K,EAApFuK,EAA6BvK,EAAUmK,EAAY,OAAuDxhB,GAAeA,EAExM,SAAS4hB,EAA6BvK,EAAUmK,EAAYQ,GAAU,IAAKR,EAAWS,IAAI5K,GAAa,MAAM,IAAIyK,UAAU,gBAAkBE,EAAS,kCAAqC,OAAOR,EAAWthB,IAAImX,GAIjN,IAAI6K,EAA2B,IAAIC,QAEnC,MAAMf,UAAwBxP,EAAMwQ,eAClC3d,YAAY4d,EAAY1d,EAAU2d,GAChCvd,QACAC,KAAKL,SAAWA,EAChBK,KAAKsd,WAAaA,EAElBJ,EAAYvb,IAAI3B,KAAM,CACpBE,UAAU,EACVlF,WAAO,IAGTgF,KAAKud,cAAc,CACjBC,SAAU,CAAC,gBAGbX,EAAsB7c,KAAMkd,EAAaG,GAG3B,mBACd,OAAO,IAAIlB,EAAgBI,EAAsBvc,KAAMkd,GAAcld,KAAKL,SAAUK,KAAKsd,aAK7FviB,EAAQqhB,gBAAkBA,EAE1B,IAAIqB,EAA4B,IAAIN,QAEpC,MAAMhB,UAAwBG,EAA2BoB,0BAC5B,4BAACL,GAC1B,OAAOhB,EAAIvc,IAAI6d,qBAAqBN,GAGtC5d,YAAY4d,EAAY1d,EAAU2d,GAChCvd,MAAM,CACJJ,SAAUA,IAEZK,KAAKL,SAAWA,EAChBK,KAAKsd,WAAaA,EAElBG,EAAa9b,IAAI3B,KAAM,CACrBE,UAAU,EACVlF,WAAO,IAGT6hB,EAAsB7c,KAAMyd,EAAcJ,GAG5C5C,aACE,OAAOza,KAAKL,SAASyO,eAAe,IAAKpO,KAAKsd,WAC5CzhB,KAAMsgB,EAAgBwB,qBAAqBpB,EAAsBvc,KAAMyd,MAI3E9C,YAAYC,GACV,MAAMgD,EAAYvB,EAAIvc,IAAI+d,gBAAgBjD,EAAS2B,EAAsBvc,KAAMyd,IAE/E,OAAOK,QAAQC,QAAQH,IAK3B7iB,EAAQohB,gBAAkBA,G,kCCrF1BthB,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQijB,mBAAgB,EAExB,IAAIpR,EAAQpR,EAAQ,KAEhB8gB,EAA6B9gB,EAAQ,KAErCyiB,EAAkBziB,EAAQ,MAE9B,SAAS+K,EAAgB1G,EAAKC,EAAK9E,GAAiK,OAApJ8E,KAAOD,EAAOhF,OAAOC,eAAe+E,EAAKC,EAAK,CAAE9E,MAAOA,EAAOC,YAAY,EAAMgF,cAAc,EAAMC,UAAU,IAAkBL,EAAIC,GAAO9E,EAAgB6E,EAE3M,MAAMme,UAAsBpR,EAAMwQ,eAChC3d,YAAYE,EAAUue,GACpBne,QACAC,KAAKL,SAAWA,EAEhB4G,EAAgBvG,KAAM,eAAW,GAEjCA,KAAKud,cAAc,CACjB5U,KAAM,gBACN+E,YAAa,oCACb8P,SAAU,CAAC,SAEbxd,KAAKme,QAAU,IAAIF,EAAgBG,uBAAyC,OAAlBF,QAA4C,IAAlBA,EAA2BA,EAAgB,IAGjH,mBACd,MAAMG,QAAwBre,KAAKme,QAAQG,cACrC3e,EAAWK,KAAKL,SAMhBgb,EAAcC,GACXkD,QAAQC,QAAQ/d,KAAKme,QAAQI,KAAK3D,IAG3C,OAAO,IAAI,cAAc0B,EAA2BoB,0BAClDjD,aACE,OATKqD,QAAQC,QAAQpe,EAASyO,eAAezO,EAASoO,UAAU,UAAWsQ,KAY7E1D,YAAYC,GACV,OAAOD,EAAYC,GAGrB4D,KAAKvgB,GACH,OAAO8B,MAAMye,KAAKvgB,KAGpB,CACA0B,SAAUK,KAAKL,YAMrB5E,EAAQijB,cAAgBA,EAExBzX,EAAgByX,EAAe,yBAA0BC,EAAgBG,yB,kCC9DzEvjB,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ0jB,iBAAmBA,EAC3B1jB,EAAQ2jB,uBAAyBA,EACjC3jB,EAAQ4jB,SAAWA,EACnB5jB,EAAQqjB,4BAAyB,EAEjC,IAAIxR,EAAQpR,EAAQ,IAEhBoF,EAASpF,EAAQ,KAIrB,SAASojB,EAAmBljB,GAC1B,MAAiB,kBAANA,GAAwB,OAANA,IACtB,UAAWA,GAAK,WAAYA,GAGrC,SAASmjB,EAAiBnjB,GACxB,MAAiB,kBAANA,GAAwB,OAANA,IACtB,QAASA,GAAK,WAAYA,GAGnC,SAAS+iB,EAAiBK,GACxB,OAAOlS,EAAMuC,MAAM4P,SAAQ,EAAIne,EAAOoe,YAAYF,GAAQ5E,QAAQgB,gBAAgBtI,MAAM,EAAG,IAG7F,SAAS8L,EAAuBO,EAAOC,GAAU,GAC/C,MAAMC,EAAe,IAAIC,gBAAgBC,SAASC,OAAO1M,MAAM,IACzD2M,EAAOJ,EAAajkB,IAAI,eAC9B,IAAKqkB,EAAM,OACX,MAAMC,EAAMC,KAAKC,MAAMH,GACvB,IAAKN,EAAMO,EAAIpjB,MAAO,OACtB,GAAiB,MAAbojB,EAAIviB,KAAc,MAAM,IAAI8I,MAAMyZ,EAAIG,MAAQ,4CAClDR,EAAaS,OAAO,eACpB,MAAM,SACJC,EADI,KAEJC,EAFI,SAGJC,GACEC,OAAOX,SACLY,EAAKd,EAAahc,WAClB+c,EAAS,GAAH,OAAMH,EAAN,aAAmBD,GAAnB,OAA0BD,GAA1B,OAAqCI,EAAK,IAAH,OAAOA,GAAO,IAIjE,OAHIf,GAASc,OAAOG,QAAQC,aAAa,CACvCC,KAAMH,GACL,GAAIA,GACAV,EAAIpjB,KAGbsN,eAAeiV,EAAS2B,GAGtB,OAFAN,OAAOX,SAASiB,KAAOA,EAEhB,IAAIxC,SAAQC,GAAWwC,WAAWxC,EAAS,OAoGpDhjB,EAAQqjB,uBAjGR,MACE3e,YAAYC,GACV,IAAI8gB,EAAeC,EA7CE5gB,EAAKC,EAAK9E,SA+CC,GA/CN8E,EA+CJ,YA/CDD,EA+CLG,MA/C0CnF,OAAOC,eAAe+E,EAAKC,EAAK,CAAE9E,MAAOA,EAAOC,YAAY,EAAMgF,cAAc,EAAMC,UAAU,IAAkBL,EAAIC,GAAO9E,EAiDvLgF,KAAKgF,OAAS,CACZ8a,KAAyC,QAAlCU,EAAgB9gB,EAAQogB,YAAoC,IAAlBU,EAA2BA,EAAgB,wBAC5FE,kBAA2E,QAAvDD,EAAwB/gB,EAAQghB,yBAAyD,IAA1BD,EAAmCA,EAAwB,eAQlJE,gBACE3gB,KAAK4gB,uBAAyB5gB,KAAK6gB,wBAGrCC,eACE,QAASpC,EAAuBE,GAGlCmC,aACE,QAASrC,EAAuBG,GAOjB,oBACf,IAAImC,EAAMC,EAGV,OAAOxC,GADiL,QAArKuC,EAAkE,QAA1DC,EAAwBjhB,KAAK6gB,+BAA+D,IAA1BI,EAAmCA,EAAwBjhB,KAAK4gB,6BAA4C,IAATI,EAAkBA,QAAahhB,KAAKkhB,mBAClMpC,QAGpCP,KAAK3D,GACH,IAAIuG,EAEJ,OAAOrD,QAAQC,QAAiE,QAAxDoD,EAAwBnhB,KAAKohB,6BAA6D,IAA1BD,EAAmCA,EAAwBnhB,KAAKqhB,eAAezG,IAGzKsG,kBAIE,OAAOvC,EAHU3e,KAAKshB,sBAAsBthB,KAAKgF,OAAO8a,KAAM,QAAS,CACrEyB,YAAavB,OAAOX,SAASiB,QAKjCe,eAAezG,GACb,IAAI4G,EAEJ,MAAM1C,EAAqE,QAA3D0C,EAAyBxhB,KAAK6gB,+BAAgE,IAA3BW,OAAoC,EAASA,EAAuB1C,OACvJ,IAAKA,EAAQ,MAAM,IAAI/Y,MAAM,oCAM7B,OAAO4Y,EALS3e,KAAKshB,sBAAsBthB,KAAKgF,OAAO8a,KAAM,OAAQ,CACnEyB,YAAavB,OAAOX,SAASiB,KAC7BxB,SACAlE,aAKJ6G,qBAAqBrlB,GACnBslB,aAAaC,QAAQ3hB,KAAKgF,OAAO0b,kBAAmBjB,KAAKmC,UAAUxlB,IAGrEykB,wBACE,MAAMgB,EAAaH,aAAaI,QAAQ9hB,KAAKgF,OAAO0b,mBACpD,GAAkB,MAAdmB,EACJ,OAAOpC,KAAKC,MAAMmC,GAGpBjB,sBACE,MAAMmB,EAAYrD,EAAuBE,GAAoB,GAC7D,GAAKmD,EAEL,OADA/hB,KAAKyhB,qBAAqBM,GACnBA,EAGTX,sBACE,MAAMxD,EAAYc,EAAuBG,GAAkB,GAC3D,GAAKjB,EAEL,MAAO,OAASA,EAAUlD,IAAIwE,QAAQ,KAAM,IAG9CoC,sBAAsBxB,EAAM9C,EAAQzH,GAClC,MAAMyM,EAAS,IAAIC,IAAJ,UAAWnC,EAAX,YAAmB9C,EAAOkF,gBAEzC,OADArnB,OAAOsnB,QAAQ5M,GAAQpU,SAAQ,EAAErB,EAAK0G,KAASwb,EAAO7C,aAAaxd,IAAI7B,EAAK0G,KACrEwb,EAAO1B,Q,kCCnJlBzlB,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQqnB,cAAgBrnB,EAAQsnB,YAActnB,EAAQunB,WAAavnB,EAAQwnB,mBAAgB,EAE3F,IAAI3V,EAAQpR,EAAQ,KAEhB0Q,EAAU1Q,EAAQ,KAElBoF,EAASpF,EAAQ,KAEjBsR,EAAgBtR,EAAQ,KAExB8gB,EAA6B9gB,EAAQ,KAErCgnB,EAAYhnB,EAAQ,KAKxB,MAAM+mB,UAAsB3V,EAAMwQ,eAChC3d,YAAYE,GACVI,QACAC,KAAKL,SAAWA,EAChBK,KAAKud,cAAc,CACjB5U,KAAM,oBACN6U,SAAUxd,KAAKyiB,qBAInBA,mBACE,MAAO,CAAC,cAGVC,YAAYC,GACV,OAAO,IAAIL,EAAWtiB,KAAKL,SAAUgjB,GAGvB,mBACd,MAAMA,QAAoB,EAAIH,EAAUI,UAClCC,EAAW7iB,KAAK0iB,YAAYC,GAgBlC,OAdKA,EAAYG,uBACTH,EAAYI,QAAQ,CACxBzN,OAAQ,wBAIZqN,EAAYK,YAAY,mBAAmBC,IACrCA,GAAUA,EAAOpd,OAAS,EAC5B9F,MAAMmjB,kBAAkBL,GAI1B9iB,MAAMojB,yBAAyB,mBAE1BN,GAKX9nB,EAAQwnB,cAAgBA,EAExB,MAAMD,UAAmBhG,EAA2BoB,0BAClDje,YAAYE,EAAUgjB,GACpB5iB,MAAM,CACJJ,aAEFK,KAAKL,SAAWA,EAChBK,KAAK2iB,YAAcA,EAGrBlI,aACE,MAAM2I,EAAkBxiB,EAAOoN,MAAMjG,MAAMmE,EAAQwF,mBAAmB5C,OAAO,CAC3EqC,iBAAkBjF,EAAQmX,eAAeC,IACzClS,wBAAyBpR,KAAK2iB,YAAYG,gBAC1CnR,aAAc,KAGhB,OAAO3R,KAAKL,SAASyO,eAAepO,KAAKL,SAASoO,UAAU,UAAWqV,IAGzEG,gBACE,MAAO,CACLtV,KAAM/B,EAAQmX,eAAeC,IAC7BpV,WAAYlO,KAAK2iB,YAAYG,iBAIf,mBAAClI,GACjB,MAAM3U,EAAOjG,KAAK2iB,YAAYG,gBAC9B,OAAO9iB,KAAK2iB,YAAYI,QAAQ,CAC9BzN,OAAQ,gBACRC,OAAQ,CAACtP,EAAM2U,KAIF,kBAACA,GAChB,MAAM4I,QAAsBxjB,KAAKyjB,aAAa7I,GAC9C,IAAI8I,EAAI3e,OAAO4e,SAASH,EAAc5Q,OAAO,GAAI,IAC7C8Q,GAAK,KAAIA,GAAK,IAClB,MAAM9F,EAAY,KAAO4F,EAAc5Q,MAAM,GAAI,GAAK8Q,EAAEvgB,SAAS,IAAIygB,SAAS,EAAG,KACjF,OAAO9F,QAAQC,QAAQ,IAAIjR,EAAcQ,QAAO,EAAIpB,EAAQ2X,4BAA4B,CACtFjG,UAAW,IAAI9Q,EAAcQ,OAAOsQ,MAClC1C,kBAKRngB,EAAQunB,WAAaA,EAsBrBvnB,EAAQsnB,YApBR,cAA0BE,EACxB9iB,YAAYE,GACVI,MAAMJ,GACNK,KAAKL,SAAWA,EAChBK,KAAKud,cAAc,CACjB5U,KAAM,gBACN6U,SAAUxd,KAAKyiB,qBAInBA,mBACE,MAAO,GAGTC,YAAYC,GACV,OAAO,IAAIP,EAAcpiB,KAAKL,SAAUgjB,KAO5C,MAAMP,UAAsBE,EAC1B7iB,YAAYE,EAAUgjB,GACpB5iB,MAAMJ,EAAUgjB,GAGlBlI,aACE,MAAM2I,EAAkBxiB,EAAOoN,MAAMjG,MAAMmE,EAAQ4X,sBAAsBhV,OAAO,CAC9EqC,iBAAkBjF,EAAQmX,eAAeC,IACzClS,wBAAyBpR,KAAK2iB,YAAYG,gBAC1CnR,aAAczF,EAAQ6X,WAAWC,SACjCC,wBAAyB,EACzBC,wBAAyB,KAG3B,OAAOlkB,KAAKL,SAASyO,eAAepO,KAAKL,SAASoO,UAAU,UAAWqV,KAK3EroB,EAAQqnB,cAAgBA,G,kCCxJxBvnB,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAGT,IAAImpB,EAAmB3oB,EAAQ,KAE/BX,OAAOmR,KAAKmY,GAAkBhjB,SAAQ,SAAUrB,GAClC,YAARA,GAA6B,eAARA,IACrBA,KAAO/E,GAAWA,EAAQ+E,KAASqkB,EAAiBrkB,IACxDjF,OAAOC,eAAeC,EAAS+E,EAAK,CAClC7E,YAAY,EACZC,IAAK,WACH,OAAOipB,EAAiBrkB,UAK9B,IAAIskB,EAAgB5oB,EAAQ,MAE5BX,OAAOmR,KAAKoY,GAAejjB,SAAQ,SAAUrB,GAC/B,YAARA,GAA6B,eAARA,IACrBA,KAAO/E,GAAWA,EAAQ+E,KAASskB,EAActkB,IACrDjF,OAAOC,eAAeC,EAAS+E,EAAK,CAClC7E,YAAY,EACZC,IAAK,WACH,OAAOkpB,EAActkB,W,iCC0B3B,SAAS6C,EAAKiY,GACZ,MAAM,IAAI7U,MAAM6U,GApDlB/f,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQspB,cASR,WACE,MAAM,IAAIte,MAAM,kBATlBhL,EAAQupB,WAYR,SAAoBC,GAClB,OAAO,IAAIzG,SAAQC,GAAWwC,WAAWxC,EAASwG,MAZpDxpB,EAAQypB,gBA0BR,SAAyBC,GACvB,MAAO,KAAO,IAAIze,MAAMye,IAAkBrmB,KAAI,IAAMqJ,KAAKid,MAAsB,GAAhBjd,KAAKkd,UAAexhB,SAAS,MAAKyhB,KAAK,KA1BxG7pB,EAAQsV,YA6BR,SAAqB3U,GACnB,GAAS,MAALA,EAAW,MAAM,IAAIqK,MAAM,qBAC/B,OAAOrK,GA9BTX,EAAQ8pB,WAiCR,SAAoB7W,GAClB,kBAAY,IAAIA,GAAO5P,KAAI0mB,GAAKA,EAAE3hB,SAAS,IAAIygB,SAAS,EAAG,OAAMgB,KAAK,MAjCxE7pB,EAAQikB,WAoCR,SAAoB+F,GAElB,MAAMC,GADND,EAAMA,EAAIE,WAAW,MAAQF,EAAInS,MAAM,GAAKmS,GAC1BC,MAAM,WACxB,IAAKA,EAAO,MAAM,IAAIjf,MAAJ,uBAA0Bgf,EAA1B,qBAClB,OAAO1V,WAAWpJ,KAAK+e,EAAM5mB,KAAI8mB,GAAQvB,SAASuB,EAAM,QAvC1DnqB,EAAQ4H,KAAOA,EACf5H,EAAQwX,QA6CR,SAAiB4S,EAAWC,GAC1B,GAAID,EAAW,OAEf,GAAmB,oBAARC,EACT,MAAMA,IAGW,kBAARA,GAAkBziB,EAAKyiB,GAClC,GAAIA,aAAerf,MAAO,MAAMqf,EAChCziB,M,kCChEF9H,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQsqB,wBAA0BtqB,EAAQuqB,8BAA2B,EAErE,IAAIC,EAAO/pB,EAAQ,KAEnB,SAAS+K,EAAgB1G,EAAKC,EAAK9E,GAAiK,OAApJ8E,KAAOD,EAAOhF,OAAOC,eAAe+E,EAAKC,EAAK,CAAE9E,MAAOA,EAAOC,YAAY,EAAMgF,cAAc,EAAMC,UAAU,IAAkBL,EAAIC,GAAO9E,EAAgB6E,EAE3M,MAAMylB,EACJ7lB,YAAYuF,EAAQwgB,EAAS,wBAAyBC,EAAoB,CAAC,YACzElf,EAAgBvG,KAAM,cAAU,GAEhCuG,EAAgBvG,KAAM,WAAO,GAE7BuG,EAAgBvG,KAAM,cAAU,GAEhCuG,EAAgBvG,KAAM,yBAAqB,GAE3CA,KAAKgF,OAASA,EACdhF,KAAKwlB,OAASA,EACdxlB,KAAKgV,IAAM,IAAIuQ,EAAKG,IAAIF,GACxBxlB,KAAKylB,kBAAoBA,EAGF,0BAAC/oB,GACxB,IAAIipB,EAEJ,MAAMC,QAAmB5lB,KAAKgV,IAAI6Q,gBAAgBnpB,EAASD,SACrDN,EAAsB,OAAfypB,QAAsC,IAAfA,GAAsH,QAApFD,EAAwBC,EAAWE,YAAYpnB,QAAQqG,OAAOrI,EAASE,eAA+C,IAA1B+oB,OAAtG,EAAkJA,EAAsBxpB,KACpO,QAAaoB,IAATpB,EAAoB,MAAM,IAAI4J,MAAJ,sCAAyCrJ,EAASD,QAAlD,mBAAoEC,EAASE,QAC3G,OAAOT,EAGa,uBAAC4pB,GACrB,MAAMC,EAAehmB,KAAKgF,OAAOihB,QAAQF,GAEzC,IAAKC,EACH,MAAM,IAAIjgB,MAAJ,yCAA4CggB,EAA5C,6DAGR,MAAMG,EAAoB,CACxBC,4BAA4B,EAC5BC,iBAAkB,CAChB3pB,QAASupB,EAAaK,QACtBzpB,MAAOopB,EAAaM,QAIxB,GAAItmB,KAAKylB,kBAAkBc,SAASR,GAAY,CAGjB,gBAFD/lB,KAAKgV,IAAIwR,cAAcN,EAAkBE,kBAAkB,IAErEK,SAChBP,EAAkBC,4BAA6B,GAInD,OAAOD,GAKXnrB,EAAQuqB,yBAA2BA,EAcnCvqB,EAAQsqB,wBAZR,cAAsCC,EACpCoB,aAAaX,GACX,MAAMC,EAAehmB,KAAKgF,OAAOihB,QAAQF,GACzC,GAAKC,EACL,MAAO,CACLvpB,QAASupB,EAAaK,QACtBzpB,MAAOopB,EAAaM,U,kCCtE1BzrB,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ4rB,4BAAyB,EAEjC,IAAIC,EAAIprB,EAAQ,KAIhB,MAAMmrB,UAA+BC,EAAEtB,yBACrC7lB,YAAYuF,EAAQwgB,EAAS,wBAAyBqB,EAAa,yBAHrE,IAAyBhnB,EAAKC,EAAK9E,EAI/B+E,MAAMiF,EAAQwgB,GAJiBxqB,OAMQ,GANb8E,EAMJ,mBANDD,EAMLG,MAN0CnF,OAAOC,eAAe+E,EAAKC,EAAK,CAAE9E,MAAOA,EAAOC,YAAY,EAAMgF,cAAc,EAAMC,UAAU,IAAkBL,EAAIC,GAAO9E,EAQvLgF,KAAK8mB,cAAgB,IAAIF,EAAEG,cAAcF,GAGzB,mBAACd,GACjB,MAAM,2BACJI,EADI,iBAEJC,SACQpmB,KAAKgnB,iBAAiBjB,GAChC,GAAII,EAA4B,OAAOC,EACvC,MAAMjqB,QAAa6D,KAAKinB,oBAAoBb,IAE1Cc,QAASjW,SACDjR,KAAK8mB,cAAcK,UAAU,CACrCC,WAAY,CACVrT,OAAQ5X,EACR6X,YAAa,UAIjB,OAAI/C,EAAM,GACDA,EAAM,GAAGzU,eADlB,GASJzB,EAAQ4rB,uBAAyBA,G,kCC3CjC9rB,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQssB,kCAA+B,EAEvC,IAAIza,EAAQpR,EAAQ,IAEhBorB,EAAIprB,EAAQ,KAEhB,MAAM6rB,UAAqCT,EAAEtB,yBACzB,mBAACS,GACjB,MAAM,2BACJI,EADI,iBAEJC,SACQpmB,KAAKgnB,iBAAiBjB,GAChC,GAAII,EAA4B,OAAOC,EACvC,MAAMjqB,QAAa6D,KAAKinB,oBAAoBb,GAUtCkB,EAAgBzsB,OAAOqL,OATP,CACpBqhB,QAAS,CACPC,UAAW,qEACXC,UAAW,OACXpB,QAAS,yBACTC,MAAO,MACPoB,SAAU,UAIR9qB,EAAQ0qB,EAAcK,WAAU3B,IAAkC,OAAjBA,QAA0C,IAAjBA,OAA0B,EAASA,EAAawB,aAAe5a,EAAMuC,MAAMC,kBAAkBjT,KAA2B,OAAjB6pB,QAA0C,IAAjBA,OAA0B,EAASA,EAAayB,aAAetrB,EAAKL,YAC9Q8rB,EAAQN,EAAc1qB,GAC5B,OAAKgrB,EACE,CACLnrB,QAASmrB,EAAMvB,QACfzpB,MAAOgrB,EAAMtB,YAHf,GASJvrB,EAAQssB,6BAA+BA,G,kCCtCvCxsB,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ8sB,yBAAsB,EA2E9B9sB,EAAQ8sB,oBAzER,MACEpoB,YAAYsQ,GACV/P,KAAK+P,QAAUA,EAGjB+X,UAAUC,GACR,MAAM,KACJvqB,EADI,KAEJrB,GACE4rB,EACJ,IAAIjU,EAEJ,QAAavW,IAATC,EACFsW,EAAY,CACVC,OAAQvW,EACRwW,YAAa,aAGHzW,GAARpB,GAA8B,UAATA,IACvB2X,EAAUzK,OAAS,CACjB0K,OAAQ5X,QAGP,CACL,QAAYoB,GAARpB,GAA6B,SAARA,EAMvB,MAAM,IAAI4J,MAAJ,sEAAyE0Z,KAAKmC,UAAUmG,KAL9FjU,EAAY,CACVC,OAAQ5X,EACR6X,YAAa,QAOnB,MAAMgU,EAAYD,EAAQ3rB,MAAQ,KAC5B2T,EAAU/P,KAAK+P,QACrB,MAAO,CACLkY,QAAO,KACE,CACL,OAAQC,OAAOC,iBAGb,OAAS,CACP,MAGMC,SAHYrY,EAAQoX,UAAU,CAClCC,WAAYtT,KAEQoT,QAEtB,IAAK,MAAMhjB,KAAQkkB,EACC,QAAdJ,GAAuBA,IAAc9jB,EAAKnG,mBACtC,CACJX,YAAa8G,EAAKpG,OAClB1B,KAAM8H,EAAKnG,YACXvB,UAAW0H,EAAK1H,UAChBgZ,aAActR,EAAKsR,eAKzB,GAAI4S,EAAUviB,OAnBE,IAoBd,c,kCCjEhBhL,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQstB,kBAAe,EAEvB,IAAIzb,EAAQpR,EAAQ,IAEhB2oB,EAAmB3oB,EAAQ,KAE/B,MAAM6sB,UAAqBlE,EAAiBmE,gBAChC,aACR,OAAOvoB,MAAMiF,OAGfujB,KAAKvjB,GACH,OAAOjF,MAAMwoB,KAAKvjB,GAGpBwjB,gBAAgB1oB,GACd,MAAMkmB,EAAejmB,MAAMyoB,gBAAgB1oB,GAC3C,IAAKkmB,EAAc,MAAM,IAAIjgB,MAAJ,0BAA6BjG,EAA7B,sCACzB,OAAOkmB,EAGTjY,UAAUgY,EAAWlqB,EAAO,MAC1B,MAAMkY,EAAShU,MAAMgO,UAAUgY,EAAWlqB,GAC1C,IAAKkY,EAAQ,MAAM,IAAIhO,MAAJ,0BAA6BggB,EAA7B,sCACnB,OAAOhS,EAGT9D,kBAAkB8V,GAChB,MAAM0C,EAAWzoB,KAAK+N,UAAUgY,GAChC,MAAO,CACLpqB,UAAW8sB,EAAS9sB,UACpBG,UAAW2sB,EAAS3sB,WAIxB+O,cAAc6d,GACZ,MAAMC,EAAmC,kBAAXD,EAAsB9b,EAAMuC,MAAMC,kBAAkBpP,KAAKkD,cAAcwlB,IAAW9b,EAAMuC,MAAMC,kBAAkBsZ,GAC9I,OAAO1oB,KAAK+N,UAAU,OAAQ4a,GAGhCnW,aAAa1S,EAAK8oB,GAChB,MAAM7U,EAA+B,kBAAf6U,EAA0B5oB,KAAKkD,cAAc0lB,GAAcA,EAC3E5C,EAAehmB,KAAKwoB,gBAAgB1oB,GAC1C,OAAOkmB,EAAawB,YAAczT,EAAOpY,WAAaqqB,EAAayB,YAAc1T,EAAOjY,WAK5Ff,EAAQstB,aAAeA,G,kCCnDvBxtB,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ8tB,gBAAa,EAErB,IAAIC,EAASC,EAAwBvtB,EAAQ,OAEzCwtB,EAAOD,EAAwBvtB,EAAQ,OAE3C,SAASytB,EAAyBC,GAAe,GAAuB,oBAAZ/L,QAAwB,OAAO,KAAM,IAAIgM,EAAoB,IAAIhM,QAAeiM,EAAmB,IAAIjM,QAAW,OAAQ8L,EAA2B,SAAUC,GAAe,OAAOA,EAAcE,EAAmBD,IAAsBD,GAExS,SAASH,EAAwBlpB,EAAKqpB,GAAe,IAAKA,GAAerpB,GAAOA,EAAImN,WAAc,OAAOnN,EAAO,GAAY,OAARA,GAA+B,kBAARA,GAAmC,oBAARA,EAAsB,MAAO,CAAEoN,QAASpN,GAAS,IAAIwpB,EAAQJ,EAAyBC,GAAc,GAAIG,GAASA,EAAMpM,IAAIpd,GAAQ,OAAOwpB,EAAMnuB,IAAI2E,GAAQ,IAAIypB,EAAS,GAAQC,EAAwB1uB,OAAOC,gBAAkBD,OAAO2uB,yBAA0B,IAAK,IAAI1pB,KAAOD,EAAO,GAAY,YAARC,GAAqBjF,OAAO4uB,UAAUC,eAAehN,KAAK7c,EAAKC,GAAM,CAAE,IAAI6pB,EAAOJ,EAAwB1uB,OAAO2uB,yBAAyB3pB,EAAKC,GAAO,KAAU6pB,IAASA,EAAKzuB,KAAOyuB,EAAKhoB,KAAQ9G,OAAOC,eAAewuB,EAAQxpB,EAAK6pB,GAAgBL,EAAOxpB,GAAOD,EAAIC,GAAyE,OAA7DwpB,EAAOrc,QAAUpN,EAASwpB,GAASA,EAAM1nB,IAAI9B,EAAKypB,GAAkBA,EAE3xB,MAQMT,EAAa,CACjBC,OATuB,CACvBc,OAAQ,MACR3D,QAAS6C,EAAO7C,SAQhB+C,KANqB,CACrBY,OAAQ,MACR3D,QAAS+C,EAAK/C,UAMhBlrB,EAAQ8tB,WAAaA,G,kCCzBrBhuB,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQkrB,aAAU,EAElB,IAAI4D,EAAiBruB,EAAQ,KAG7B,MAAMyqB,EAAU,CACd6D,mBAAoBD,EAAehB,WAAWkB,QAAQ9D,QAAQ6D,mBAC9DE,eAAgBH,EAAehB,WAAWkB,QAAQ9D,QAAQ+D,eAC1DC,KAAMJ,EAAehB,WAAWkB,QAAQ9D,QAAQgE,KAKhDC,kBAAmB,CACjB1C,UAAW,qEACXC,UAAW,OACXpB,QAAS,qEACTC,MAAO,MACPoB,SAAU,QAMZyC,sBAAuB,CACrB3C,UAAW,qEACXC,UAAW,OACXpB,QAAS,qEACTC,MAAO,MACPoB,SAAU,QAEZ0C,QAAS,CACP9D,MAAO,MACPD,QAAS,qEACTqB,SAAU,OACVF,UAAW,qEACXC,UAAW,QAEbF,QAAS,CACPC,UAAW,qEACXC,UAAW,OACXpB,QAAS,qEACTC,MAAO,MACPoB,SAAU,QAEZ2C,OAAQ,CACN7C,UAAW,qEACXC,UAAW,OACXpB,QAAS,qEACTC,MAAO,MACPoB,SAAU,cAGd3sB,EAAQkrB,QAAUA,G,kCCxDlBprB,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQkrB,aAAU,EAElB,IAAI4D,EAAiBruB,EAAQ,KAG7B,MAAMyqB,EAAU,CACd6D,mBAAoBD,EAAehB,WAAWyB,KAAKrE,QAAQ6D,mBAC3DE,eAAgBH,EAAehB,WAAWyB,KAAKrE,QAAQ+D,eACvDC,KAAMJ,EAAehB,WAAWyB,KAAKrE,QAAQgE,KAK7CC,kBAAmB,CACjB1C,UAAW,KACXC,UAAW,OACXpB,QAAS,KACTC,MAAO,KACPoB,SAAU,QAMZyC,sBAAuB,CACrB3C,UAAW,KACXC,UAAW,OACXpB,QAAS,KACTC,MAAO,KACPoB,SAAU,QAEZ0C,QAAS,CACP9D,MAAO,MACPD,QAAS,qEACTqB,SAAU,OACVF,UAAW,qEACXC,UAAW,QAEbF,QAAS,CACPC,UAAW,qEACXC,UAAW,OACXpB,QAAS,qEACTC,MAAO,MACPoB,SAAU,QAEZ2C,OAAQ,CACN7C,UAAW,qEACXC,UAAW,OACXpB,QAAS,qEACTC,MAAO,MACPoB,SAAU,cAGd3sB,EAAQkrB,QAAUA,G,iCCxDlBprB,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETH,OAAOC,eAAeC,EAAS,QAAS,CACtCE,YAAY,EACZC,IAAK,WACH,OAAOqvB,EAAO7nB,SAGlB7H,OAAOC,eAAeC,EAAS,iBAAkB,CAC/CE,YAAY,EACZC,IAAK,WACH,OAAOqvB,EAAOC,kBAGlB3vB,OAAOC,eAAeC,EAAS,YAAa,CAC1CE,YAAY,EACZC,IAAK,WACH,OAAOuvB,EAAWhe,aAGtB5R,OAAOC,eAAeC,EAAS,gBAAiB,CAC9CE,YAAY,EACZC,IAAK,WACH,OAAOwvB,EAAWrG,iBAGtBtpB,EAAQiT,WAAQ,EAEhB,IAAIuc,EAAS/uB,EAAQ,KAEjBivB,EAAajvB,EAAQ,KAErBkvB,EAAalvB,EAAQ,KAErBmvB,EAMJ,SAAiC9qB,EAAKqpB,GAAe,IAAKA,GAAerpB,GAAOA,EAAImN,WAAc,OAAOnN,EAAO,GAAY,OAARA,GAA+B,kBAARA,GAAmC,oBAARA,EAAsB,MAAO,CAAEoN,QAASpN,GAAS,IAAIwpB,EAAQJ,EAAyBC,GAAc,GAAIG,GAASA,EAAMpM,IAAIpd,GAAQ,OAAOwpB,EAAMnuB,IAAI2E,GAAQ,IAAIypB,EAAS,GAAQC,EAAwB1uB,OAAOC,gBAAkBD,OAAO2uB,yBAA0B,IAAK,IAAI1pB,KAAOD,EAAO,GAAY,YAARC,GAAqBjF,OAAO4uB,UAAUC,eAAehN,KAAK7c,EAAKC,GAAM,CAAE,IAAI6pB,EAAOJ,EAAwB1uB,OAAO2uB,yBAAyB3pB,EAAKC,GAAO,KAAU6pB,IAASA,EAAKzuB,KAAOyuB,EAAKhoB,KAAQ9G,OAAOC,eAAewuB,EAAQxpB,EAAK6pB,GAAgBL,EAAOxpB,GAAOD,EAAIC,GAAYwpB,EAAOrc,QAAUpN,EAASwpB,GAASA,EAAM1nB,IAAI9B,EAAKypB,GAAW,OAAOA,EAN9wBP,CAAwBvtB,EAAQ,MAI7C,SAASytB,EAAyBC,GAAe,GAAuB,oBAAZ/L,QAAwB,OAAO,KAAM,IAAIgM,EAAoB,IAAIhM,QAAeiM,EAAmB,IAAIjM,QAAW,OAAQ8L,EAA2B,SAAUC,GAAe,OAAOA,EAAcE,EAAmBD,IAAsBD,GAFxSnuB,EAAQiT,MAAQ2c,G,oLCzBT,SAASC,IACd,MAAMC,EAAgBC,mBAAqB,KAQlC,CACLC,WAPkClC,aAAWC,OAQ7CkC,UAPgB,kCAQhBC,OAPa,8BAQbC,yBAP+B,kDAQ/BC,8BAPoC,8CAQpCC,2BAPiC,8CASlC,IAEH,OAAOC,0BAA6B,cAAeR,GC5B9C,MAAMS,EAAwBC,aAA0C,KAC7E,MAAOC,EAAcC,GAAmBC,sBACjCC,GAAef,IAMtB,OALAgB,qBAAU,KACR,MAAMjsB,EAAW,IAAI0oB,eAAasD,EAAYX,UAAWW,EAAYV,QAChEtrB,EAAS4oB,KAAK,IAAKoD,EAAYZ,aAAc/Z,MAAK,IAAMya,EAAgB9rB,OAC5E,CAACgsB,IAEGH,KCVyCK,qBCAHC,kBCAxC,MAAMC,UAAgC/N,gBAC3Cve,YAAYE,GACVI,MAAMJ,GACNK,KAAKud,cAAc,CAAE5U,KAAM,YAC3BqjB,YAAehsB,KAAM,CACnBisB,cAAeC,IACfjJ,OAAQiJ,OCNP,MAAMC,UAAiC5J,gBAC5C9iB,YAAYE,GACVI,MAAMJ,GACNK,KAAKud,cAAc,CAAE5U,KAAM,+BAC3BqjB,YAAehsB,KAAM,CACnBisB,cAAeC,IACfjJ,OAAQiJ,OCNP,MAAME,UAAoC/J,cAC/C5iB,YAAYE,GACVI,MAAMJ,GACNK,KAAKud,cAAc,CAAE5U,KAAM,2BAC3BqjB,YAAehsB,KAAM,CACnBisB,cAAeC,IACfjJ,OAAQiJ,OCuGP,MAAMG,EAAkBd,aA5F/B,WACE,MAAMC,EAAeF,EAAsBgB,gBACpCC,EAAmBC,GAAwBnB,0BAA+B,qBAG3EoB,EAAUC,aAAqC,IAAM,MACpDC,EAAeC,GAAoBlB,sBACnCmB,EAAOC,GAAYpB,mBAAoC,OACvDqB,EAASC,GAActB,oBAAS,IAChCuB,EAAeC,GAAoBxB,oBAAS,GAE7CyB,EAAkBC,uBAAaL,IACnCC,EAAWD,GACXD,EAAS,QACR,IAEHlB,qBAAU,KACHJ,GAEL6B,aAAY,KAAO,IAAD,EAChBZ,EAAQa,OAAO,GACfb,EAAQzpB,KACN,IAAI+oB,EAAwBP,GAC5B,IAAIW,EAAyBX,GAC7B,IAAIY,EAA4BZ,IAElC,UAAAiB,EAAQnsB,MAAMtF,GAAUA,EAAMyhB,WAAW9T,OAAS4jB,WAAlD,SAAsEgB,eAEvE,CAAC/B,IAEJI,qBACE,IACE4B,aAAQ,KACDf,GACLA,EAAQtrB,SAAQ,CAACssB,EAAQ7wB,KAoBvB6wB,EAAOC,GAAG,wBAnBsBzB,IAC9B,GAAsB,iBAAlBA,EAAkC,CACpC,MAAM0B,EAAwBlB,EAAQnsB,MAAMstB,GAA0B,cAApBA,EAAE3B,gBAIlDO,EAHGmB,EAGkBA,EAAsBlR,WAAW9T,KAFjC,MAKzB,GAAsB,cAAlBsjB,EAA+B,CACjCkB,GAAgB,GAChB,MAAMU,EAAkBpB,EAAQnsB,MAAMstB,GAAMA,EAAEnR,WAAW9T,OAAS8kB,EAAOhR,WAAW9T,OACpF,IAAKklB,EACH,MAAM,IAAI9nB,MAAM,wCAEhBymB,EAAqBqB,EAAgBpR,WAAW9T,UAKtD8kB,EAAOC,GAAG,SAAUtI,GAClB0H,EAAS,CACPD,MAAOzH,EACPxoB,MAAOA,aAKjB,CAACuwB,EAAiBV,IAGpB,MAAMqB,EAAgBrB,EAAQnsB,MAAMtF,GAAUA,EAAMyhB,WAAW9T,OAAS4jB,IAaxE,OAXAX,qBAAU,KACR4B,aAAQ,KAAO,IAAD,EACZZ,OAAiBrvB,GACjB,MAAMkwB,EAAShB,EAAQnsB,MAAMtF,GAAUA,EAAMyhB,WAAW9T,OAAS4jB,IAC5DzO,QAAQC,QAAR,OAAgB0P,QAAhB,IAAgBA,GAAhB,UAAgBA,EAAQxK,cAAxB,aAAgB,EAAgBxI,cAAczJ,MAAMtQ,IACvDksB,EAAiBlsB,GACjBwsB,GAAiB,WAGpB,CAACX,IAEG,CACLU,gBACAR,UACAqB,gBACAtB,uBACAG,gBACAE,QACAC,WACAC,UACAI,sBAMSY,EAAqBplB,GACzBA,GAAQ,U,wBCvGV,SAASqlB,IACd,MAAOC,EAAUC,GAAW7C,0BAA+B,aACrDlN,EAAU,IAAIH,gBAAcI,uBAAuB,CAAE0B,KAAM,wBACjE,MAAO,CACLqO,YAAahQ,EAAQ2C,eACrBsN,WAAY,IAAMjQ,EAAQwC,gBAC1B0N,aAAclQ,EAAQ4C,aACtBmN,UACAI,QAAS,IAAMJ,EAAQ,MACvBD,Y,aCnBG,MAAMM,EAIX9uB,YAAY+uB,EAA+B7nB,GAAmB,KAH9D6nB,eAG6D,OAF7D7nB,cAE6D,EAC3D3G,KAAKwuB,UAAY,IAAInoB,YAAUmoB,GAC/BxuB,KAAK2G,SAAWA,EAGJ,eAAC6nB,EAAmB7nB,GAChC,OAAO,IAAI4nB,EAAYC,EAAW7nB,GAGjB,oBAAC8nB,EAAwB9nB,GAC1C,MAAM6nB,EAAY,IAAInoB,YAAUooB,GAAgB3nB,MAAM,IAAMH,GAC5D,OAAO,IAAI4nB,EAAYC,EAAW7nB,GAGpC+nB,cACE,OAAO1uB,KAAKwuB,UAAUrrB,WAGxB7F,cACE,MAAO,KAAO0C,KAAKwuB,UAAUrrB,SAAS,IAGxCwrB,mBACE,MAAMF,EAAiBzuB,KAAKwuB,UAAU1nB,MAAM,KAAO9G,KAAK2G,UAClDY,EAAsBknB,EAAetnB,gBAE3C,OADgBsnB,EAAetnB,cAAcI,EAAqBlB,YAAUsB,aAC7DC,WAAWzE,YC1BvB,SAASyrB,EAAeC,EAAaC,EAAeC,EAAMD,GAC/D,IAAKA,IAAUC,GAAOD,GAAS,GAAKC,GAAO,EAAG,MAAM,IAAIhpB,MAAM,2BAC9D,OAAI8oB,EAAIhpB,QAAUipB,EAAQC,EAAYF,EAC/BA,EAAIjc,MAAM,EAAGkc,GAAS,MAAQD,EAAIjc,OAAOmc,GAGlD,MAAMC,EAAY,sBAEX,SAASC,EAAiBj0B,GAC/B,OAAOg0B,EAAUE,KAAKl0B,G,WCFjB,SAASm0B,IACd,MAAM3D,EAAeF,EAAsBgB,gBACrC,cAAEwB,GAAkBzB,EAAgBC,gBACnCX,GAAef,KAChB,QAAEsD,EAAF,QAAWI,GAAYN,IAE7B,OAAOoB,aACL1lB,UACE,GAAI,OAACokB,QAAD,IAACA,MAAe7K,OAAQ,MAAM,IAAIld,MAAM,+BAC5C,IAAKylB,EAAc,MAAM,IAAIzlB,MAAM,qCAEnC,MAAM9H,EAAuB,oBAAXsC,QAA8BA,EAAOirB,EAAcsC,EAAc7K,QAAU1iB,EAC7F,GAAsC,YAAlCutB,EAAcrR,WAAW9T,KAAoB,CAC/C,MAAM0mB,EAAe7vB,6BAA2B8vB,MAAMl0B,UAAU6C,GAChEiwB,EAAQzO,KAAKmC,UAAUyN,IAEzB,MAAM1yB,QAAe6uB,EAAa+D,sBAAsBzB,EAAc7K,OAAOzE,KAAKvgB,IAIlF,MAHsC,YAAlC6vB,EAAcrR,WAAW9T,MAC3B2lB,IAEK,CAAE3xB,OAAQA,KAEnB,CACE6yB,WAAU,OAAE7yB,IACV,MAAM2jB,EAAOqL,EAAYT,yBAA2BvuB,EACpD8yB,IAAMC,QAAQ,CACZC,MAAO,UACPC,QACE,0EAEE,mBAAGtP,KAAMA,EAAMuP,OAAO,SAASC,IAAI,aAAnC,sBAGA,oCACE,qDACCnzB,WAMXozB,QAAQlD,GACN,MAAMmD,GDrDyDlwB,ECqDvB,UDpDhC,OAD+CD,ECqDtBgtB,IDpDF,kBAARhtB,GAAoBC,KAAOD,ECoDGuD,OAAOypB,EAAMjS,SAAW,iBDrD9E,IAAwD/a,EAAQC,ECsD/D2vB,IAAM5C,MAAM,CAAE8C,MAAO,YAAaC,QAASI,EAAUC,MAAO,SChD7D,MAAMC,EAAyB,EAAGC,eACvC,MAAOC,EAAUC,GAAe3E,oBAAS,IACnC,cAAEuB,EAAF,qBAAiBT,GAAyBH,EAAgBC,gBACxDgE,YAAaf,GAAoBJ,KACnC,YAAEhB,EAAF,WAAeC,EAAf,aAA2BC,EAA3B,SAAyCJ,GAAaD,IAoB5D,OAlBApC,qBAAU,KACH,WAMH,GALIuC,IACF3B,EAAqB,WACrB4B,KAGEC,EAAc,CAChB,IAAKpB,EAAe,OACpB,IAAKgB,EAAU,MAAM,IAAIloB,MAAM,sCAC/B,MAAMwqB,EAAW/wB,6BAA2B8vB,MAAMj0B,YAAY4yB,SACxDsB,EAAgBgB,GAAyBC,OAAM,IAAMH,GAAY,KAGzEA,GAAY,IAbT,KAeJ,CAACpD,IAECmD,EACE,mCAAGD,IADY,cAAC,IAAD,K,2CC9BjB,MAAMM,EAAoBC,IAAOC,IAAV,gFAAGD,CAAH,6H,gCCIvB,MAqBME,EAAgBC,aArBY,KACvC,MAAM,cAAE/C,EAAF,gBAAiBX,GAAoBd,EAAgBC,eAE3D,OAAIwB,EAEA,cAAC,IAAD,CAAQgD,KAAK,QAAQC,QAAS,IAAM5D,GAAgB,GAApD,SACE,eAAC,IAAD,WACGY,EAAkBD,EAAcrR,WAAW9T,MAC5C,cAACqoB,EAAA,EAAD,SAON,cAAC,IAAD,CAAQF,KAAK,QAAQ30B,KAAK,UAAU40B,QAAS,IAAM5D,GAAgB,GAAnE,wB,sBCTG,SAAS8D,IACd,MAAQX,YAAaf,GAAoBJ,IAEzC,OAAOC,YAAY,CAAC,gBAAgB1lB,gBAkB5B6lB,GAjBU7lB,MAAO/J,EAAwBsjB,KAC7C,MAAMiO,EAAqC,CACzCjoB,eAAgBrF,EAAMrC,OACtBf,UAAWoD,EAAMpD,UACjB/B,OAAQmF,EAAMnF,QAEY,WAAxBmF,EAAMutB,eACRD,EAAiBjoB,eAAiB,aAClCioB,EAAiB1vB,mBAAqB4vB,UAAQ9qB,UAAUgI,QAAQ,GAAGvG,QACnEmpB,EAAiBzyB,OAAS,KAE1ByyB,EAAiBjoB,eAAiBrF,EAAMrC,QAAU,UAGpD,OADkB,IAAI+I,kBAAgB,CAAEjK,WAAY,CAAC6wB,IAAqBvxB,QAAgBsjB,EAAOxI,cAChF9Z,cCpBhB,SAAS0wB,IACd,MAAMC,EAAmBxG,mBAAqB,IAAM,CAAC,CAAErd,OAAQ,MAAO8jB,QAAS,KAAM,KAC9EC,EAAYC,GAAiBpG,0BAA6B,YAAaiG,GACxEI,EAAetE,uBAClBuE,IACCF,EAAcD,EAAW9vB,OAAOiwB,MAElC,CAACH,EAAYC,IAEf,MAAO,CAAED,aAAYE,gB,sBCJhB,SAASE,IACd,MAAMjyB,EhBAD,WACL,MAAMA,EAAW2rB,EAAsBgB,eAEvC,IAAK3sB,EAAU,MAAM,IAAIoG,MAAM,wEAE/B,OAAOpG,EgBLUkyB,GAEXC,EAAqB1E,uBACxBpyB,IACC,IACE2E,EAASuD,cAAclI,GACvB,MAAO+2B,GACP,MAAO,yBAGX,CAACpyB,IAIGqyB,EAAkB5E,uBACrBrZ,IACC,MAAMke,EAAUtyB,EAASqF,OAAOihB,QAChC,OACElS,EAAOpY,YAAcs2B,EAAQjI,eAAexC,WAC5CzT,EAAOpY,YAAcs2B,EAAQ/H,kBAAkB1C,WAC/CzT,EAAOpY,YAAcs2B,EAAQ7H,QAAQ5C,WACpCzT,EAAOpY,YAAcs2B,EAAQ1K,QAAQC,WAAa0K,EAAgBne,EAAOlY,KAAMkoB,aAAWC,YAG/F,CAACrkB,IAGGuyB,EAAkB,CAACr2B,EAAcoS,KACrC,MAAMkkB,EAAY5gB,mBAAS1V,GAE3B,SAAU6V,qBAAmBJ,OAAO6gB,GAAWxgB,aAAe1D,IAG1DmkB,EAAqBhF,uBACxBpyB,IACC,MAAM6xB,EAAQiF,EAAmB92B,GACjC,OAAI6xB,IACCmF,EAAgBryB,EAASuD,cAAclI,SAA5C,EAA4D,gCAE9D,CAAC2E,EAAUmyB,EAAoBE,IAG3BK,EAAwBjF,uBAC5B1jB,MAAO1O,EAAgBoH,KACrB,MAAMyqB,EAAQuF,EAAmBp3B,GACjC,GAAI6xB,EAAO,OAAOA,EAElB,aADwBltB,EAAS6C,gBAAgBxH,EAAOoH,EAAY,MACtDyD,OAAS,EAAU,4BAAjC,IAEF,CAAClG,EAAUyyB,IAGPE,EAA0BlF,uBAC9B1jB,MAAO1O,EAAgBoH,KACrB,MAAMyqB,EAAQuF,EAAmBp3B,GACjC,GAAI6xB,EAAO,OAAOA,EAElB,OAAyB,WADDltB,EAAS6C,gBAAgBxH,EAAOoH,EAAY,MACtDyD,OAAqB,2BAAnC,IAEF,CAAClG,EAAUyyB,IAGPG,EAA0BnF,uBAC9B1jB,MAAO1O,EAAgBoH,KACrB,MAAMyqB,EAAQuF,EAAmBp3B,GACjC,GAAI6xB,EAAO,OAAOA,EAElB,OAAyB,WADDltB,EAAS6C,gBAAgBxH,EAAOoH,EAAY,MACtDyD,OAAqB,gDAAnC,IAEF,CAAClG,EAAUyyB,IAGPI,EAAiBpF,uBAAY,CAAC3uB,EAAgB8yB,KAClD,MAAMkB,EAAclE,EAAYmE,aAAaj0B,EAAQ8yB,GACrD,OAAIkB,EAAYjE,UAAUmE,QAAgB,iBACtCF,EAAYjE,UAAUvnB,GAAG,GAAW,gCAAxC,IACC,IAEH,MAAO,CACL6qB,qBACAO,wBACAC,0BACAC,0BACAC,kBC3FG,MAAMI,EAAe/B,aAAS,KACnC,MAAM,cAAElE,EAAF,gBAAiBQ,GAAoBd,EAAgBC,gBACpDX,GAAef,IACtB,IAAK+B,EAAe,OAAO,cAAC,IAAD,IAC3B,MAAMkG,EAAmBjE,EAAejC,EAAe,GACjDrM,EAAOqL,EAAYR,8BAAgCwB,EACzD,OACE,qBAAKmG,MAAO,CAAEC,UAAW,OAAQC,aAAc,QAA/C,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAKC,KAAM,EAAGC,OAAQ,EAAtB,SACE,qBAAKJ,MAAO,CAAEK,UAAW,UAAzB,SACE,cAAC,IAAD,CAASxD,MAAO,cAACyD,EAAD,CAAYC,UAAQ,EAApB,SAAsB1G,IAAtC,SACE,mBAAGrM,KAAMA,EAAMuP,OAAO,SAASC,IAAI,aAAnC,SACG+C,UAKT,cAAC,IAAD,CAAKI,KAAM,EAAGC,OAAQ,EAAtB,SACE,qBAAKJ,MAAO,CAAEQ,MAAO,SAArB,SACE,cAAC,IAAD,CAAQxC,KAAK,QAAQC,QAAS,IAAM5D,GAAgB,GAApD,gCAUNiG,EAAa1C,YAAO6C,IAAWC,MAArB,+EAAG9C,CAAH,oB,kCC9BhB,MAAM+C,GAAqB/C,IAAOC,IAAV,oFAAGD,CAAH,6KAeXgD,GAAa7C,aAAS,KACjC,MAAM,QAAEpE,EAAF,qBAAWD,EAAX,QAAiCO,EAAjC,SAA0CD,EAA1C,gBAAoDK,GAAoBd,EAAgBC,eAE9F,OACE,cAAC,IAAD,CACEqH,UAAQ,EACRhE,MAAO,iBACPM,MAAO,IACPlD,QAASA,EACT6G,SAAU,IAAMzG,GAAgB,GAChC0G,OAAQ,KANV,SAQE,cAACJ,GAAD,UACE,cAAC,IAAD,CACEK,YAAY,EACZC,WAAYtH,EACZuH,WAAY,CAAC31B,EAAMzB,IACjB,cAAC,IAAKq3B,KAAN,CACElD,QAAS,KACPjE,EAAS,MACkB,iBAAvBzuB,EAAK4tB,eACP5tB,EAAKkvB,UAEoB,cAAvBlvB,EAAK4tB,gBACPO,EAAqBnuB,EAAKoe,WAAW9T,MACrCwkB,GAAgB,KARtB,SAYE,cAAC+G,GAAD,CAAgBzG,OAAQpvB,EAAMzB,MAAOA,eActCs3B,GAAiBrD,aAAUsD,IACtC,MAAM,OAAE1G,EAAF,MAAU7wB,GAAUu3B,GACpB,MAAEtH,GAAUR,EAAgBC,eAClC,MAA6B,iBAAzBmB,EAAOxB,cAEP,gCACE,eAAC,IAAD,WACG8B,EAAkBN,EAAOhR,WAAW9T,MACrC,cAACyrB,EAAA,EAAD,OAEDvH,GAASA,EAAMjwB,QAAUA,GAAS,eAAC,IAAW42B,KAAZ,CAAiBr3B,KAAK,SAAtB,cAAiC0wB,EAAMA,MAAMjS,cAIzD,eAAzB6S,EAAOxB,cAEP,8BACE,eAAC,IAAD,WACG8B,EAAkBN,EAAOhR,WAAW9T,MACrC,cAAC0rB,EAAA,EAAD,CAAcC,MAAI,SAMxB,8BACE,eAAC,IAAD,WACGvG,EAAkBN,EAAOhR,WAAW9T,MACrC,cAACqoB,EAAA,EAAD,YCzFKuD,GAAwB,IAEjC,eAAC9D,EAAD,WACE,qBAAKqC,MAAO,CAAEE,aAAc,QAA5B,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAKC,KAAM,GAAX,SACE,cAAC,IAAWuB,MAAZ,CAAkBC,MAAO,EAAzB,yBAEF,cAAC,IAAD,CAAKxB,KAAM,GAAX,SACE,qBAAKH,MAAO,CAAEQ,MAAO,QAASoB,WAAY,OAA1C,SACE,cAAC9D,EAAD,aAKR,cAAC8C,GAAD,IACA,cAACd,EAAD,O,+CCXC,MAAM+B,GAA6CR,IACxD,MAAM,OAAEpgB,EAAF,QAAUwd,GAAY4C,EACtB3I,EAAeF,EAAsBgB,gBACrC,cAAEK,GAAkBN,EAAgBC,eACpCsI,EAAQC,aACZ,CAAC,eAAgB,CAAE9gB,OAAQA,EAAQrT,QAASisB,KAC5C,KACE,IAAKnB,IAAiBmB,EAAe,MAAM,IAAI5mB,MAAM,kCACrD,OAAIgO,EACKyX,EAAasJ,cAAcnI,EAAe5Y,GAE5CyX,EAAauJ,uBAAuBpI,KAE7C,CACEqI,UAAWrI,IAGf,OAAIiI,EAAMK,QACD,cAAC,IAAWzB,KAAZ,CAAiBr3B,KAAK,SAAtB,mBAELy4B,EAAMx4B,KACD,cAAC,IAAWo3B,KAAZ,UAAkBjF,EAAY2G,QAAQN,EAAMx4B,KAAMm1B,GAAS5C,qBAE7D,cAACwG,GAAA,EAAD,K,mCCrBF,MAAMC,GAAwCjB,IAAW,IAAD,EAC7D,MAAM,OAAEpgB,EAAF,QAAUwd,GAAY4C,GACrBpH,EAASC,GAActB,oBAAkB,GAC1C/rB,EAAW2rB,EAAsBgB,gBACjC,cAAEK,GAAkBN,EAAgBC,eAEpC+I,EAAqBvK,mBAAuB,KAChD,IAAKnrB,EAAU,MAAM,IAAIoG,MAAM,iCAC/B,IAAK4mB,EAAe,MAAM,IAAI5mB,MAAM,sCACpC,OAAOpG,EAASkL,cAAc8hB,KAC7B,CAAChtB,EAAUgtB,IAER2I,GACJ,UAAAnB,EAAMpgB,cAAN,eAAcpY,aAAc05B,EAAmB15B,WAC/Cw4B,EAAMpgB,OAAOjY,YAAcu5B,EAAmBv5B,WAC9Cq4B,EAAMpgB,OAAOlY,OAASw5B,EAAmBx5B,KAErC05B,EAAgBD,EAAS,OAAS,OAElCV,EAAQC,aACZ,CAAC,eAAgB,CAAE9gB,OAAQA,EAAQrT,QAASisB,KAC5C,KACE,IAAKhtB,IAAagtB,EAAe,MAAM,IAAI5mB,MAAM,kCACjD,OAAIgO,EACKpU,EAASm1B,cAAcnI,EAAe5Y,GAExCpU,EAASo1B,uBAAuBpI,KAEzC,CACEqI,UAAWrI,IAIT6I,GACHF,IACAV,EAAMa,WAAab,EAAMK,UAAYL,EAAMx4B,MAAQmyB,EAAY2G,QAAQN,EAAMx4B,KAAMm1B,GAAS/C,UAAUxmB,GAAG,IAE5G,OACE,gCACE,cAAC,IAAD,CAAQ7L,KAAK,OAAOq5B,SAAUA,EAAUzE,QAAS,IAAM/D,GAAW,GAAlE,SACGuI,IAEH,cAACG,GAAD,CAAW3I,QAASA,EAASC,WAAYA,EAAY2I,UAAWxB,EAAOmB,OAAQA,QAwBxEI,GAAuCvB,IAClD,MAAM,QAAEpH,EAAF,WAAWC,EAAX,UAAuB2I,EAAvB,OAAkCL,GAAWnB,GAE7C,mBAAErC,EAAF,wBAAsBQ,EAAtB,wBAA+CC,EAA/C,eAAwEC,GAAmBZ,KACzFtB,YAAasF,EAAyBH,UAAWI,GCrEpD,WACL,MAAQvF,YAAaf,GAAoBJ,IAEzC,OAAOC,YAAY,CAAC,mBAAmB1lB,gBAgC/B6lB,GA/BU7lB,MAAO/J,EAAwBsjB,IACzCrf,EAAMmQ,OACU,IAAI3U,yBACpB,CACEiB,WAAY,CACV,CACEG,UAAWoD,EAAMpD,UACjBa,KAAMuC,EAAMmQ,OACZtV,OAAQmF,EAAMnF,OACd8C,OAAQqC,EAAMrC,QAAU,aAI9B5B,QACMsjB,EAAOxI,cAEE9Z,QAEC,IAAImI,qBACpB,CACEzI,WAAY,CACV,CAAEG,UAAWoD,EAAMpD,UAAW/B,OAAQmF,EAAMnF,OAAQwK,eAAgBrF,EAAMrC,QAAU,gBAGxF5B,QACMsjB,EAAOxI,cAEE9Z,aDsCwDm1B,IACvExF,YAAayF,EAAsBN,UAAWO,GAAmB/E,IAGnEtB,GAAS2F,EAAS,QAAU,SAAWK,EAAUloB,OACjDwoB,EAAW7I,uBACdlnB,IACKovB,EACFS,EAAqB,CACnBx0B,OAAQ2E,EAAO3E,OACff,UAAW0F,EAAO1F,UAClB/B,OAAQ8vB,EAAYmE,aAAaxsB,EAAOzH,OAAQk3B,EAAUpE,SAAS7C,cACnEyC,cAAe,UACdngB,MAAK,IAAMgc,GAAW,KAEzB4I,EAAwB,CACtBr0B,OAAQ2E,EAAO3E,OACff,UAAW0F,EAAO1F,UAClB/B,OAAQ8vB,EAAYmE,aAAaxsB,EAAOzH,OAAQk3B,EAAUpE,SAAS7C,cACnE3a,OAAQ4hB,EAAU5hB,SACjB/C,MAAK,IAAMgc,GAAW,OAG7B,CAACsI,EAAQS,EAAsBH,EAAyBD,EAAW3I,IAE/DkJ,EAAUZ,EAASU,EAAiBH,EAoCpCM,EAASC,aAAU,CACvBC,cA3DqC,CAAE90B,OAAQ,UAAWf,UAAW,GAAI/B,OAAQ,IA4DjF2c,SApCe1R,UACf,MAAM4sB,EAA0B,GAEhC,GAAIhB,EAAQ,CAEV,IAAKK,EAAU5hB,OAAQ,MAAM,IAAIhO,MAAM,6CAEvC,GAAsB,YAAlBG,EAAO3E,OAAsB,CAC/B,MAAMg1B,QAAuBjE,EAAwBpsB,EAAO1F,UAAWm1B,EAAU5hB,QAC7EwiB,IAAgBD,EAAO91B,UAAY+1B,OAClC,CACL,MAAMA,QAAuBzE,EAAmB5rB,EAAO1F,WACnD+1B,IAAgBD,EAAO91B,UAAY+1B,SAGzC,GAAIZ,EAAU5hB,QAA4B,YAAlB7N,EAAO3E,OAAsB,CAEnD,MAAMg1B,QAAuBhE,EAAwBrsB,EAAO1F,UAAWm1B,EAAU5hB,QAC7EwiB,IAAgBD,EAAO91B,UAAY+1B,OAClC,CAEL,MAAMA,QAAuBzE,EAAmB5rB,EAAO1F,WACnD+1B,IAAgBD,EAAO91B,UAAY+1B,GAGtCrwB,EAAO1F,YAAW81B,EAAO91B,UAAY,sBAE1C,MAAMg2B,EAAchE,EAAetsB,EAAOzH,OAAQk3B,EAAUpE,SAI5D,OAHIiF,IAAaF,EAAO73B,OAAS+3B,GAC5BtwB,EAAOzH,SAAQ63B,EAAO73B,OAAS,mBAE7B63B,GAMPL,aAGIrC,EAAWxG,uBAAY,KAC3B+I,EAAOM,YACPzJ,GAAW,KACV,CAACmJ,EAAQnJ,IAEZ,OACE,eAAC,IAAD,CAAO2C,MAAOA,EAAOgE,UAAQ,EAAC1D,MAAO,IAAKlD,QAASA,EAAS6G,SAAUA,EAAUC,OAAQ,KAAxF,UACE,8BACE,eAAC,IAAD,CAAK6C,QAAQ,SAASC,MAAM,SAA5B,UACE,cAAC,IAAD,CAAK1D,KAAM,EAAX,SACE,uBAAO2D,QAAQ,SAAf,uBAEF,cAAC,IAAD,CAAK3D,KAAM,GAAX,SACE,eAAC,KAAD,CACEH,MAAO,CAAE7C,MAAO,WACZkG,EAAOU,cAAc,UACzBC,SAAW97B,GAAUm7B,EAAOY,cAAc,SAAU/7B,GAHtD,UAKE,cAAC,KAAOg8B,OAAR,CAA6Bh8B,MAAM,UAAnC,oBAAmB,WAGnB,cAAC,KAAOg8B,OAAR,CAAgCh8B,MAAM,aAAtC,uBAAmB,wBAQ3B,sBAAK83B,MAAO,CAAEC,UAAW,QAAzB,UACE,eAAC,IAAD,CAAK2D,QAAQ,SAASC,MAAM,SAA5B,UACE,cAAC,IAAD,CAAK1D,KAAM,EAAX,SACE,uBAAO2D,QAAQ,YAAf,yBAEF,cAAC,IAAD,CAAK3D,KAAM,GAAX,SACE,cAAC,KAAD,CAAOgE,GAAG,YAAYC,YAAY,iBAAkBf,EAAOU,cAAc,oBAG7E,cAAC,IAAD,UACE,cAAC,IAAD,CAAK3D,OAAQ,EAAb,SACGiD,EAAOgB,QAAQ32B,WAAa21B,EAAOG,OAAO91B,WACzC,cAAC,IAAWgzB,KAAZ,CAAiBr3B,KAAK,SAAtB,SAAgCg6B,EAAOG,OAAO91B,mBAMtD,sBAAKsyB,MAAO,CAAEC,UAAW,QAAzB,UACE,eAAC,IAAD,CAAK2D,QAAQ,SAASC,MAAM,SAA5B,UACE,cAAC,IAAD,CAAK1D,KAAM,EAAX,SACE,uBAAO2D,QAAQ,SAAf,uBAEF,cAAC,IAAD,CAAK3D,KAAM,GAAX,SACE,cAAC,KAAD,CAAOgE,GAAG,YAAad,EAAOU,cAAc,iBAGhD,cAAC,IAAD,UACE,cAAC,IAAD,CAAK3D,OAAQ,EAAb,SACGiD,EAAOgB,QAAQ14B,QAAU03B,EAAOG,OAAO73B,QACtC,cAAC,IAAW+0B,KAAZ,CAAiBr3B,KAAK,SAAtB,SAAgCg6B,EAAOG,OAAO73B,gBAMtD,qBAAKq0B,MAAO,CAAEC,UAAW,OAAQI,UAAW,UAA5C,SACE,cAAC,IAAD,CAAQ+C,QAASA,EAASnF,QAASoF,EAAOiB,WAA1C,0BEhNKC,GAAsB,KACjC,MAAM,WAAE7F,GAAeH,IACjBiG,EAAkC,CACtC,CACEC,OAAQ,CAACv8B,EAAOw8B,IAAW,8BAAMA,EAAO/pB,UAE1C,CACE8pB,OAAQ,CAACv8B,EAAOw8B,IAAW,cAAC7C,GAAD,CAAcpD,QAASiG,EAAOjG,QAASxd,OAAQyjB,EAAOzjB,UAEnF,CACEwjB,OAAQ,CAACv8B,EAAOw8B,IAAW,cAACpC,GAAD,CAAY3nB,OAAQ+pB,EAAO/pB,OAAQ8jB,QAASiG,EAAOjG,QAASxd,OAAQyjB,EAAOzjB,WAI1G,OACE,8BACE,cAAC,KAAD,CAAO+c,KAAK,QAAQ2G,YAAY,EAAOH,QAASA,EAASvD,WAAYvC,EAAYsC,WAAY,CAAE4D,SAAU,Q,yBCXxG,MAAMC,GAAiDxD,IAC5D,MAAM,iBAAE7C,EAAF,cAAoBiE,KAAkBqC,GAAgBzD,GACrDpH,EAASC,GAActB,oBAAkB,GAChD,OACE,gCACE,cAAC,IAAD,IAAYkM,EAAa7G,QAAS,IAAM/D,GAAW,GAAnD,SACGuI,GAAgC,KAEnC,cAAC,GAAD,CAAWxI,QAASA,EAASC,WAAYA,EAAYsE,iBAAkBA,QA2BhEoE,GAAuCvB,IAClD,MAAM,QAAEpH,EAAF,WAAWC,EAAX,iBAAuBsE,GAAqB6C,GAE5C,aAAEzC,GAAiBL,IAEnBgF,EAAiC,CACrC5oB,OAAwB,OAAhB6jB,QAAgB,IAAhBA,KAAkB7jB,OAAS6jB,EAAiB7jB,OAAS,GAC7D8jB,QAAyB,OAAhBD,QAAgB,IAAhBA,KAAkBC,QAAUD,EAAiBC,QAAU,EAChE31B,SAA0B,OAAhB01B,QAAgB,IAAhBA,KAAkB11B,SAAW01B,EAAiB11B,SAAW,GACnEG,SAA0B,OAAhBu1B,QAAgB,IAAhBA,KAAkBv1B,SAAWu1B,EAAiBv1B,SAAW,OACnEF,KAAsB,OAAhBy1B,QAAgB,IAAhBA,KAAkBz1B,KAAOy1B,EAAiBz1B,KAAO,IA4BnDs6B,EAASC,aAAU,CACvBC,gBACAjb,SA3BgBlV,IAChB,MAAMowB,EAA0B,GAqBhC,OApBKpwB,EAAOuH,SACV6oB,EAAO7oB,OAAS,mBAEdvH,EAAOqrB,SAAW,IACpB+E,EAAO/E,QAAU,oCAEdrrB,EAAOtK,SAGLqzB,EAAiB/oB,EAAOtK,YAC3B06B,EAAO16B,SAAW,gCAHpB06B,EAAO16B,SAAW,qBAMfsK,EAAOrK,KAGLozB,EAAiB/oB,EAAOrK,QAC3By6B,EAAOz6B,KAAO,2BAHhBy6B,EAAOz6B,KAAO,gBAMTy6B,GAMPL,SAAU,CAAC/vB,GAA2B2xB,oBACpC,MAAMC,EAA0B,CAC9BrqB,OAAQvH,EAAOuH,OACf8jB,QAASrrB,EAAOqrB,QAChBxd,OAAQ,CACNpY,UAAWuK,EAAOtK,SAClBE,UAAWoK,EAAOnK,SAClBF,KAAMqK,EAAOrK,OAGjB61B,EAAaoG,GACbD,GAAc,GACd7K,GAAW,MAIT4G,EAAWxG,uBAAY,KAC3B+I,EAAOM,YACPzJ,GAAW,KACV,CAACmJ,EAAQnJ,IAEZ,OACE,eAAC,IAAD,CAAO2C,MAAM,YAAYgE,UAAQ,EAAC1D,MAAO,IAAKlD,QAASA,EAAS6G,SAAUA,EAAUC,OAAQ,KAA5F,UACE,gCACE,eAAC,IAAD,CAAK8C,MAAM,SAAX,UACE,cAAC,IAAD,CAAK1D,KAAM,EAAX,SACE,uBAAO2D,QAAQ,SAAf,uBAEF,cAAC,IAAD,CAAK3D,KAAM,GAAX,SACE,cAAC,KAAD,CAAOgE,GAAG,YAAad,EAAOU,cAAc,iBAGhD,cAAC,IAAD,UACE,cAAC,IAAD,CAAK3D,OAAQ,EAAb,SACGiD,EAAOgB,QAAQ1pB,QAAU0oB,EAAOG,OAAO7oB,QACtC,cAAC,IAAW+lB,KAAZ,CAAiBr3B,KAAK,SAAtB,SAAgCg6B,EAAOG,OAAO7oB,gBAMtD,sBAAKqlB,MAAO,CAAEC,UAAW,QAAzB,UACE,eAAC,IAAD,CAAK4D,MAAM,SAAX,UACE,cAAC,IAAD,CAAK1D,KAAM,EAAX,SACE,uBAAO2D,QAAQ,UAAf,wBAEF,cAAC,IAAD,CAAK3D,KAAM,GAAX,SACE,cAAC,KAAD,CACEgE,GAAG,UACHH,SAAW97B,IACJm7B,EAAOY,cAAc,UAAW/7B,GAAO,IAE9C+8B,OAAQ5B,EAAO6B,WACfh9B,MAAOm7B,EAAOjwB,OAAOqrB,eAI3B,cAAC,IAAD,UACE,cAAC,IAAD,CAAK2B,OAAQ,EAAb,SACGiD,EAAOgB,QAAQ5F,SAAW4E,EAAOG,OAAO/E,SACvC,cAAC,IAAWiC,KAAZ,CAAiBr3B,KAAK,SAAtB,SAAgCg6B,EAAOG,OAAO/E,iBAMtD,sBAAKuB,MAAO,CAAEC,UAAW,QAAzB,UACE,eAAC,IAAD,CAAK4D,MAAM,SAAX,UACE,cAAC,IAAD,CAAK1D,KAAM,EAAX,SACE,uBAAO2D,QAAQ,WAAf,0BAEF,cAAC,IAAD,CAAK3D,KAAM,GAAX,SACE,cAAC,KAAD,CAAOgE,GAAG,cAAed,EAAOU,cAAc,mBAGlD,cAAC,IAAD,UACE,cAAC,IAAD,CAAK3D,OAAQ,EAAb,SACGiD,EAAOgB,QAAQv7B,UAAYu6B,EAAOG,OAAO16B,UACxC,cAAC,IAAW43B,KAAZ,CAAiBr3B,KAAK,SAAtB,SAAgCg6B,EAAOG,OAAO16B,kBAMtD,sBAAKk3B,MAAO,CAAEC,UAAW,QAAzB,UACE,eAAC,IAAD,CAAK4D,MAAM,SAAX,UACE,cAAC,IAAD,CAAK1D,KAAM,EAAX,SACE,uBAAO2D,QAAQ,WAAf,0BAEF,cAAC,IAAD,CAAK3D,KAAM,GAAX,SACE,eAAC,KAAMgF,MAAP,CAAahB,GAAG,WAAWtuB,KAAK,WAAWmuB,SAAUX,EAAO+B,aAAcl9B,MAAOm7B,EAAOjwB,OAAOnK,SAA/F,UACE,cAAC,KAAD,CAAOf,MAAM,OAAb,kBACA,cAAC,KAAD,CAAOA,MAAM,OAAb,0BAIN,cAAC,IAAD,UACE,cAAC,IAAD,CAAKk4B,OAAQ,EAAb,SACGiD,EAAOgB,QAAQp7B,UAAYo6B,EAAOG,OAAOv6B,UACxC,cAAC,IAAWy3B,KAAZ,CAAiBr3B,KAAK,SAAtB,SAAgCg6B,EAAOG,OAAOv6B,kBAMtD,sBAAK+2B,MAAO,CAAEC,UAAW,QAAzB,UACE,eAAC,IAAD,CAAK4D,MAAM,SAAX,UACE,cAAC,IAAD,CAAK1D,KAAM,EAAX,SACE,uBAAO2D,QAAQ,OAAf,qBAEF,cAAC,IAAD,CAAK3D,KAAM,GAAX,SACE,cAAC,KAAD,CAAOgE,GAAG,UAAWd,EAAOU,cAAc,eAG9C,cAAC,IAAD,UACE,cAAC,IAAD,CAAK3D,OAAQ,EAAb,SACGiD,EAAOgB,QAAQt7B,MAAQs6B,EAAOG,OAAOz6B,MACpC,cAAC,IAAW23B,KAAZ,CAAiBr3B,KAAK,SAAtB,SAAgCg6B,EAAOG,OAAOz6B,cAMtD,qBAAKi3B,MAAO,CAAEC,UAAW,OAAQI,UAAW,UAA5C,SACE,cAAC,IAAD,CAAQpC,QAASoF,EAAOiB,WAAxB,0BC5MKe,GAAuBtH,aAAS,KAC3C,MAAM,cAAElE,GAAkBN,EAAgBC,eAC1C,OACE,8BACE,eAACmE,EAAD,WACE,qBAAKqC,MAAO,CAAEE,aAAc,QAA5B,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAKC,KAAM,GAAX,SACE,cAAC,IAAWuB,MAAZ,CAAkBC,MAAO,EAAzB,uBAEF,cAAC,IAAD,CAAKxB,KAAM,GAAX,SACE,qBAAKH,MAAO,CAAEQ,MAAO,SAArB,SACG3G,GACC,cAACgL,GAAD,CAAgBx7B,KAAK,OAAO20B,KAAK,QAAQsH,KAAM,cAACC,GAAA,EAAD,CAAoBvF,MAAO,CAAEwF,SAAU,qBAMhG,gCACG3L,GAAiB,cAAC0K,GAAD,KAChB1K,GAAiB,cAAC,IAAD,e,aCftB,MAAM4L,GAAqDpE,IAChE,MAAM,OAAE1mB,EAAF,QAAU8jB,EAAV,OAAmBxd,GAAWogB,GAC7BxI,GAAef,IAChB4N,EAAarpB,SAAMC,kBAAkB2E,GAE3C,OACE,sBAAK+e,MAAO,CAAEC,UAAW,QAAzB,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAKE,KAAM,EAAGC,OAAQ,EAAtB,SACE,cAAC,IAAWM,KAAZ,wBAEF,cAAC,IAAD,CAAKP,KAAM,GAAX,SACE,cAAC,IAAWO,KAAZ,UAAkB/lB,SAGtB,eAAC,IAAD,CAAKqlB,MAAO,CAAEC,UAAW,OAAzB,UACE,cAAC,IAAD,CAAKE,KAAM,EAAGC,OAAQ,EAAtB,SACE,cAAC,IAAWM,KAAZ,yBAEF,cAAC,IAAD,CAAKP,KAAM,GAAX,SACE,cAAC,IAAWO,KAAZ,UAAkBjC,SAGtB,eAAC,IAAD,CAAKuB,MAAO,CAAEC,UAAW,OAAzB,UACE,cAAC,IAAD,CAAKE,KAAM,EAAGC,OAAQ,EAAtB,SACE,cAAC,IAAWM,KAAZ,6BAEF,cAAC,IAAD,CAAKP,KAAM,GAAX,SACE,cAAC,IAAD,CAAStD,MAAO,cAAC8I,GAAD,CAAWpF,UAAQ,EAAnB,SAAqB5T,KAAKmC,UAAU7N,KAApD,SACE,cAAC,IAAW2kB,KAAZ,CACEpY,KAAMqL,EAAYP,2BAA6BoN,EAC/C3I,OAAO,SACPC,IAAI,aAHN,SAKGlB,EAAe4J,EAAY,gBASpCC,GAAY/H,YAAO6C,IAAWC,MAArB,iFAAG9C,CAAH,oBC3CFiI,GAAiB9H,aAAUsD,IACtC,MAAM,UAAEwB,GAAcxB,GACfpH,EAASC,GAActB,oBAAkB,IACzCyF,EAAeyH,GAAoBlN,mBAAwB,UAWlE,OACE,sBAAKoH,MAAO,CAAEE,aAAc,QAA5B,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAKC,KAAM,EAAGC,OAAQ,EAAtB,SACE,cAAC,IAAD,CAAQnC,QAbM,KACpB6H,EAAiB,UACjB5L,GAAW,IAWL,sBAEF,cAAC,IAAD,CAAKiG,KAAM,EAAGC,OAAQ,EAAtB,SACE,cAAC,IAAD,CAAQnC,QAZK,KACnB6H,EAAiB,SACjB5L,GAAW,IAUL,wBAGJ,cAAC,GAAD,CAAWD,QAASA,EAASC,WAAYA,EAAYmE,cAAeA,EAAewE,UAAWA,UAyBvFD,GAAuCvB,IAClD,MAAM,QAAEpH,EAAF,WAAWC,EAAX,cAAuBmE,EAAvB,UAAsCwE,GAAcxB,GAEpD,sBAAE9B,EAAF,wBAAyBC,EAAzB,eAAkDE,GAAmBZ,KACnEtB,YAAayF,EAAsBN,UAAWO,GAAmB/E,IAQnEtB,EAA0B,WAAlBwB,EAA6B,cAAgB,SAAWwE,EAAUloB,OAC1EorB,EAA8C,WAAlB1H,EAA6B,QAAU,aAoCnEgF,EAASC,aAAU,CACvBC,cA5CqC,CACrCyC,gBAAiB,GACjBC,eAAgB,GAChBt6B,OAAQ,GACRu6B,YAAa,WAyCb5d,SApCe1R,UACf,IAAKisB,EAAU5hB,OAAQ,MAAM,IAAIhO,MAAM,6CACvC,MAAMuwB,EAA0B,GAEhC,GAAsB,WAAlBnF,EACF,GAAKjrB,EAAO4yB,gBAEL,CACL,MAAMjM,QAAcwF,EAAsBnsB,EAAO4yB,gBAAiBnD,EAAU5hB,QACxE8Y,IAAOyJ,EAAOwC,gBAAkBjM,QAHpCyJ,EAAOwC,gBAAkB,qBAO7B,GAAsB,UAAlB3H,EAA2B,CAC7B,GAAKjrB,EAAO6yB,eAEL,GAA2B,YAAvB7yB,EAAO8yB,YAA2B,CAC3C,MAAMzC,QAAuBjE,EAAwBpsB,EAAO6yB,eAAgBpD,EAAU5hB,QAClFwiB,IAAgBD,EAAOyC,eAAiBxC,OACvC,CACL,MAAMA,QAAuBlE,EAAsBnsB,EAAO6yB,eAAgBpD,EAAU5hB,QAChFwiB,IAAgBD,EAAOyC,eAAiBxC,QAN5CD,EAAOyC,eAAiB,qBAQ1B,GAAK7yB,EAAOzH,OAEL,CACL,MAAM+3B,EAAchE,EAAetsB,EAAOzH,OAAQk3B,EAAUpE,SACxDiF,IAAaF,EAAO73B,OAAS+3B,QAHjCF,EAAO73B,OAAS,kBAOpB,OAAO63B,GAMPL,SAAW/vB,IACT6vB,EAAqB,CACnBv1B,UAA6B,UAAlB2wB,EAA4BjrB,EAAO6yB,eAAiB7yB,EAAO4yB,gBACtEr6B,OAAQ8vB,EAAYmE,aAAaxsB,EAAOzH,OAAQk3B,EAAUpE,SAAS7C,cACnEyC,cAAeA,EACf5vB,OAAQ2E,EAAO8yB,cACdhoB,MAAK,IAAMgc,GAAW,QAIvB4G,EAAWxG,uBAAY,KAC3B+I,EAAOM,YACPzJ,GAAW,KACV,CAACmJ,EAAQnJ,IAEZ,OACE,eAAC,IAAD,CAAO2C,MAAOA,EAAOgE,UAAQ,EAAC1D,MAAO,IAAKlD,QAASA,EAAS6G,SAAUA,EAAUC,OAAQ,KAAxF,UACqB,WAAlB1C,GACC,gCACE,eAAC,IAAD,CAAKuF,QAAQ,SAASC,MAAM,SAA5B,UACE,cAAC,IAAD,CAAK1D,KAAM,EAAX,SACE,uBAAO2D,QAAQ,kBAAf,SAAkCiC,MAEpC,cAAC,IAAD,CAAK5F,KAAM,GAAX,SACE,cAAC,KAAD,CAAOgE,GAAG,kBAAkBC,YAAY,iBAAkBf,EAAOU,cAAc,0BAGnF,cAAC,IAAD,UACE,cAAC,IAAD,CAAK3D,OAAQ,EAAb,SACGiD,EAAOgB,QAAQ2B,iBAAmB3C,EAAOG,OAAOwC,iBAC/C,cAAC,IAAWtF,KAAZ,CAAiBr3B,KAAK,SAAtB,SAAgCg6B,EAAOG,OAAOwC,yBAOrC,UAAlB3H,GACC,gCACE,8BACE,eAAC,IAAD,CAAKuF,QAAQ,SAASC,MAAM,SAA5B,UACE,cAAC,IAAD,CAAK1D,KAAM,EAAX,SACE,uBAAO2D,QAAQ,cAAf,uBAEF,cAAC,IAAD,CAAK3D,KAAM,GAAX,SACE,eAAC,KAAD,CACEH,MAAO,CAAE7C,MAAO,WACZkG,EAAOU,cAAc,eACzBC,SAAW97B,GAAUm7B,EAAOY,cAAc,cAAe/7B,GAH3D,UAKE,cAAC,KAAOg8B,OAAR,CAA6Bh8B,MAAM,UAAnC,oBAAmB,WAGnB,cAAC,KAAOg8B,OAAR,CAAgCh8B,MAAM,aAAtC,uBAAmB,wBAQ3B,sBAAK83B,MAAO,CAAEC,UAAW,QAAzB,UACE,eAAC,IAAD,CAAK2D,QAAQ,SAASC,MAAM,SAA5B,UACE,cAAC,IAAD,CAAK1D,KAAM,EAAX,SACE,uBAAO2D,QAAQ,iBAAf,SAAiCiC,MAEnC,cAAC,IAAD,CAAK5F,KAAM,GAAX,SACE,cAAC,KAAD,CAAOgE,GAAG,iBAAiBC,YAAY,iBAAkBf,EAAOU,cAAc,yBAGlF,cAAC,IAAD,UACE,cAAC,IAAD,CAAK3D,OAAQ,EAAb,SACGiD,EAAOgB,QAAQ4B,gBAAkB5C,EAAOG,OAAOyC,gBAC9C,cAAC,IAAWvF,KAAZ,CAAiBr3B,KAAK,SAAtB,SAAgCg6B,EAAOG,OAAOyC,wBAMtD,sBAAKjG,MAAO,CAAEC,UAAW,QAAzB,UACE,eAAC,IAAD,CAAK2D,QAAQ,SAASC,MAAM,SAA5B,UACE,cAAC,IAAD,CAAK1D,KAAM,EAAX,SACE,uBAAO2D,QAAQ,SAAf,uBAEF,cAAC,IAAD,CAAK3D,KAAM,GAAX,SACE,cAAC,KAAD,CAAOgE,GAAG,YAAad,EAAOU,cAAc,iBAGhD,cAAC,IAAD,UACE,cAAC,IAAD,CAAK3D,OAAQ,EAAb,SACGiD,EAAOgB,QAAQ14B,QAAU03B,EAAOG,OAAO73B,QACtC,cAAC,IAAW+0B,KAAZ,CAAiBr3B,KAAK,SAAtB,SAAgCg6B,EAAOG,OAAO73B,mBAQ1D,qBAAKq0B,MAAO,CAAEC,UAAW,OAAQI,UAAW,UAA5C,SACE,cAAC,IAAD,CAAQ+C,QAASF,EAAgBjF,QAASoF,EAAOiB,WAAjD,0BC3MK6B,GAAuC9E,IAClD,MAAM,cAAExpB,GAAkBwpB,EACpBx0B,EAAW2rB,EAAsBgB,gBACjC,WAAEkF,GAAeH,IAEjB6H,EAAYpO,mBAAuB,KACvC,IAAKnrB,EAAU,MAAM,IAAIoG,MAAM,iCAC/B,OAAOpG,EAASkL,cAAcF,KAC7B,CAAChL,EAAUgL,IAERgrB,EAAY7K,mBAA+B,IACxC0G,EAAWlxB,MACftF,IAAD,aACE,UAAAA,EAAM+Y,cAAN,eAAcjY,aAAco9B,EAAUp9B,WACtCd,EAAM+Y,OAAOpY,YAAcu9B,EAAUv9B,WACrCX,EAAM+Y,OAAOlY,OAASq9B,EAAUr9B,SAEnC,CAACq9B,EAAW1H,IAET/jB,EAASkoB,EAAYA,EAAUloB,OAAS,IACxC8jB,EAAUoE,EAAYA,EAAUpE,QAAQpuB,WAAa,IAE3D,OACE,qCACE,cAACo1B,GAAD,CAAkB9qB,OAAQA,EAAQ8jB,QAASA,EAASxd,OAAQmlB,IAC5D,sBAAKpG,MAAO,CAAEC,UAAW,OAAQI,UAAW,UAA5C,WACIwC,GACA,cAACgC,GAAD,CACEx7B,KAAK,UACLo5B,cAAc,iBACdjE,iBAAkB,CAChB11B,SAAUs9B,EAAUv9B,UACpBI,SAAUm9B,EAAUp9B,UACpBD,KAAMq9B,EAAUr9B,QAIrB85B,GAAa,cAACgD,GAAD,CAAgBhD,UAAWA,WC1CpCwD,GAAsBtI,aAAS,KAC1C,MAAM,cAAE/C,EAAF,cAAiBnB,GAAkBN,EAAgBC,eACnD8M,EAAc,OAAGtL,QAAH,IAAGA,OAAH,EAAGA,EAAeuL,eAAe,cAErD,OACE,8BACGD,GACC,eAAC3I,EAAD,WACE,8BACE,cAAC,IAAW+D,MAAZ,CAAkBC,MAAO,EAAzB,wBAEA9H,GAAiB,cAAC,IAAD,IAClBA,GAAiB,cAACsM,GAAD,CAAWtuB,cAAegiB,YCbzC2M,GAAoB,IAE7B,cAACC,GAAD,UACE,sBAAKC,UAAU,MAAf,UACE,cAACjF,GAAD,IACA,cAAC4E,GAAD,IACA,cAAChB,GAAD,SAMFoB,GAAc7I,IAAOC,IAAV,wEAAGD,CAAH,gK,QCKF+I,OAhBO,KACpB,MAAMC,EAAc,IAAIC,IAExB,OACE,cAACC,EAAA,EAAD,CAAqBC,OAAQH,EAA7B,SACE,cAACpO,EAAsBwO,SAAvB,UACE,cAACzN,EAAgByN,SAAjB,UACE,cAAC5J,EAAD,UACE,cAACoJ,GAAD,aCDGS,OAZUC,IACnBA,GAAeA,aAAuBC,UACnC,+BAAqBjpB,MAAK,EAAGkpB,SAAQC,SAAQC,SAAQC,SAAQC,cAChEJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHdO,IAAShD,OACP,cAAC,IAAMiD,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1BX,M,iCCdAl/B,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ0F,6BAA+B1F,EAAQ4/B,iBAAmB5/B,EAAQod,iBAAmBpd,EAAQ6O,qBAAuB7O,EAAQ6/B,eAAY,EAEhJ,MAAMA,UAAkB70B,MACtBtG,YAAYo7B,EAAUjgB,GACpB7a,MAAM6a,GACN5a,KAAK66B,SAAWA,GAKpB9/B,EAAQ6/B,UAAYA,EASpB7/B,EAAQ6O,qBAPR,cAAmCgxB,EACjCn7B,YAAYo7B,EAAUjgB,EAAU,8BAC9B7a,MAAM86B,EAAUjgB,KAcpB7f,EAAQod,iBAPR,cAA+ByiB,EAC7Bn7B,YAAYo7B,EAAUjgB,EAAU,+CAAH,OAAkDigB,EAASziB,SAA3D,qBAAgFyiB,EAASxiB,SACpHtY,MAAM86B,EAAUjgB,KAcpB7f,EAAQ4/B,iBAPR,cAA+BC,EAC7Bn7B,YAAYo7B,EAAUjgB,EAAU,+CAAH,OAAkDigB,EAASziB,SAA3D,qBAAgFyiB,EAASxiB,SACpHtY,MAAM86B,EAAUjgB,KAcpB7f,EAAQ0F,6BAPR,cAA2Cm6B,EACzCn7B,YAAYo7B,EAAUjgB,EAAU,mDAC9B7a,MAAM86B,EAAUjgB,M,iCC5CpB/f,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQiG,6BAA0B,EAElC,IAAIkL,EAAU1Q,EAAQ,KAElBD,EAAUC,EAAQ,IAElBsR,EAAgBtR,EAAQ,KAExBoU,EAAUpU,EAAQ,KAElBL,EAAMK,EAAQ,KAEdoF,EAASpF,EAAQ,KAEjBs/B,EAAUt/B,EAAQ,MAEtB,MAAMwF,UAAgCzF,EAAQsJ,QAC5CpF,YAAYE,GACVI,MAAMgF,OAAOpF,EAASqF,OAAOC,eAC7BjF,KAAKL,SAAWA,EAGG,sBAACG,GACpB,MAAY,YAARA,EACK,CAAC3E,EAAIG,GAAGuB,kBAAkBmD,KAAKL,SAASo7B,WAAW,YAAa5/B,EAAIG,GAAGuB,kBAAkBmD,KAAKL,SAASo7B,WAAW,wBAG/G,SAARj7B,EAAuB,CAAC3E,EAAIG,GAAGuB,kBAAkBmD,KAAKL,SAASo7B,WAAW,UAElE,mBAARj7B,EACK,CAAC3E,EAAIG,GAAGuB,kBAAkBmD,KAAKL,SAASo7B,WAAW,mBAAoB5/B,EAAIG,GAAGuB,kBAAkBmD,KAAKL,SAASo7B,WAAW,wBAGtH,YAARj7B,GAA0B,EAAIg7B,EAAQxyB,aAA6C,QAAhCtI,KAAKL,SAASqF,OAAO4kB,QAEhE,sBAAR9pB,EACK,CAAC3E,EAAIG,GAAGuB,kBAAkBmD,KAAKL,SAASo7B,WAAW,sBAAuB5/B,EAAIG,GAAGuB,kBAAkBmD,KAAKL,SAASo7B,WAAW,wBAGzH,0BAARj7B,EACK,CAAC3E,EAAIG,GAAGuB,kBAAkBmD,KAAKL,SAASo7B,WAAW,0BAA2B5/B,EAAIG,GAAGuB,kBAAkBmD,KAAKL,SAASo7B,WAAW,wBAG7H,uBAARj7B,EACK,CAAC3E,EAAIG,GAAGuB,kBAAkBmD,KAAKL,SAASo7B,WAAW,wBAGhD,WAARj7B,EACK,CAAC3E,EAAIG,GAAGuB,kBAAkBmD,KAAKL,SAASo7B,WAAW,YAGrD,GAGe,yBAAChnB,GAEvB,GAAyB,uEAArBA,EAAOpY,UAAoF,MAAO,GAEtG,MAQMmE,EARgB,MACpB,MAAMk7B,EAAangC,OAAOsnB,QAAQniB,KAAKL,SAASqF,OAAOihB,SAAS3lB,MAAK,EAAE,CAAE0E,KAChEA,EAAOwiB,YAAczT,EAAOpY,WAAaqJ,EAAOyiB,YAAc1T,EAAOjY,YAE9E,GAAIk/B,EAAY,OAAOA,EAAW,IAIxBC,GACZ,IAAKn7B,EAAK,MAAM,IAAIiG,MAAJ,qCAAwCgO,EAAOpY,UAA/C,wBAAwEoY,EAAOjY,YAC/F,aAAakE,KAAKk7B,gBAAgBp7B,GAGnB,kBAACmyB,EAAU,IAC1B,MAAMkJ,EAAWlJ,EAAQ7zB,KAAI2V,GAAU/T,KAAKo7B,mBAAmBrnB,KACzDpK,QAAiBmU,QAAQud,IAAIF,GACnC,OAAO,EAAIvrB,EAAQ0rB,WAAU,EAAI1rB,EAAQ2rB,SAAS5xB,IAAW,CAAC6xB,EAAMC,IAASD,EAAKzf,SAAS0f,KAGrE,yBAACj9B,EAAYoV,GACnC,MAAM8nB,EAA0Bl9B,EAAW+8B,SAAQr3B,GAAQA,EAAK/H,KAAO,CAAC+H,EAAK1G,KAAK0d,gBAAiBhX,EAAK/H,KAAK+e,iBAAmB,CAAChX,EAAK1G,KAAK0d,mBACrIygB,EAAoB/nB,EAAY2nB,SAAQr3B,GAAQA,EAAK/H,KAAO,CAAC+H,EAAK/H,KAAK+e,iBAAmB,KAChG,aAAalb,KAAKsI,YAAYozB,EAAwBh6B,OAAOi6B,IAI/Dh3B,sBAAsBjE,GACpB,MAAM8R,EAAe,CAAC1S,EAAKY,KACzB,MAAMqT,EAAS/T,KAAKL,SAASuD,cAAcxC,GACrCslB,EAAehmB,KAAKL,SAAS6oB,gBAAgB1oB,GACnD,OAAOkmB,EAAawB,YAAczT,EAAOpY,WAAaqqB,EAAayB,YAAc1T,EAAOjY,WAG1F,GAAI0W,EAAa,qBAAsB9R,GACrC,MAAO,CACLlD,KAAM,KAAO,IAAIo+B,OAAO,KACxBC,WAAY,GACZC,YAAa,IAIjB,GAAItpB,EAAa,wBAAyB9R,GACxC,MAAO,CACLlD,KAAM,KAAO,IAAIo+B,OAAO,KACxBC,WAAY,GACZC,YAAa,IAIjB,GAAItpB,EAAa,wBAAyB9R,GACxC,MAAO,CACLlD,KAAM,KAAO,IAAIo+B,OAAO,KACxBC,WAAY,GACZC,YAAa,IAIjB,GAAItpB,EAAa,iBAAkB9R,GACjC,MAAO,CACLlD,KAAM,KAAO,IAAIo+B,OAAO,KACxBC,WAAY,GACZC,YAAa,IAIjB,GAAItpB,EAAa,UAAW9R,GAC1B,MAAO,CACLlD,KAAM,KAAO,IAAIo+B,OAAO,MACxBC,WAAY,GACZC,YAAa,IAIjB,GAAItpB,EAAa,UAAW9R,GAAU,CACpC,MAAMmN,GAAa,EAAI3B,EAAQ2X,4BAA4B,CACzDjG,UAAW,IAAI9Q,EAAcQ,OAAO,KAAO,IAAIsuB,OAAO,QACrD/tB,WACH,MAAO,CACLrQ,KAAM,KAAO,IAAIo+B,OAAoB,EAAb/tB,GACxBguB,WAAY,GACZC,YAAa,KAIjB,EAAIl7B,EAAO+B,MAAX,2BAAqCjC,KAKzC3F,EAAQiG,wBAA0BA,G,iCCtJlCnG,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAET,IAAI+gC,EAAe,CACjBlY,4BAA4B,EAC5BxW,kBAAkB,EAClB2uB,SAAS,GAEXnhC,OAAOC,eAAeC,EAAS,6BAA8B,CAC3DE,YAAY,EACZC,IAAK,WACH,OAAOgR,EAAQ2X,8BAGnBhpB,OAAOC,eAAeC,EAAS,mBAAoB,CACjDE,YAAY,EACZC,IAAK,WACH,OAAO+gC,EAAa5uB,oBAGxBxS,OAAOC,eAAeC,EAAS,UAAW,CACxCE,YAAY,EACZC,IAAK,WACH,OAAO+gC,EAAaD,WAIxB,IAAI9vB,EAAU1Q,EAAQ,KAElBygC,EAAezgC,EAAQ,KAEvB0gC,EAAM1gC,EAAQ,KAElBX,OAAOmR,KAAKkwB,GAAK/6B,SAAQ,SAAUrB,GACrB,YAARA,GAA6B,eAARA,IACrBjF,OAAO4uB,UAAUC,eAAehN,KAAKqf,EAAcj8B,IACnDA,KAAO/E,GAAWA,EAAQ+E,KAASo8B,EAAIp8B,IAC3CjF,OAAOC,eAAeC,EAAS+E,EAAK,CAClC7E,YAAY,EACZC,IAAK,WACH,OAAOghC,EAAIp8B,W,iCCxCjBjF,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQsI,cAqBR,SAAuB84B,EAAkB,IACvC,OAAO,GAMLA,EAAkB,EAIpB,GAEE,GAEA,EAIF,IAvCFphC,EAAQuK,sBA4CR,SAA+B62B,EAAkB,IAE/C,OAAO,GAILA,EAAkB,GAjDtBphC,EAAQ6S,gBAwER,SAAyBuuB,EAAiBC,EAAiBC,GASzD,OAAO,GAMLF,EAAkB,GAdEC,EAAkB,GAEtCA,EAEA,EAEA,GAcFC,GA5FFthC,EAAQkY,oBAiGR,SAA6BopB,EAAU,IAGrC,OAAO,IAkBLA,GArHJthC,EAAQiY,gBAwHR,SAAyBspB,GACvB,MAAO,MAAQA,EAAU,IAAM,GAAGn5B,SAAS,KAxH7CpI,EAAQ0Z,iBAAmBA,EAC3B1Z,EAAQwhC,eAAiBA,EACzBxhC,EAAQyhC,iBAAmBA,EAC3BzhC,EAAQsZ,eAkJR,UAAwB,MACtBpD,EADsB,KAEtBzT,IAEA,IAAKyT,EAAM,GAAI,MAAM,IAAIlL,MAAM,kBAC/B,MAAO1I,EAAUoB,GAAUwS,EAAMtN,QAAO,EAAEsG,EAAewyB,GAAcv4B,IAC9D,CAAC+F,EAAc9B,KAAKjE,EAAK9G,YAAYC,UAAWo/B,EAAYt0B,KAAKq0B,EAAiBt4B,EAAK9H,SAC7F,EAAC,EAAIyY,EAAU1O,IAAI,IAEpB,EAAI0O,EAAU1O,IAAI,KAIpB,OADA3I,EAAOA,GAAQyT,EAAM,GAAG7T,YAAYI,KAC7B,IAAKyT,EAAM,GAChB7T,YAAa,CACXC,SAAUuD,EAAOoN,MAAMjG,MAAM1K,GAC7BG,OACArB,KAAM8U,EAAM,GAAG7T,YAAYjB,MAE7BC,KAAMmgC,EAAe99B,KApKzB1D,EAAQ4Z,mBAwKR,SAA4B1D,GAC1B,IAAKA,EAAM,GAAI,MAAM,IAAIlL,MAAM,kBAC/B,MAAMkE,EAAgBgH,EAAMtN,QAAO,CAAC+4B,EAAOx4B,IAASw4B,EAAMv0B,KAAKjE,EAAK9G,YAAYC,YAAW,EAAIwX,EAAU1O,IAAI,IAC7G,MAAO,IAAK8K,EAAM,GAChB7T,YAAa,IAAK6T,EAAM,GAAG7T,YACzBC,SAAUuD,EAAOoN,MAAMjG,MAAMkC,MA5KnClP,EAAQqZ,mBAiLR,UAA4B,KAC1BlQ,EAD0B,KAE1B1G,IAEA,MAAMm/B,EAAc,IAAKz4B,EACvB9G,YAAa,IAAK8G,EAAK9G,YACrBI,SAIEo/B,EAAkBh8B,EAAOoN,MAAMjG,OAAM,EAAI2C,EAASyL,qBAAqBwmB,IAE7E,MAAO,CAAC,IAAKz4B,EACX9G,YAAa,IAAK8G,EAAK9G,YACrBC,SAAUu/B,IAEX,CACDxgC,KAAM,KACNgB,YAAa,CACXC,SAAUuD,EAAOoN,MAAMjG,OAAM,EAAI8M,EAAU1O,IAAIjC,EAAK9G,YAAYC,UAAU+K,MAAMw0B,IAChFp/B,WApMNzC,EAAQyO,UAAO,EAEf,IAAIoD,EAAQpR,EAAQ,IAEhBkP,EAAWlP,EAAQ,KAEnBoF,EAASpF,EAAQ,KAEjBqZ,EAAYrZ,EAAQ,KA6GxB,SAASiZ,EAAiBrY,GACxB,OAAOA,EAAK6oB,WAAW,MAAQ7oB,EAAKwW,MAAM,GAAG/M,OAAS,EAAIzJ,EAAKyJ,OAAS,EAU1E,MAAM2D,EAAO,IAAIqzB,IACRA,EAAGl5B,QAAO,CAACm5B,EAAIC,IAAOC,GAAOD,EAAGD,EAAGE,MAM5C,SAAST,EAAe7gC,GACtB,OAAOkR,EAAMuC,MAAMgE,eAAetM,OAAOnL,EAAEyH,aAG7C,SAASq5B,EAAiBzX,GACxB,OAAO,EAAIlQ,EAAU1O,IAAIyG,EAAMuC,MAAM8tB,iBAAiBlY,IARxDhqB,EAAQyO,KAAOA,EACfA,EAAKiL,GAAkByoB,GAAOA,EAAI/5B,SAAS,MAAKzH,GAAKqJ,OAAOrJ,KAAIA,GAAKA,EAAEyhC,QAAQ,KAAIzhC,GAAKA,EAAE0hC,iB,iCCnJ1FviC,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETH,OAAOC,eAAeC,EAAS,gBAAiB,CAC9CE,YAAY,EACZC,IAAK,WACH,OAAOmiC,EAAeC,iBAG1BziC,OAAOC,eAAeC,EAAS,mBAAoB,CACjDE,YAAY,EACZC,IAAK,WACH,OAAOqiC,EAAkBC,oBAG7B3iC,OAAOC,eAAeC,EAAS,iBAAkB,CAC/CE,YAAY,EACZC,IAAK,WACH,OAAOuiC,EAAgBrgB,kBAI3B,IAAIigB,EAAiB7hC,EAAQ,KAEzB+hC,EAAoB/hC,EAAQ,KAE5BiiC,EAAkBjiC,EAAQ,M,iCC1B9BX,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQyE,gCAA6B,EAErC,IAEyBK,EAAKC,EAAK9E,EAF/BG,EAAMK,EAAQ,KAKlB,MAAMgE,EACJpE,UAAU6C,GACR,OAAOuB,EAA2B8vB,MAAMl0B,UAAU6C,IAKtDlD,EAAQyE,2BAA6BA,EAVFxE,EAYkB,CACnDI,UAAUsiC,IACD,EAAIviC,EAAIC,WAAWsiC,GAG5BriC,YAAYwmB,IACH,EAAI1mB,EAAIE,aAAawmB,KAlBF/hB,EAYc,WAZnBD,EAYTL,GAZ8C3E,OAAOC,eAAe+E,EAAKC,EAAK,CAAE9E,MAAOA,EAAOC,YAAY,EAAMgF,cAAc,EAAMC,UAAU,IAAkBL,EAAIC,GAAO9E,G,iCCP3LH,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAGT,IAAI2iC,EAAUniC,EAAQ,MAEtBX,OAAOmR,KAAK2xB,GAASx8B,SAAQ,SAAUrB,GACzB,YAARA,GAA6B,eAARA,IACrBA,KAAO/E,GAAWA,EAAQ+E,KAAS69B,EAAQ79B,IAC/CjF,OAAOC,eAAeC,EAAS+E,EAAK,CAClC7E,YAAY,EACZC,IAAK,WACH,OAAOyiC,EAAQ79B,W,iCCZrBjF,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ2iB,+BAA4B,EAEpC,IAAIniB,EAAUC,EAAQ,IAElBoiC,EAAmBpiC,EAAQ,MA+B/BT,EAAQ2iB,0BA3BR,MACEje,YAAYC,GACV,IAAIm+B,EAJiBh+B,EAAKC,EAAK9E,SAME,GANP8E,EAMJ,aANDD,EAMLG,MAN0CnF,OAAOC,eAAe+E,EAAKC,EAAK,CAAE9E,MAAOA,EAAOC,YAAY,EAAMgF,cAAc,EAAMC,UAAU,IAAkBL,EAAIC,GAAO9E,EAQvL,MAAMof,EAAgD,QAAtCyjB,EAAkBn+B,EAAQ0a,cAAwC,IAApByjB,EAA6BA,EAAkB,IAAItiC,EAAQ8e,cACzHra,KAAKme,QAAU,IAAIyf,EAAiBhkB,gBAAgB5Z,KAAMN,EAAQC,SAAUya,GAG7D,kBAACnc,GAChB,aAAa+B,KAAKme,QAAQI,KAAKtgB,GASvB,WAACA,GACT,MAAM6/B,QAAe99B,KAAKme,QAAQI,KAAKtgB,GACvC,OAAO1C,EAAQigB,aAAauiB,qBAAqBD,M,iCCjCrDjjC,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAGT,IAAI4F,EAASpF,EAAQ,KAErBX,OAAOmR,KAAKpL,GAAQO,SAAQ,SAAUrB,GACxB,YAARA,GAA6B,eAARA,IACrBA,KAAO/E,GAAWA,EAAQ+E,KAASc,EAAOd,IAC9CjF,OAAOC,eAAeC,EAAS+E,EAAK,CAClC7E,YAAY,EACZC,IAAK,WACH,OAAO0F,EAAOd,UAKpB,IAAIk+B,EAAUxiC,EAAQ,KAEtBX,OAAOmR,KAAKgyB,GAAS78B,SAAQ,SAAUrB,GACzB,YAARA,GAA6B,eAARA,IACrBA,KAAO/E,GAAWA,EAAQ+E,KAASk+B,EAAQl+B,IAC/CjF,OAAOC,eAAeC,EAAS+E,EAAK,CAClC7E,YAAY,EACZC,IAAK,WACH,OAAO8iC,EAAQl+B,W,iCCzBrBjF,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ6nB,OAASA,EACjB7nB,EAAQkjC,YAAcA,EACtBljC,EAAQmjC,2BAA6BnjC,EAAQ8wB,mBAAqB9wB,EAAQ+wB,qBAAkB,EAE5F,IAcgCjsB,EAd5Bwc,EAAM7gB,EAAQ,KAEdoR,EAAQpR,EAAQ,KAEhBD,EAAUC,EAAQ,IAElB2iC,GAQ4Bt+B,EARarE,EAAQ,QAQAqE,EAAImN,WAAanN,EAAM,CAAEoN,QAASpN,GANnFu+B,EAAY5iC,EAAQ,KAEpBoF,EAASpF,EAAQ,KAEjB8gB,EAA6B9gB,EAAQ,KAIzC,SAAS+gB,EAAsBlK,EAAUmK,GAA0F,OAEnI,SAAkCnK,EAAUoK,GAAc,GAAIA,EAAWvhB,IAAO,OAAOuhB,EAAWvhB,IAAIwhB,KAAKrK,GAAa,OAAOoK,EAAWzhB,MAFA2hB,CAAyBtK,EAA3FuK,EAA6BvK,EAAUmK,EAAY,QAI3H,SAASK,EAAsBxK,EAAUmK,EAAYxhB,GAA4I,OAIjM,SAAkCqX,EAAUoK,EAAYzhB,GAAS,GAAIyhB,EAAW9a,IAAO8a,EAAW9a,IAAI+a,KAAKrK,EAAUrX,OAAe,CAAE,IAAKyhB,EAAWvc,SAAY,MAAM,IAAI4c,UAAU,4CAA+CL,EAAWzhB,MAAQA,GAJ9G+hB,CAAyB1K,EAApFuK,EAA6BvK,EAAUmK,EAAY,OAAuDxhB,GAAeA,EAExM,SAAS4hB,EAA6BvK,EAAUmK,EAAYQ,GAAU,IAAKR,EAAWS,IAAI5K,GAAa,MAAM,IAAIyK,UAAU,gBAAkBE,EAAS,kCAAqC,OAAOR,EAAWthB,IAAImX,GAMjN,SAASuQ,IACP,OAAO,EAAIub,EAAgBlxB,WAAW+D,MAAK,IAAMgP,OAAOqe,WAG1D,MAAMC,UAAyB1xB,EAAMwQ,eACnC3d,YAAY+rB,GACVzrB,QACAC,KAAKwrB,aAAeA,EATxB,SAAyB3rB,EAAKC,EAAK9E,GAAa8E,KAAOD,EAAOhF,OAAOC,eAAe+E,EAAKC,EAAK,CAAE9E,MAAOA,EAAOC,YAAY,EAAMgF,cAAc,EAAMC,UAAU,IAAkBL,EAAIC,GAAO9E,EAWvLuL,CAAgBvG,KAAM,YAAYu+B,IAC3Bv4B,MAAMw4B,QAAQD,KAEM,IAArBA,EAAU14B,OAKd7F,KAAKkjB,kBAAkBljB,KAAKy+B,iBAJ1Bz+B,KAAKmjB,yBAAyB,oBAOlCnjB,KAAKud,cAAc,CACjBC,SAAUxd,KAAKyiB,mBACf/U,YAAa,oCACb/E,KAAM,uBAIV+1B,aACO9b,IAAS5R,MAAK2R,GAAeA,EAAYgc,oBAAoB,kBAAmB3+B,KAAK4+B,YAAW5tB,MAAK,IAAMjR,MAAM2+B,eAGxG,mBACd,MAAM/b,QAAoBC,IAE1B,OADAD,EAAYK,YAAY,kBAAmBhjB,KAAK4+B,UACzCjc,EAAYkc,SAAS7tB,MAAK,IAAMhR,KAAKy+B,mBAKhD,MAAMK,UAAyBxiB,EAA2BoB,0BACxDje,YAAY+rB,GACVzrB,MAAM,CACJJ,SAAU6rB,IAEZxrB,KAAKwrB,aAAeA,EAGL,kBAAC5Q,GAChB,MAAMmkB,QAAyBnc,IACzB3c,EAAO84B,EAAiBjc,gBACxBrN,QAAespB,EAAiBhc,QAAQ,CAC5CzN,OAAQ,gBACRC,OAAQ,CAACtP,EAAM2U,KAEjB,IAAI8I,EAAI3e,OAAO4e,SAASlO,EAAO7C,OAAO,GAAI,IAE1C,OADI8Q,GAAK,KAAIA,GAAK,IACX,KAAOnoB,EAAQyjC,SAASC,IAAI97B,SAAS,IAAIygB,SAAS,EAAG,KAAOnO,EAAO7C,MAAM,GAAI,GAAK8Q,EAAEvgB,SAAS,IAAIygB,SAAS,EAAG,MA0BxH7oB,EAAQ+wB,gBArBR,cAA8BwS,EAC5BG,gBACE,OAAO,IAAI,cAAcK,EACP,mBACd,MAAM95B,EAAShF,KAAKwrB,aAAahD,gBAAgB,qBACjD,OAAOxoB,KAAKwrB,aAAapd,eAAe,CACtCtS,UAAWkJ,EAAOyiB,UAClB5rB,YAAa+mB,KAAUE,gBACvBnnB,UAAWqJ,EAAOwiB,cAItBxnB,KAAKwrB,cAGT/I,mBACE,MAAO,CAAC,SA8BZ,SAASwb,EAAYrjB,GAEnB,OAAO,IAAIrf,EAAQ2jC,iBAAkBtjB,OAAO,oCAAoCA,QAAO,EAAIhb,EAAOoe,YAAYpE,GAASV,QAAQ+B,SAASf,gBAJ1IngB,EAAQ8wB,mBArBR,cAAiCyS,EAC/BG,gBACE,OAAO,IAAI,cAAcK,EACP,mBACd,MAAM95B,EAAShF,KAAKwrB,aAAahD,gBAAgB,yBACjD,OAAOxoB,KAAKwrB,aAAapd,eAAe,CACtCtS,UAAWkJ,EAAOyiB,UAClB5rB,YAAa+mB,KAAUE,gBACvBnnB,UAAWqJ,EAAOwiB,cAItBxnB,KAAKwrB,cAGT/I,mBACE,MAAO,CAAC,gBAYZ,IAAIvF,EAA2B,IAAIC,QAEnC,MAAM+gB,UAAmC5hB,EAA2BoB,0BAClEje,YAAY4d,EAAYmO,GACtBzrB,MAAM,CACJJ,SAAU6rB,IAEZxrB,KAAKwrB,aAAeA,EAEpBtO,EAAYvb,IAAI3B,KAAM,CACpBE,UAAU,EACVlF,WAAO,IAGT6hB,EAAsB7c,KAAMkd,EAAaG,GAG3C8hB,gBACE,MAAMrgB,GAAS,EAAIsf,EAAUgB,kBAAiB,EAAIx+B,EAAOoe,YAAYzC,EAAsBvc,KAAMkd,KAAe,GAAOtK,MAAM,GAE7H,MAAO,MADQ,IAAIrX,EAAQ2jC,iBACNtjB,OAAOkD,EAAO5E,QAAQ+B,SAASf,gBAAgBtI,OAAO,IAG7D,mBACd,MAAM5N,EAAShF,KAAKwrB,aAAahD,gBAAgB,yBACjD,OAAOxoB,KAAKwrB,aAAapd,eAAe,CACtCzS,UAAWqJ,EAAOwiB,UAClB1rB,UAAWkJ,EAAOyiB,UAClB5rB,KAAMmE,KAAKm/B,kBAIE,kBAACvkB,GAChB,MAAMnF,EAAS4G,EAAIvc,IAAI+d,gBAAgBogB,EAAYrjB,GAAU2B,EAAsBvc,KAAMkd,IAEzF,IAAIwG,EAAI3e,OAAO4e,SAASlO,EAAO7C,OAAO,GAAI,IACtC8Q,GAAK,KAAIA,GAAK,IAKlB,MAAO,KAHUnoB,EAAQyjC,SAASC,IAAI97B,SAAS,IAAIygB,SAAS,EAAG,KAEnDnO,EAAO7C,MAAM,GAAI,GACE8Q,EAAEvgB,SAAS,IAAIygB,SAAS,EAAG,MAK9D7oB,EAAQmjC,2BAA6BA,G,iCCjMrCrjC,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETH,OAAOC,eAAeC,EAAS,2BAA4B,CACzDE,YAAY,EACZC,IAAK,WACH,OAAOmkC,EAAsB/Z,4BAGjCzqB,OAAOC,eAAeC,EAAS,0BAA2B,CACxDE,YAAY,EACZC,IAAK,WACH,OAAOmkC,EAAsBha,2BAGjCxqB,OAAOC,eAAeC,EAAS,yBAA0B,CACvDE,YAAY,EACZC,IAAK,WACH,OAAOokC,EAAwB3Y,0BAGnC9rB,OAAOC,eAAeC,EAAS,+BAAgC,CAC7DE,YAAY,EACZC,IAAK,WACH,OAAOqkC,EAA8BlY,gCAGzCtsB,EAAQgsB,mBAAgB,EAExB,IAAIyY,EAAYhkC,EAAQ,MAEpB6jC,EAAwB7jC,EAAQ,MAEhC8jC,EAA0B9jC,EAAQ,MAElC+jC,EAAgC/jC,EAAQ,MA8C5CT,EAAQgsB,cA1CR,MACEtnB,YAAYggC,GAHd,IAAyB5/B,EAAKC,EAAK9E,SAIC,GAJN8E,EAIJ,YAJDD,EAILG,MAJ0CnF,OAAOC,eAAe+E,EAAKC,EAAK,CAAE9E,MAAOA,EAAOC,YAAY,EAAMgF,cAAc,EAAMC,UAAU,IAAkBL,EAAIC,GAAO9E,EAMvL,MAAM0kC,EAAY,IAAIF,EAAUG,cAAcF,EAAK,CACjDG,QAAS,CACP,eAAgB,sBAGpB5/B,KAAK65B,OAAS,IAAI2F,EAAUK,OAAO,IAAIL,EAAUM,eAAe,CAACJ,KAGnEvY,UAAU4Y,GACR,MAAM,WACJ3Y,EADI,MAEJ4Y,EAAQ,MAFJ,MAGJC,EAAQ,QAHJ,aAMJC,GACEH,EACJ,OAAO//B,KAAK65B,OAAO9W,QAAQ,CACzBzN,OAAQ,YACRC,OAAQ,CAAC6R,EAAY4Y,EAAOC,EAAOC,KAIvCC,UACE,OAAOngC,KAAK65B,OAAO9W,QAAQ,CACzBzN,OAAQ,YAIZ8qB,mBACE,OAAOpgC,KAAK65B,OAAO9W,QAAQ,CACzBzN,OAAQ,mBACRC,OAAQ,Q,gCC3Ed1a,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAET,IAAI+gC,EAAe,CACjB3K,SAAS,EACTkF,QAAQ,EACRnnB,OAAO,EACP0Z,YAAY,GAEdhuB,OAAOC,eAAeC,EAAS,aAAc,CAC3CE,YAAY,EACZC,IAAK,WACH,OAAOmlC,EAAYxX,cAGvB9tB,EAAQoU,MAAQpU,EAAQu7B,OAASv7B,EAAQq2B,aAAU,EAEnD,IAAIxkB,EAAQpR,EAAQ,KAEpBX,OAAOmR,KAAKY,GAAOzL,SAAQ,SAAUrB,GACvB,YAARA,GAA6B,eAARA,IACrBjF,OAAO4uB,UAAUC,eAAehN,KAAKqf,EAAcj8B,IACnDA,KAAO/E,GAAWA,EAAQ+E,KAAS8M,EAAM9M,IAC7CjF,OAAOC,eAAeC,EAAS+E,EAAK,CAClC7E,YAAY,EACZC,IAAK,WACH,OAAO0R,EAAM9M,UAKnB,IAAIwgC,EAAW9kC,EAAQ,KAEvBX,OAAOmR,KAAKs0B,GAAUn/B,SAAQ,SAAUrB,GAC1B,YAARA,GAA6B,eAARA,IACrBjF,OAAO4uB,UAAUC,eAAehN,KAAKqf,EAAcj8B,IACnDA,KAAO/E,GAAWA,EAAQ+E,KAASwgC,EAASxgC,IAChDjF,OAAOC,eAAeC,EAAS+E,EAAK,CAClC7E,YAAY,EACZC,IAAK,WACH,OAAOolC,EAASxgC,UAKtB,IAAIygC,EAAa/kC,EAAQ,MAEzBX,OAAOmR,KAAKu0B,GAAYp/B,SAAQ,SAAUrB,GAC5B,YAARA,GAA6B,eAARA,IACrBjF,OAAO4uB,UAAUC,eAAehN,KAAKqf,EAAcj8B,IACnDA,KAAO/E,GAAWA,EAAQ+E,KAASygC,EAAWzgC,IAClDjF,OAAOC,eAAeC,EAAS+E,EAAK,CAClC7E,YAAY,EACZC,IAAK,WACH,OAAOqlC,EAAWzgC,UAKxB,IAAI0gC,EAAchlC,EAAQ,KAE1BX,OAAOmR,KAAKw0B,GAAar/B,SAAQ,SAAUrB,GAC7B,YAARA,GAA6B,eAARA,IACrBjF,OAAO4uB,UAAUC,eAAehN,KAAKqf,EAAcj8B,IACnDA,KAAO/E,GAAWA,EAAQ+E,KAAS0gC,EAAY1gC,IACnDjF,OAAOC,eAAeC,EAAS+E,EAAK,CAClC7E,YAAY,EACZC,IAAK,WACH,OAAOslC,EAAY1gC,UAKzB,IAAI4K,EAAWqe,EAAwBvtB,EAAQ,MAE/CT,EAAQq2B,QAAU1mB,EAElB,IAAIrL,EAAU0pB,EAAwBvtB,EAAQ,MAE9CT,EAAQu7B,OAASj3B,EAEjB,IAAIuB,EAASmoB,EAAwBvtB,EAAQ,MAE7CT,EAAQoU,MAAQvO,EAEhB,IAAIy/B,EAAc7kC,EAAQ,MAE1B,SAASytB,EAAyBC,GAAe,GAAuB,oBAAZ/L,QAAwB,OAAO,KAAM,IAAIgM,EAAoB,IAAIhM,QAAeiM,EAAmB,IAAIjM,QAAW,OAAQ8L,EAA2B,SAAUC,GAAe,OAAOA,EAAcE,EAAmBD,IAAsBD,GAExS,SAASH,EAAwBlpB,EAAKqpB,GAAe,IAAKA,GAAerpB,GAAOA,EAAImN,WAAc,OAAOnN,EAAO,GAAY,OAARA,GAA+B,kBAARA,GAAmC,oBAARA,EAAsB,MAAO,CAAEoN,QAASpN,GAAS,IAAIwpB,EAAQJ,EAAyBC,GAAc,GAAIG,GAASA,EAAMpM,IAAIpd,GAAQ,OAAOwpB,EAAMnuB,IAAI2E,GAAQ,IAAIypB,EAAS,GAAQC,EAAwB1uB,OAAOC,gBAAkBD,OAAO2uB,yBAA0B,IAAK,IAAI1pB,KAAOD,EAAO,GAAY,YAARC,GAAqBjF,OAAO4uB,UAAUC,eAAehN,KAAK7c,EAAKC,GAAM,CAAE,IAAI6pB,EAAOJ,EAAwB1uB,OAAO2uB,yBAAyB3pB,EAAKC,GAAO,KAAU6pB,IAASA,EAAKzuB,KAAOyuB,EAAKhoB,KAAQ9G,OAAOC,eAAewuB,EAAQxpB,EAAK6pB,GAAgBL,EAAOxpB,GAAOD,EAAIC,GAAyE,OAA7DwpB,EAAOrc,QAAUpN,EAASwpB,GAASA,EAAM1nB,IAAI9B,EAAKypB,GAAkBA,I,iCC/E3xB,SAASmX,EAAgBpoB,EAAQqoB,GAC/B,MAAM,IAAI36B,MAAJ,yCAA4C26B,EAA5C,qBAAiEroB,IAGzE,SAASsoB,EAAiBtoB,EAAQqoB,GAC5BroB,IAAWqoB,GACbD,EAAgBpoB,EAAQqoB,GAI5B,SAASE,EAAkBC,GAKzB,GAJIA,aAAkBhmC,QAAUgmC,EAAOrzB,yBAAyBysB,WAC9D4G,EAASA,EAAOrzB,mBAGZqzB,aAAkB7mB,aACtB,MAAM,IAAIjU,MAAM,iFAGlB,OAAO86B,EAGT,SAASC,EAAwBhnB,EAAMinB,EAAoBC,GACrDlnB,EAAKjM,WAAa,GACpB4yB,EAAgB3mB,EAAKjM,WAAY,MAGnC,MAAMozB,EAAqBnnB,EAAKonB,UAAU,GAAG,GAG7C,GAFAP,EAAiB7mB,EAAKjM,WAAYozB,GAEP,IAAvBA,EACF,MAAO,CAACA,GAGNA,EAAqB,GACvBR,EAAgB3mB,EAAKjM,WAAY,MAGnC,MAAMszB,EAAcrnB,EAAKonB,UAAU,GAAG,GAEtC,GAAIC,EAAc,IAAM,GAAKA,EAAc,EACzC,MAAM,IAAIp7B,MAAJ,gCAAmCo7B,IAG3C,MAAMC,EAAYD,EAAc,EAAI,EAEpC,GAAIC,EAAYL,EACd,MAAM,IAAIh7B,MAAJ,2CAA8Cg7B,EAA9C,qBAA6EK,IAC9E,IAAKJ,GAAcI,EAAYL,EACpC,MAAM,IAAIh7B,MAAJ,sDAAyDg7B,EAAzD,qBAAwFK,IAGhG,GAAIH,EAAqBE,EACvB,MAAM,IAAIp7B,MAAJ,mDAAsDo7B,IAG9D,MAAME,EAAU,GAEhB,IAAK,IAAI1rB,EAAI,EAAGA,EAAIyrB,EAAWzrB,IAAK,CAClC,MAAMmZ,EAAQ,EAAQ,EAAJnZ,EAClB0rB,EAAQr+B,KAAK8W,EAAKonB,UAAUpS,GAAO,IAGrCuS,EAAQr+B,KAAKi+B,GAEb,IAAK,IAAItrB,EAAI,EAAGA,EAAI0rB,EAAQx7B,OAAS,EAAG8P,IACtC,GAAI0rB,EAAQ1rB,GAAK0rB,EAAQ1rB,EAAI,GAC3B,MAAM,IAAI5P,MAAJ,uBAA0B4P,EAA1B,aAAgC0rB,EAAQ1rB,GAAxC,wCAA0EA,EAAI,EAA9E,aAAoF0rB,EAAQ1rB,EAAI,KAI1G,OAAO0rB,EAGT,SAASC,EAAeC,GACtB,MAAMH,EAAYG,EAAQ17B,OAC1B,IAAI27B,EAAY,GAAKJ,EAAY,GACjC,MAAMC,EAAU,GAEhB,IAAK,IAAI1rB,EAAI,EAAGA,EAAIyrB,EAAWzrB,IAC7B0rB,EAAQr+B,KAAKw+B,GACbA,GAAaD,EAAQ5rB,GAAG9H,WAG1B,MAAMqM,EAAS,IAAIF,YAAYwnB,GACzBC,EAAQ,IAAIpyB,WAAW6K,GACvBJ,EAAO,IAAIC,SAASG,GAC1BJ,EAAKG,UAAU,EAAGunB,GAAW,GAE7B,IAAK,IAAI7rB,EAAI,EAAGA,EAAIyrB,EAAWzrB,IAC7BmE,EAAKG,UAAU,EAAQ,EAAJtE,EAAO0rB,EAAQ1rB,IAAI,GACtC8rB,EAAM9/B,IAAI,IAAI0N,WAAWkyB,EAAQ5rB,IAAK0rB,EAAQ1rB,IAGhD,OAAOuE,EAxGTrf,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ2mC,mBAAqBA,EAC7B3mC,EAAQ4mC,iBAAmBA,EAC3B5mC,EAAQ6mC,gBAAkBA,EAC1B7mC,EAAQsS,iBAAmBA,EAC3BtS,EAAQ8mC,qBAuXR,SAA8B7mC,GAC5B,MAAMumC,EAAU,GACVO,EAAc,IAAI/nB,SAAS,IAAIC,YAAY,IAOjD,OANA8nB,EAAYC,SAAS,EAAG/mC,EAAM2D,SAC9B4iC,EAAQv+B,KAAK8+B,EAAY5nB,QACzBqnB,EAAQv+B,KAAK2+B,EAAiB3mC,EAAM+T,iBACpCwyB,EAAQv+B,KAAK2+B,EAAiB3mC,EAAMgU,aACpCuyB,EAAQv+B,KAAK4+B,EAAgB5mC,EAAMkU,mBACnCqyB,EAAQv+B,KAAKqK,EAAiBrS,EAAMgnC,WAC7BV,EAAeC,IA/XxBxmC,EAAQknC,YAAclnC,EAAQihC,QAAUjhC,EAAQmnC,OAASnnC,EAAQonC,QAAUpnC,EAAQqnC,eAAY,EAmG/F,MAAMA,EACJ3iC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GAChBhhC,KAAK8Z,KAAKjM,WAAa,GACzB4yB,EAAgBzgC,KAAK8Z,KAAKjM,WAAY,MAGxC,MAAMozB,EAAqBjhC,KAAK6F,SAAW,EAC3C86B,EAAiB3gC,KAAK8Z,KAAKjM,WAAYozB,GAGzC/iC,MACE,OAAO8B,KAAK8Z,KAAKI,OAAOtH,MAAM,GAGhCyvB,QAAQ1sB,GACN,OAAO3V,KAAK8Z,KAAKwoB,SAAS,EAAI3sB,GAGhC9P,SACE,OAAO7F,KAAK8Z,KAAKonB,UAAU,GAAG,IAOlC,SAASQ,EAAmB1mC,GAC1B,MAAMqD,EAAOuiC,EAAkB5lC,GACzBymC,EAAQ,IAAIpyB,WAAW,EAAIhR,EAAKwP,YAGtC,OAFA,IAAIkM,SAAS0nB,EAAMvnB,QAAQD,UAAU,EAAG5b,EAAKwP,YAAY,GACzD4zB,EAAM9/B,IAAI,IAAI0N,WAAWhR,GAAO,GACzBojC,EAAMvnB,OAPfnf,EAAQqnC,UAAYA,EAUpB,MAAMD,EACJ1iC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpBL,EAAiB3gC,KAAK8Z,KAAKjM,WAAY,IAGzCw0B,QAAQ1sB,GACN,OAAO3V,KAAK8Z,KAAKwoB,SAAS3sB,GAG5BzX,MACE,OAAO8B,KAAK8Z,KAAKI,OAGR,cACT,OAAO,IAOX,SAASynB,EAAiB3mC,GACxB,MAAMkf,EAAS0mB,EAAkB5lC,GAEjC,OADA2lC,EAAiBzmB,EAAOrM,WAAY,IAC7BqM,EALTnf,EAAQonC,QAAUA,EAQlB,MAAMD,EACJziC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpBL,EAAiB3gC,KAAK8Z,KAAKjM,WAAY,IAGzCw0B,QAAQ1sB,GACN,OAAO3V,KAAK8Z,KAAKwoB,SAAS3sB,GAG5BzX,MACE,OAAO8B,KAAK8Z,KAAKI,OAGR,cACT,OAAO,IAOX,SAAS0nB,EAAgB5mC,GACvB,MAAMkf,EAAS0mB,EAAkB5lC,GAEjC,OADA2lC,EAAiBzmB,EAAOrM,WAAY,IAC7BqM,EALTnf,EAAQmnC,OAASA,EAQjB,MAAMlG,EACJv8B,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpB,MAAMK,EAAUP,EAAwB9gC,KAAK8Z,KAAM,GAAG,GAEtD,GAAIunB,EAAQ,GAAKA,EAAQ,KAAO,EAC9B,MAAM,IAAIt7B,MAAJ,uCAA0Cs7B,EAAQ,GAAlD,cAA0DA,EAAQ,KAG1E,IAAIe,EAAUpiC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CAC5DjmB,UAAU,IACTA,WACH,IAAIgnB,EAAUpiC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CAC5DjmB,UAAU,IACTA,WACH,IAAIgnB,EAAUpiC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CAC5DjmB,UAAU,IACTA,WAGLmnB,cACE,MACMrP,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,GAAW,GAClD,OAAO,IAAI/U,SAAS/Z,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,IAAaF,SAAS,GAG3EG,UACE,MACMvP,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,IAAW,GAClD,OAAO,IAAIsT,EAAUpiC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC/DpnB,UAAU,IAIdsnB,YACE,MACMxP,EAASlzB,KAAK8Z,KAAKonB,UADX,IAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,IAAW,GAClD,OAAO,IAAIsT,EAAUpiC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC/DpnB,UAAU,IAIdunB,iBACE,MACMzP,EAASlzB,KAAK8Z,KAAKonB,UADX,IAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKjM,WAC7B,OAAO,IAAIu0B,EAAUpiC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC/DpnB,UAAU,KAQhB,SAAS/N,EAAiBrS,GACxB,MAAMumC,EAAU,GACVqB,EAAe,IAAI7oB,SAAS,IAAIC,YAAY,IAMlD,OALA4oB,EAAab,SAAS,EAAG/mC,EAAM2L,UAC/B46B,EAAQv+B,KAAK4/B,EAAa1oB,QAC1BqnB,EAAQv+B,KAAK0+B,EAAmB1mC,EAAM2N,OACtC44B,EAAQv+B,KAAK0+B,EAAmB1mC,EAAMyS,SACtC8zB,EAAQv+B,KAAK0+B,EAAmB1mC,EAAM0S,cAC/B4zB,EAAeC,GAVxBxmC,EAAQihC,QAAUA,EA0FlBjhC,EAAQknC,YA7ER,MACExiC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpB,MAAMK,EAAUP,EAAwB9gC,KAAK8Z,KAAM,GAAG,GAEtD,GAAIunB,EAAQ,GAAKA,EAAQ,KAAO,EAC9B,MAAM,IAAIt7B,MAAJ,sCAAyCs7B,EAAQ,GAAjD,cAAyDA,EAAQ,KAGzE,IAAIc,EAAQniC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CAC1DjmB,UAAU,IACTA,WACH,IAAI+mB,EAAQniC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CAC1DjmB,UAAU,IACTA,WACH,IAAI8mB,EAAOliC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CACzDjmB,UAAU,IACTA,WACH,IAAI4gB,EAAQh8B,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CAC1DjmB,UAAU,IACTA,WAGLynB,aACE,MACM3P,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,GAAW,GAClD,OAAO,IAAI/U,SAAS/Z,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,IAAaF,SAAS,GAG3EQ,mBACE,MACM5P,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,IAAW,GAClD,OAAO,IAAIqT,EAAQniC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC7DpnB,UAAU,IAId2nB,eACE,MACM7P,EAASlzB,KAAK8Z,KAAKonB,UADX,IAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,IAAW,GAClD,OAAO,IAAIqT,EAAQniC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC7DpnB,UAAU,IAId4nB,oBACE,MACM9P,EAASlzB,KAAK8Z,KAAKonB,UADX,IAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,IAAW,GAClD,OAAO,IAAIoT,EAAOliC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC5DpnB,UAAU,IAId6nB,aACE,MACM/P,EAASlzB,KAAK8Z,KAAKonB,UADX,IAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKjM,WAC7B,OAAO,IAAImuB,EAAQh8B,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC7DpnB,UAAU,O,iCCtXhBvgB,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQmoC,aAAeA,EACvBnoC,EAAQooC,KAAOA,EACfpoC,EAAQ6W,MAAQA,EAChB7W,EAAQqoC,YAAcA,EACtBroC,EAAQsoC,wBAA0BA,EAClCtoC,EAAQuoC,cAAgBA,EACxBvoC,EAAQ6T,eAAiBA,EACzB7T,EAAQwoC,gBAAkBA,EAC1BxoC,EAAQyoC,cAAgBA,EACxBzoC,EAAQwW,SA+FR,SAAkB3N,EAAO6/B,GACvB,YAAiBlmC,IAAbkmC,EAA+BF,EAAgB3/B,GAC5C4/B,EAAc5/B,EAAO6/B,IAhG9B1oC,EAAQyO,UAAO,EAEf,IAAIk6B,EAAUloC,EAAQ,IAYtB,SAAS0nC,EAAaxnC,GACpB,MAAoB,kBAANA,GAAkBA,EAAEupB,WAAW,MAG/C,SAASke,EAAKv/B,GACZ,OAAIs/B,EAAat/B,GAAeA,EAAMgP,MAAM,GACrChP,EAGT,SAASgO,EAAMhO,GACb,OAAIs/B,EAAat/B,GAAeA,EACzB,KAAOA,EAGhB,SAASw/B,EAAYx/B,EAAO+/B,EAAIF,GAC9B,MAAMG,EAAehgC,EAAMiC,OAAS,IAAM,EACpCg+B,OAAyBtmC,IAAbkmC,EAClB,GAAIG,GAAgBC,EAAW,OAAOjgC,EACtC,MAAMkgC,EAAgBF,EAAe,EAAI,EAInCG,EAA8C,GAF3BF,GAAajgC,EAAMiC,OAASi+B,GAAiB,EAAIL,GAI1E,OAAIE,EACK//B,EAAMgP,MAAM,EAAGmxB,GAA0BC,OAAOD,EAA0B,KAG5EngC,EAAMgP,OAAOmxB,GAA0BngB,SAASmgB,EAA0B,KAGnF,SAASV,EAAwBz/B,GAC/B,OAAIA,EAAMiC,OAAS,IAAM,EAAUjC,EACnC,WAAWA,GASb,SAAS0/B,EAAc1/B,GACrB,IAAKA,GAASA,EAAMiC,OAAS,EAAG,OAAOjC,EAGvC,OAFgBy/B,EAAwBz/B,GAAOohB,MAAM,OAEtCif,UAAUrf,KAAK,IAOhC,SAAShW,EAAehL,EAAOlE,EAAU,IACvC,IAAIwkC,EAC2BA,EAAV,kBAAVtgC,EAAiCu/B,EAAKv/B,GAAyB8/B,EAAQS,OAAOl+B,KAAKrC,GAAOT,SAAS,OAC9G+gC,EAAad,EAAYc,EAAYxkC,EAAQikC,GAAIjkC,EAAQ+jC,UACzD,MAAMW,GAAe1kC,EAAQyjC,OAASzjC,EAAQkS,OAASsxB,EAAat/B,IAGpE,OAFIlE,EAAQ4jC,gBAAeY,EAAaZ,EAAcY,IAClDE,IAAaF,EAAatyB,EAAMsyB,IAC7BA,EAGT,SAASX,EAAgB3/B,GACvB,OAAI8/B,EAAQS,OAAOE,SAASzgC,IAAUA,aAAiByL,WAAmBq0B,EAAQS,OAAOl+B,KAAKrC,GACvF8/B,EAAQS,OAAOl+B,KAAK2I,EAAehL,EAAO,CAC/Cu/B,MAAM,IACJ,OAGN,SAASK,EAActpB,EAAQupB,GAC7B,GAAiB,IAAbA,EAAgB,OAAOC,EAAQS,OAAOl+B,KAAK,IAC/C,MAAMq+B,EAAUf,EAAgBrpB,GAC1BqqB,EAAcD,EAAQz+B,OAC5B,OAAoB,IAAhB0+B,EAA0Bb,EAAQS,OAAOK,MAAMf,GAC/Cc,IAAgBd,EAAiBa,EACjCC,EAAcd,EAAiBa,EAAQ1xB,MAAM2xB,EAAcd,GACxDC,EAAQS,OAAOziC,OAAO,CAACgiC,EAAQS,OAAOK,MAAMf,EAAWc,GAAcD,IA/E9EvpC,EAAQyO,KALK,IAAIqzB,IACG,IAAdA,EAAGh3B,OAAqBg3B,EAAG,GACxBA,EAAGl5B,QAAO,CAAC8gC,EAAKC,IAAQhpC,GAAKgpC,EAAID,EAAI/oC,O,iCCtB9Cb,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAET,IAAI+gC,EAAe,CACjBv8B,4BAA4B,EAC5BmlC,cAAc,EACdC,gBAAgB,GAElB/pC,OAAOC,eAAeC,EAAS,6BAA8B,CAC3DE,YAAY,EACZC,IAAK,WACH,OAAOoE,EAA4BE,8BAGvC3E,OAAOC,eAAeC,EAAS,eAAgB,CAC7CE,YAAY,EACZC,IAAK,WACH,OAAOoE,EAA4BqlC,gBAGvC9pC,OAAOC,eAAeC,EAAS,iBAAkB,CAC/CE,YAAY,EACZC,IAAK,WACH,OAAOoE,EAA4BslC,kBAIvC,IAAItlC,EAA8B9D,EAAQ,KAEtCqpC,EAA0BrpC,EAAQ,MAEtCX,OAAOmR,KAAK64B,GAAyB1jC,SAAQ,SAAUrB,GACzC,YAARA,GAA6B,eAARA,IACrBjF,OAAO4uB,UAAUC,eAAehN,KAAKqf,EAAcj8B,IACnDA,KAAO/E,GAAWA,EAAQ+E,KAAS+kC,EAAwB/kC,IAC/DjF,OAAOC,eAAeC,EAAS+E,EAAK,CAClC7E,YAAY,EACZC,IAAK,WACH,OAAO2pC,EAAwB/kC,UAKrC,IAAIglC,EAAsBtpC,EAAQ,MAElCX,OAAOmR,KAAK84B,GAAqB3jC,SAAQ,SAAUrB,GACrC,YAARA,GAA6B,eAARA,IACrBjF,OAAO4uB,UAAUC,eAAehN,KAAKqf,EAAcj8B,IACnDA,KAAO/E,GAAWA,EAAQ+E,KAASglC,EAAoBhlC,IAC3DjF,OAAOC,eAAeC,EAAS+E,EAAK,CAClC7E,YAAY,EACZC,IAAK,WACH,OAAO4pC,EAAoBhlC,UAKjC,IAAIilC,EAAmBvpC,EAAQ,MAE/BX,OAAOmR,KAAK+4B,GAAkB5jC,SAAQ,SAAUrB,GAClC,YAARA,GAA6B,eAARA,IACrBjF,OAAO4uB,UAAUC,eAAehN,KAAKqf,EAAcj8B,IACnDA,KAAO/E,GAAWA,EAAQ+E,KAASilC,EAAiBjlC,IACxDjF,OAAOC,eAAeC,EAAS+E,EAAK,CAClC7E,YAAY,EACZC,IAAK,WACH,OAAO6pC,EAAiBjlC,UAK9B,IAAIo8B,EAAM1gC,EAAQ,MAElBX,OAAOmR,KAAKkwB,GAAK/6B,SAAQ,SAAUrB,GACrB,YAARA,GAA6B,eAARA,IACrBjF,OAAO4uB,UAAUC,eAAehN,KAAKqf,EAAcj8B,IACnDA,KAAO/E,GAAWA,EAAQ+E,KAASo8B,EAAIp8B,IAC3CjF,OAAOC,eAAeC,EAAS+E,EAAK,CAClC7E,YAAY,EACZC,IAAK,WACH,OAAOghC,EAAIp8B,UAKjB,IAAIklC,EAAwBxpC,EAAQ,MAEpCX,OAAOmR,KAAKg5B,GAAuB7jC,SAAQ,SAAUrB,GACvC,YAARA,GAA6B,eAARA,IACrBjF,OAAO4uB,UAAUC,eAAehN,KAAKqf,EAAcj8B,IACnDA,KAAO/E,GAAWA,EAAQ+E,KAASklC,EAAsBllC,IAC7DjF,OAAOC,eAAeC,EAAS+E,EAAK,CAClC7E,YAAY,EACZC,IAAK,WACH,OAAO8pC,EAAsBllC,UAKnC,IAAImlC,EAAsBzpC,EAAQ,MAElCX,OAAOmR,KAAKi5B,GAAqB9jC,SAAQ,SAAUrB,GACrC,YAARA,GAA6B,eAARA,IACrBjF,OAAO4uB,UAAUC,eAAehN,KAAKqf,EAAcj8B,IACnDA,KAAO/E,GAAWA,EAAQ+E,KAASmlC,EAAoBnlC,IAC3DjF,OAAOC,eAAeC,EAAS+E,EAAK,CAClC7E,YAAY,EACZC,IAAK,WACH,OAAO+pC,EAAoBnlC,UAKjC,IAAIolC,EAAyB1pC,EAAQ,MAErCX,OAAOmR,KAAKk5B,GAAwB/jC,SAAQ,SAAUrB,GACxC,YAARA,GAA6B,eAARA,IACrBjF,OAAO4uB,UAAUC,eAAehN,KAAKqf,EAAcj8B,IACnDA,KAAO/E,GAAWA,EAAQ+E,KAASolC,EAAuBplC,IAC9DjF,OAAOC,eAAeC,EAAS+E,EAAK,CAClC7E,YAAY,EACZC,IAAK,WACH,OAAOgqC,EAAuBplC,UAKpC,IAAIqlC,EAA6B3pC,EAAQ,MAEzCX,OAAOmR,KAAKm5B,GAA4BhkC,SAAQ,SAAUrB,GAC5C,YAARA,GAA6B,eAARA,IACrBjF,OAAO4uB,UAAUC,eAAehN,KAAKqf,EAAcj8B,IACnDA,KAAO/E,GAAWA,EAAQ+E,KAASqlC,EAA2BrlC,IAClEjF,OAAOC,eAAeC,EAAS+E,EAAK,CAClC7E,YAAY,EACZC,IAAK,WACH,OAAOiqC,EAA2BrlC,W,iCCxIxCjF,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQutB,qBAAkB,EAE1B,IAoBgCzoB,EApB5B0lB,EAAO/pB,EAAQ,KAEfoR,EAAQpR,EAAQ,KAEhB4pC,EAAiB5pC,EAAQ,KAEzBD,EAAUC,EAAQ,IAElB6pC,GAY4BxlC,EAZcrE,EAAQ,OAYDqE,EAAImN,WAAanN,EAAM,CAAEoN,QAASpN,GAVnFsJ,EAAQ3N,EAAQ,KAEhB6D,EAAU7D,EAAQ,KAElBkP,EAAWlP,EAAQ,KAEnBoF,EAASpF,EAAQ,KAEjB8pC,EAAuB9pC,EAAQ,MAInC,SAAS+K,EAAgB1G,EAAKC,EAAK9E,GAAiK,OAApJ8E,KAAOD,EAAOhF,OAAOC,eAAe+E,EAAKC,EAAK,CAAE9E,MAAOA,EAAOC,YAAY,EAAMgF,cAAc,EAAMC,UAAU,IAAkBL,EAAIC,GAAO9E,EAAgB6E,EAE3M,SAASX,EAAOyK,GACd,MAAO,CACLvM,YAAauM,EAAS7L,OACtB1B,KAAMuN,EAAS5L,YACfyX,aAAc7L,EAAS6L,aACvBhZ,UAAWmN,EAASnN,WAIxB,MAAM8rB,UAAwB1b,EAAM4wB,iBAClC/9B,YAAY8lC,EAAa,wBAAyBC,EAAS,yBACzDzlC,QAEAwG,EAAgBvG,KAAM,2BAAuB,GAE7CuG,EAAgBvG,KAAM,kBAAc,GAEpCuG,EAAgBvG,KAAM,eAAW,GAEjCuG,EAAgBvG,KAAM,WAAO,GAE7BuG,EAAgBvG,KAAM,cAAU,GAEhCA,KAAKylC,WAAaF,EAClBvlC,KAAK+P,QAAU,IAAIq1B,EAAere,cAAcwe,GAChDvlC,KAAKwlB,OAASggB,EACdxlC,KAAKgV,IAAM,IAAIuQ,EAAKG,IAAI8f,GAGV,iBAACzf,GACf,MAAMC,EAAehmB,KAAKwoB,gBAAgBzC,GAC1C,IAAKC,EAAc,MAAM,IAAIjgB,MAAM,yBAEnC,GAAI/F,KAAK0lC,oBAAqB,CAC5B,MAAMC,QAAoB3lC,KAAK0lC,oBAAoBhf,aAAaX,GAChE,IAAK4f,EAAa,MAAM,IAAI5/B,MAAM,qBAClC,MAAO,CACLzJ,SAAU0pB,EAAa0B,SACvBlrB,UAAWmpC,GAIf,MAAO,CACLrpC,SAAU0pB,EAAa0B,SACvBlrB,UAAW,CACTC,QAASupB,EAAaK,QACtBzpB,MAAOopB,EAAaM,QAK1BiC,KAAKvjB,GAEH,OADAhF,KAAK0lC,oBAAsB,IAAIN,EAAeze,uBAAuB3hB,EAAQhF,KAAKwlB,OAAQxlB,KAAKylC,YACxF1lC,MAAMwoB,KAAKvjB,GAGC,sBAAC+d,GACpB,MAAM6iB,EAAQ,GAEd,IAAK,IAAIjwB,EAAI,EAAGA,EAAIoN,EAAQld,OAAQ8P,IAClCiwB,EAAM5iC,KAAK,CACTi0B,GAAIthB,EACJkwB,QAAS,MACTvwB,QAAQ,EAAI1U,EAAOyP,aAAa0S,EAAQpN,IAAIL,OAC5CC,OAAQ,EAAC,EAAI3U,EAAOyP,aAAa0S,EAAQpN,IAAIJ,UAIjD,MAAMuwB,QAAiB,EAAIT,EAAiBp4B,SAASjN,KAAKwlB,OAAQ,CAChElQ,OAAQ,OACRsqB,QAAS,CACP,eAAgB,oBAElBmG,KAAMtmB,KAAKmC,UAAUgkB,KAEjBI,QAAgBF,EAASvmB,OACzBC,EAAM,GAEZ,IAAK,IAAI7J,EAAI,EAAGA,EAAIqwB,EAAQngC,OAAQ8P,IAAK,CACvC,MAAMF,EAASuwB,EAAQrwB,GACvB,GAAIF,EAAOoX,MAAO,MAAM,IAAI9mB,MAAM0P,EAAOoX,OACzCrN,EAAIxc,KAAKyS,EAAOA,QAGlB,OAAO+J,EAUgB,0BAAC9e,EAAS2V,GACjC,MAAM7Y,EAAOwC,KAAKkD,cAAcxC,GAC1BoT,EAAY,CAChBC,OAAQvW,EACRwW,YAAa,OACb3K,OAAQ,CACN48B,sBAAuB,CAAC,MAAO,SAI7BC,GAAS,EAAI/8B,EAAMlD,MAAMjG,KAAK+P,QAAQoX,UAAU,CACpDC,WAAYtT,KACVtK,MAAK,EAAIL,EAAMg9B,SAAQ3mB,GAAOxf,KAAK+P,QAAQoX,UAAU,CACvDC,WAAYtT,EACZosB,aAAc1gB,EAAI4mB,eAChB,IAAI,EAAIj9B,EAAMk9B,YAAW7mB,GAAOA,EAAI0H,QAAQrhB,OAAS,KAAI,EAAIsD,EAAMm9B,YAAW9mB,GAAOA,EAAI0H,WAAU,EAAI/d,EAAME,SAAQnF,GAA4B,MAApBA,EAAKpG,OAAO3B,QAC7I,EAAIgN,EAAMo9B,OAAM,CAACl8B,EAAKiF,KAAN,CACd2B,MAAO5G,EAAI4G,MAAMvP,OAAO4N,GACxB7Q,QAAQ,EAAIiM,EAASvE,IAAIkE,EAAI5L,QAAQ0J,MAAK,EAAIuC,EAASvE,IAAImJ,EAAKxR,OAAOT,cACrE,CACFoB,QAAQ,EAAIiM,EAASvE,IAAI,GACzB8K,MAAO,MACL,EAAI9H,EAAMk9B,YAAWh8B,IAAO,EAAIK,EAASvE,IAAIkE,EAAI5L,QAAQwI,IAAG,EAAIyD,EAASvE,IAAIkQ,MAAmB,IAC9FhM,QAAY,EAAIlB,EAAMY,eAAem8B,EAAQ,CACjDM,aAAc,CACZ/nC,QAAQ,EAAIiM,EAASvE,IAAI,GACzB8K,MAAO,MAIX,GAAI5G,EAAI5L,OAAOwI,IAAG,EAAIyD,EAASvE,IAAIkQ,IACjC,MAAM,IAAIhX,EAAQ8Y,iBAAiB,CACjC3a,OACA4a,SAAU/B,EACVgC,OAAQ3N,EAAS7M,OAAOoI,KAAKoE,EAAI5L,QAAQsJ,UAI7C,OAAOsC,EAAI4G,MAGa,2BAACw1B,EAAUppC,GAEnC,aADqB2C,KAAKwF,oBAAwC,kBAAbihC,EAAwBA,EAAWzmC,KAAKoO,eAAeq4B,GAAWppC,IACzGe,KAAIuL,IAAY,CAC5BvM,YAAauM,EAAS7L,OACtB1B,KAAMuN,EAAS5L,YACfyX,aAAc7L,EAAS6L,aACvBhZ,UAAWmN,EAASnN,cAIxB0X,cAAa,UACXJ,GACC4yB,EAAYhnC,GACb,IAAIuY,GAAY,EAEZvY,GAAWA,EAAQuY,YACrBA,EAAYvY,EAAQuY,WAGtB,MAAMiuB,GAAS,EAAI/8B,EAAMlD,MAAMjG,KAAK+P,QAAQoX,UAAU,CACpDC,WAAYtT,KACVtK,MAAK,EAAIL,EAAMg9B,SAAQ3mB,GAAOxf,KAAK+P,QAAQoX,UAAU,CACvDC,WAAYtT,EACZosB,aAAc1gB,EAAI4mB,eAChB,IAAI,EAAIj9B,EAAMk9B,YAAW7mB,GAAOA,EAAI0H,QAAQrhB,OAAS,KAAI,EAAIsD,EAAMm9B,YAAW9mB,GAAOA,EAAI0H,QAAQ9oB,IAAIc,MAAU,EAAIiK,EAAMo9B,OAAM,CAACl8B,EAAKiF,IAASjF,EAAI3I,OAAO4N,IAAO,KAAK,EAAInG,EAAMk9B,YAAWh8B,GAAOq8B,EAAWr8B,IAAM4N,IACtN,OAAO,EAAI9O,EAAMY,eAAem8B,EAAQ,CACtCM,aAAc,KAQU,6BAAC9lC,GAC3B,MAAMoT,EAAY,CAChBC,OAAQ/T,KAAKkD,cAAcxC,GAC3BsT,YAAa,OACb3K,OAAQ,CACN48B,sBAAuB,CAAC,MAAO,SAI7BU,GAAW,EAAIx9B,EAAMlD,MAAMjG,KAAK+P,QAAQoX,UAAU,CACtDC,WAAYtT,KACVtK,MAAK,EAAIL,EAAMg9B,SAAQ3mB,GAAOxf,KAAK+P,QAAQoX,UAAU,CACvDC,WAAYtT,EACZosB,aAAc1gB,EAAI4mB,eAChB,IAAI,EAAIj9B,EAAMk9B,YAAW7mB,GAAOA,EAAI0H,QAAQrhB,OAAS,KAAI,EAAIsD,EAAMm9B,YAAW9mB,GAAOA,EAAI0H,WAAU,EAAI/d,EAAME,SAAQnF,GAA4B,MAApBA,EAAKpG,OAAO3B,QAAe,EAAIgN,EAAMxF,SAAQ,CAACijC,EAAS1iC,IAAS0iC,EAAQz+B,MAAK,EAAIuC,EAASvE,IAAIjC,EAAKpG,OAAOT,aAAY,EAAIqN,EAASvE,IAAI,KAIxQ,MAAO,YAHe,EAAIgD,EAAMY,eAAe48B,EAAU,CACvDH,cAAc,EAAI97B,EAASvE,IAAI,MAEXhD,SAAS,IAGjC0jC,gBACE,OAAO7mC,KAAKgV,IAAI8xB,eAGlBC,eACE,OAAO/mC,KAAKgV,IAAIgyB,sBAGlBzX,gBAAgBtxB,GACd,OAAO+B,KAAKgV,IAAIiyB,iBAAiBhpC,EAAI,eAGlB,sBAACyC,EAASwmC,EAAKC,GAClC,MAAM3pC,EAAOwC,KAAKkD,cAAcxC,GAC1BoT,EAAY,CAChBC,OAAQvW,EACR6L,OAAQ,CACN0K,OAAQmzB,GAEVlzB,YAAa,QAETkyB,GAAS,EAAI/8B,EAAMlD,MAAMjG,KAAK+P,QAAQoX,UAAU,CACpDC,WAAYtT,KACVtK,MAAK,EAAIL,EAAMg9B,SAAQ3mB,GAAOxf,KAAK+P,QAAQoX,UAAU,CACvDC,WAAYtT,EACZosB,aAAc1gB,EAAI4mB,eAChB,IAAI,EAAIj9B,EAAMk9B,YAAW7mB,GAAOA,EAAI0H,QAAQrhB,OAAS,KAAI,EAAIsD,EAAMm9B,YAAW9mB,GAAOA,EAAI0H,WAAU,EAAI/d,EAAMo9B,OAAM,CAACl8B,EAAK+8B,KAAN,CACrHn2B,MAAO5G,EAAI4G,MAAMvP,OAAO0lC,GACxB3oC,QAAQ,EAAIiM,EAASvE,IAAIkE,EAAI5L,QAAQ0J,MAAK,EAAIuC,EAASvE,KAAI,EAAI5K,EAAQ4X,gBAAgBi0B,EAAarpC,YAAY6U,MAAM,EAAG,UACvH,CACFnU,QAAQ,EAAIiM,EAASvE,IAAI,GACzB8K,MAAO,MACL,EAAI9H,EAAMk9B,YAAWh8B,IAAO,EAAIK,EAASvE,IAAIkE,EAAI5L,QAAQwI,GAAGkgC,KAAgB,IAE1E98B,QAAY,EAAIlB,EAAMY,eAAem8B,EAAQ,CACjDM,aAAc,CACZ/nC,QAAQ,EAAIiM,EAASvE,IAAI,GACzB8K,MAAO,MAIX,IAAI,EAAIvG,EAASvE,IAAIkE,EAAI5L,QAAQwI,GAAGkgC,GAClC,MAAM,IAAI9nC,EAAQs7B,iBAAiB,CACjCn9B,OACA4a,SAAU+uB,EACV9uB,OAAQ3N,EAAS7M,OAAOoI,KAAKoE,EAAI5L,QAAQsJ,UAI7C,OAAOsC,EAAI4G,MAGb6jB,cAAcp0B,EAASwmC,GACrB,MAAMpzB,EAAY,CAChBC,OAAQ/T,KAAKkD,cAAcxC,GAC3B2I,OAAQ,CACN0K,OAAQmzB,GAEVlzB,YAAa,QAET2yB,GAAW,EAAIx9B,EAAMlD,MAAMjG,KAAK+P,QAAQoX,UAAU,CACtDC,WAAYtT,KACVtK,MAAK,EAAIL,EAAMg9B,SAAQ3mB,GAAOxf,KAAK+P,QAAQoX,UAAU,CACvDC,WAAYtT,EACZosB,aAAc1gB,EAAI4mB,eAChB,IAAI,EAAIj9B,EAAMk9B,YAAW7mB,GAAOA,EAAI0H,QAAQrhB,OAAS,KAAI,EAAIsD,EAAMm9B,YAAW9mB,GAAOA,EAAI0H,WAAU,EAAI/d,EAAMxF,SAAQ,CAAC0G,EAAK+8B,KAAiB,EAAI18B,EAASvE,IAAIkE,GAAKlC,MAAK,EAAI5M,EAAQ4X,gBAAgBi0B,EAAarpC,YAAY6U,MAAM,EAAG,QAAO,EAAIlI,EAASvE,IAAI,KACjQ,OAAO,EAAIgD,EAAMY,eAAe48B,EAAU,CACxCH,cAAc,EAAI97B,EAASvE,IAAI,KAC9B6K,MAAKtV,GAAK,KAAOA,EAAEyH,SAAS,MAGA,kCAACxG,EAAQ+C,EAAU,IAClD,MAAM,eACJ2nC,EAAiB,IADb,UAEJC,EAAY,MACV5nC,EACEovB,EAAQyY,KAAKC,MACnB,IAAI/xB,EAAS,KAEb,KAAO8xB,KAAKC,MAAQ1Y,GAASwY,GAAW,CACtC,IAAIG,EAEJ,MAAMxpC,QAAW+B,KAAKgV,IAAI6Q,gBAAgBlpB,GAE1C,GAAsJ,eAA1I,OAAPsB,QAAsB,IAAPA,GAA4D,QAAlCwpC,EAAgBxpC,EAAGypC,iBAAyC,IAAlBD,OAApD,EAAwFA,EAAchhB,QAAyB,CACjKhR,EAASxX,EAAG6nB,YACZ,YAGI,EAAIllB,EAAO0jB,YAAY+iB,GAG/B,MAAMM,EAAS5iC,aAAa/E,KAAKgV,IAAI4yB,wBAErC,KAAOL,KAAKC,MAAQ1Y,GAASwY,GAAW,CACtC,MAAMO,QAAmB7nC,KAAK+P,QAAQowB,UACtC,GAAIp7B,OAAO8iC,EAAWryB,eAAiBmyB,EAAQ,YACzC,EAAI/mC,EAAO0jB,YAAY+iB,GAG/B,OAAO5xB,EAGTqyB,wBACE,OAAO,IAAIxC,EAAqBzd,oBAAoB7nB,KAAK+P,UAK7DhV,EAAQutB,gBAAkBA,G,6ECxU1BztB,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQyiC,sBAAmB,EAE3B,IAAI3T,EAAiBruB,EAAQ,KAEzBkP,EAAWlP,EAAQ,KAEnBusC,EAAUvsC,EAAQ,KAEtB,SAAS+K,EAAgB1G,EAAKC,EAAK9E,GAAiK,OAApJ8E,KAAOD,EAAOhF,OAAOC,eAAe+E,EAAKC,EAAK,CAAE9E,MAAOA,EAAOC,YAAY,EAAMgF,cAAc,EAAMC,UAAU,IAAkBL,EAAIC,GAAO9E,EAAgB6E,EAgI3M9E,EAAQyiC,iBA9HR,MACE/9B,cACE8G,EAAgBvG,KAAM,eAAe,GAErCuG,EAAgBvG,KAAM,eAAW,GAGzB,aACR,IAAKA,KAAK86B,QAAS,MAAM,IAAI/0B,MAAM,4DACnC,OAAO/F,KAAK86B,QAGdtS,gBAAgB1oB,GACd,OAAOE,KAAKgF,OAAOihB,QAAQnmB,GAG7BiO,UAAUgY,EAAWlqB,GACnB,MAAMmqB,EAAehmB,KAAKwoB,gBAAgBzC,GAC1C,GAAKC,EACL,MAAO,CACLrqB,UAAWqqB,EAAawB,UACxB3rB,OACAC,UAAWkqB,EAAayB,WAI5BugB,gBAAgBnsC,GACd,MAAO,CACLF,UAAW,qEAEXG,UAAW,OACXD,QAIJ2S,qBAAqB5K,EAAOqkC,GAC1B,OAAO,EAAIF,EAAQv5B,sBAAsB5K,EAAOqkC,GAGlC,iBAACliB,GACf,MAAMC,EAAehmB,KAAKwoB,gBAAgBzC,GAC1C,GAAKC,EACL,MAAO,CACL1pB,SAAU0pB,EAAa0B,SACvBlrB,UAAW,CACTC,QAASupB,EAAaK,QACtBzpB,MAAOopB,EAAaM,QAK1B4hB,qBAAqBxnC,GACnB,MAAMqT,EAAS/T,KAAKkD,cAAcxC,GAC5B4mB,EAAgBzsB,OAAOqL,OAAOlG,KAAKgF,OAAOihB,SAChD,GAAqB,MAAjBqB,EAAuB,OAC3B,MAAM1qB,EAAQ0qB,EAAcK,WAAU3B,IAAkC,OAAjBA,QAA0C,IAAjBA,OAA0B,EAASA,EAAawB,aAAezT,EAAOpY,YAA+B,OAAjBqqB,QAA0C,IAAjBA,OAA0B,EAASA,EAAayB,aAAe1T,EAAOjY,YAC7P8rB,EAAQN,EAAc1qB,GAC5B,OAAKgrB,EACE,CACLtrB,SAAUsrB,EAAMF,SAChBlrB,UAAW,CACTC,QAASmrB,EAAMvB,QACfzpB,MAAOgrB,EAAMtB,aALjB,EAUF6hB,oBAAoBp0B,GAClB,OAAO/T,KAAKkoC,qBAAqBloC,KAAKoO,eAAe2F,IAQ7C,WAAC/O,GACT,IAAIhF,KAAKooC,YAAT,CAEA,GAAIpjC,EAAQ,CACV,MAAMC,EAAeD,EAAOC,aAAeD,EAAOC,oBAAsBjF,KAAK6mC,iBAAiBwB,aAC9FroC,KAAK86B,QAAU,IAAK91B,EAClBC,oBAEG,CACL,MACMqjC,EAAgC,eADdtoC,KAAK+mC,gBACDwB,MACtBC,QAAmBxoC,KAAK6mC,gBAC9B7mC,KAAK86B,QAAUwN,EAAY,IAAKze,EAAehB,WAAWyB,KACxDrlB,aAAcujC,EAAWH,cACvB,IAAKxe,EAAehB,WAAWkB,QACjC9kB,aAAcujC,EAAWH,cAI7BroC,KAAKooC,aAAc,GASrBh6B,eAAe2F,EAAQrU,GACrB,MAA4E,aAA3D,OAAZA,QAAgC,IAAZA,OAAqB,EAASA,EAAQf,UAA+B,EAAI+L,EAAS+9B,iBAAiB10B,EAAQ,CAClI/O,OAAQhF,KAAKgF,UAER,EAAI0F,EAASg+B,iBAAiB30B,EAAQ,CAC3C/O,OAAQhF,KAAKgF,SASjB9B,cAAcxC,GACZ,OAAO,EAAIgK,EAASi+B,cAAcjoC,EAAS,CACzCsE,OAAQhF,KAAKgF,Y,iCCrInBnK,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQyT,qBAIR,SAA8B5K,EAAOqkC,GACnC,OAAOr7B,EAAMuC,MAAMX,qBAAqB5K,EAAOqkC,IAHjD,IAAIr7B,EAAQpR,EAAQ,K,iCCLpBX,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQqiB,oBAAiB,EAEzB,IAIgCvd,EAJ5Be,EAASpF,EAAQ,KAEjBotC,GAE4B/oC,EAFWrE,EAAQ,OAEEqE,EAAImN,WAAanN,EAAM,CAAEoN,QAASpN,GAEvF,SAAS0G,EAAgB1G,EAAKC,EAAK9E,GAAiK,OAApJ8E,KAAOD,EAAOhF,OAAOC,eAAe+E,EAAKC,EAAK,CAAE9E,MAAOA,EAAOC,YAAY,EAAMgF,cAAc,EAAMC,UAAU,IAAkBL,EAAIC,GAAO9E,EAAgB6E,EAuF3M9E,EAAQqiB,eArFR,MAKE3d,cACE8G,EAAgBvG,KAAM,aAAc,CAClC2I,KAAM,iBACN6U,SAAU,GACV9P,YAAa,sBAGfnH,EAAgBvG,KAAM,gBAAiB,gBAEvCuG,EAAgBvG,KAAM,cAAU,GAEhCuG,EAAgBvG,KAAM,eAAW,GAEjCuG,EAAgBvG,KAAM,MAAM,CAAC6oC,EAAOjK,KAClC5+B,KAAK8oC,QAAQpb,GAAGmb,EAAOjK,MAGzB5+B,KAAK8oC,QAAU,IAAIF,EAAc37B,QAGnCsgB,UACE,MAAMwb,EAAwC,iBAAvB/oC,KAAKisB,eAC5B,EAAIrrB,EAAO6L,WAAWs8B,EAAtB,WAA0C/oC,KAAKyc,WAAW9T,KAA1D,mCACKogC,IACL/oC,KAAKmjB,yBAAyB,cACzBnjB,KAAKgpC,aAAah4B,MAAKiS,IAC1BjjB,KAAKmjB,yBAAyB,aAC9BnjB,KAAKkjB,kBAAkBD,MACtB8O,IACD/xB,KAAKipC,UAAUlX,GACf/xB,KAAKmjB,yBAAyB,oBAIlCub,aACE1+B,KAAKmjB,yBAAyB,gBAC9BnjB,KAAK8oC,QAAQI,qBAGf7P,eAAe8P,GACb,OAAOnpC,KAAKyc,WAAWe,SAAS+I,SAAS4iB,GAG3CC,mBACE,OAAOppC,KAAKisB,cAGdod,YACE,OAAOrpC,KAAKijB,OAGdE,yBAAyBsD,GACvBzmB,KAAKisB,cAAgBxF,EACrBzmB,KAAK8oC,QAAQQ,KAAK,uBAAwB7iB,GAG5CvD,kBAAkBD,GAChBjjB,KAAKijB,OAASA,EACdjjB,KAAK8oC,QAAQQ,KAAK,gBAAiBrmB,GAGrCgmB,UAAUpc,EAAQ,IAAI9mB,MAAJ,2CAA8C/F,KAAKyc,WAAW9T,QAC9E3I,KAAK8oC,QAAQQ,KAAK,QAASzc,GAG7BtP,cAAcd,GACZ,MAAM,KACJ9T,EAAO3I,KAAKyc,WAAW9T,KADnB,SAEJ6U,EAAWxd,KAAKyc,WAAWe,SAFvB,YAGJ9P,EAAc1N,KAAKyc,WAAW/O,aAC5B+O,EACJzc,KAAKyc,WAAa,CAChB9T,OACA6U,WACA9P,kB,iCC5FN7S,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQyvB,eAOR,SAAwB+e,GACjBA,EAAUtkB,WAAW,WAAUskB,EAAY,QAAUA,GAC1D,OAAO,EAAIhf,EAAOtd,SAASs8B,IAR7BxuC,EAAQ2H,WAAQ,EAEhB,IAEgC7C,EAF5B0qB,GAE4B1qB,EAFIrE,EAAQ,OAESqE,EAAImN,WAAanN,EAAM,CAAEoN,QAASpN,GAOvF,MAAM6C,GAAQ,EAAI6nB,EAAOtd,SAAS,QAClClS,EAAQ2H,MAAQA,G,iCChBhB7H,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETH,OAAOC,eAAeC,EAAS,YAAa,CAC1CE,YAAY,EACZC,IAAK,WACH,OAAOsuC,EAAev8B,WAI1B,IAEgCpN,EAF5B2pC,GAE4B3pC,EAFYrE,EAAQ,OAECqE,EAAImN,WAAanN,EAAM,CAAEoN,QAASpN,I,iCCZvFhF,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQspB,cAER,WACE,MAAM,IAAIte,MAAM,mB,kCCRlB,YAEAlL,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ2G,OAsBR,YAAmB+nC,GACjB,MAAO,KAAOA,EAAMrrC,IAAIsrC,GAAW9kB,KAAK,KAtB1C7pB,EAAQooC,KAAOA,EACfpoC,EAAQgN,MAAQA,EAEhB,IAEgClI,EAF5BkN,GAE4BlN,EAFGrE,EAAQ,OAEUqE,EAAImN,WAAanN,EAAM,CAAEoN,QAASpN,GAyBvF,SAAS6pC,EAAUhuC,GACjB,IAAI+Z,EAAS0tB,EAAKp7B,EAAMrM,IAExB,OADI+Z,EAAO5P,OAAS,IAAM,IAAG4P,EAAS,IAAM/Z,GACrC+Z,EAGT,SAAS0tB,EAAKwG,GAEZ,OADIA,EAAc1kB,WAAW,QAAO0kB,EAAgBA,EAAc/2B,MAAM,IACjE+2B,EAGT,SAAS5hC,EAAMrM,GACb,GAAiB,kBAANA,EAAgB,CACzB,GAAIA,EAAI,IAAMqJ,OAAO6B,UAAUlL,GAAI,MAAM,IAAIqK,MAAJ,uBAA0BrK,EAA1B,qBACzC,MAAO,KAAOA,EAAEyH,SAAS,IAG3B,GAAiB,kBAANzH,EACT,OAAIA,EAAEupB,WAAW,MAAcvpB,EACxB,KAAOA,EAGhB,GAAiB,kBAANA,EACT,MAAO,KAAOA,EAAEyH,SAAS,IAG3B,GAAIghC,EAAOE,SAAS3oC,GAClB,MAAO,KAAOA,EAAEyH,SAAS,OAG3B,GArDF,SAAsBzH,GACpB,MAAiB,kBAANA,GACD,OAANA,QAAoB6B,IAAN7B,GACmD,oBAAhD,OAANA,QAAoB,IAANA,OAAe,EAASA,EAAEyH,UAkDnDymC,CAAaluC,GACf,MAAO,KAAOqR,EAAME,QAAQpG,OAAOnL,GAAGyH,SAAS,IAGjD,MAAM,IAAI4C,MAAJ,uBAA0BrK,EAA1B,wB,0DCpERb,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAET,IAAI+gC,EAAe,CACjB8N,UAAU,EACV/d,iBAAiB,EACjBD,oBAAoB,EACpBtJ,eAAe,EACfD,YAAY,EACZD,aAAa,EACbD,eAAe,GAEjBvnB,OAAOC,eAAeC,EAAS,kBAAmB,CAChDE,YAAY,EACZC,IAAK,WACH,OAAOsnB,EAAUsJ,mBAGrBjxB,OAAOC,eAAeC,EAAS,qBAAsB,CACnDE,YAAY,EACZC,IAAK,WACH,OAAOsnB,EAAUqJ,sBAGrBhxB,OAAOC,eAAeC,EAAS,gBAAiB,CAC9CE,YAAY,EACZC,IAAK,WACH,OAAO4uC,EAAevnB,iBAG1B1nB,OAAOC,eAAeC,EAAS,aAAc,CAC3CE,YAAY,EACZC,IAAK,WACH,OAAO4uC,EAAexnB,cAG1BznB,OAAOC,eAAeC,EAAS,cAAe,CAC5CE,YAAY,EACZC,IAAK,WACH,OAAO4uC,EAAeznB,eAG1BxnB,OAAOC,eAAeC,EAAS,gBAAiB,CAC9CE,YAAY,EACZC,IAAK,WACH,OAAO4uC,EAAe1nB,iBAG1BrnB,EAAQ8uC,cAAW,EAEnB,IAAIE,EAAoBvuC,EAAQ,KAE5BwuC,EAAmBxuC,EAAQ,MAE3BgnB,EAAYhnB,EAAQ,KAEpByuC,EAAiBzuC,EAAQ,MAE7BX,OAAOmR,KAAKi+B,GAAgB9oC,SAAQ,SAAUrB,GAChC,YAARA,GAA6B,eAARA,IACrBjF,OAAO4uB,UAAUC,eAAehN,KAAKqf,EAAcj8B,IACnDA,KAAO/E,GAAWA,EAAQ+E,KAASmqC,EAAenqC,IACtDjF,OAAOC,eAAeC,EAAS+E,EAAK,CAClC7E,YAAY,EACZC,IAAK,WACH,OAAO+uC,EAAenqC,UAK5B,IAAIgqC,EAAiBtuC,EAAQ,MAE7B,MAAMquC,EAAW,CACfK,kBAAmBH,EAAkBG,kBACrC/tB,gBAAiB6tB,EAAiB7tB,gBAClCguB,YAAaJ,EAAkBI,aAEjCpvC,EAAQ8uC,SAAWA,G,iCC7EnBhvC,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQovC,YAAcpvC,EAAQqvC,aAAervC,EAAQsvC,QAAUtvC,EAAQmvC,uBAAoB,EAE3F,IAAI7tB,EAAM7gB,EAAQ,KAEd0Q,EAAU1Q,EAAQ,KAElBoF,EAASpF,EAAQ,KAEjBD,EAAUC,EAAQ,IAElBsR,EAAgBtR,EAAQ,KAExB4iC,EAAY5iC,EAAQ,KAEpBglC,EAAchlC,EAAQ,KAEtBqF,EAAUrF,EAAQ,KAElB8gB,EAA6B9gB,EAAQ,KAErCgnB,EAAYhnB,EAAQ,KAExB,SAAS+gB,EAAsBlK,EAAUmK,GAA0F,OAEnI,SAAkCnK,EAAUoK,GAAc,GAAIA,EAAWvhB,IAAO,OAAOuhB,EAAWvhB,IAAIwhB,KAAKrK,GAAa,OAAOoK,EAAWzhB,MAFA2hB,CAAyBtK,EAA3FuK,EAA6BvK,EAAUmK,EAAY,QAI3H,SAASK,EAAsBxK,EAAUmK,EAAYxhB,GAA4I,OAIjM,SAAkCqX,EAAUoK,EAAYzhB,GAAS,GAAIyhB,EAAW9a,IAAO8a,EAAW9a,IAAI+a,KAAKrK,EAAUrX,OAAe,CAAE,IAAKyhB,EAAWvc,SAAY,MAAM,IAAI4c,UAAU,4CAA+CL,EAAWzhB,MAAQA,GAJ9G+hB,CAAyB1K,EAApFuK,EAA6BvK,EAAUmK,EAAY,OAAuDxhB,GAAeA,EAExM,SAAS4hB,EAA6BvK,EAAUmK,EAAYQ,GAAU,IAAKR,EAAWS,IAAI5K,GAAa,MAAM,IAAIyK,UAAU,gBAAkBE,EAAS,kCAAqC,OAAOR,EAAWthB,IAAImX,GAIjN,IAAI6K,EAA2B,IAAIC,QAMnC,MAAM+sB,UAA0B5tB,EAA2BoB,0BACzDje,YAAY4d,EAAYmO,GACtBzrB,MAAM,CACJJ,SAAU6rB,IAEZxrB,KAAKwrB,aAAeA,EAEpBtO,EAAYvb,IAAI3B,KAAM,CACpBE,UAAU,EACVlF,WAAO,IAGT6hB,EAAsB7c,KAAMkd,EAAaG,GAG3CkG,gBACE,MAAO,CACLtV,KAAMuyB,EAAYnd,eAAeinB,IAEjCp8B,WAAYmO,EAAIvc,IAAI6d,qBAAqBpB,EAAsBvc,KAAMkd,KAIzEzC,aACE,MAAMzV,EAAShF,KAAKwrB,aAAahD,gBAAgB,WACjD,OAAOxoB,KAAKwrB,aAAapd,eAAe,CACtCzS,UAAWqJ,EAAOwiB,UAClB1rB,UAAWkJ,EAAOyiB,UAClB5rB,KAAM+E,EAAOoN,MAAMtM,OAAO1B,KAAKujB,gBAAgBtV,KAAMjO,KAAKujB,gBAAgBrV,WAAY,KAIzE,kBAAC0M,GAChB,MAAMgD,EAAYvB,EAAIvc,IAAI+d,gBAAgBjD,EAAS2B,EAAsBvc,KAAMkd,IAE/E,OAAOY,QAAQC,QAAQ,IAAIjR,EAAcQ,QAAO,EAAIpB,EAAQ2X,4BAA4B,CACtFjG,UAAW,IAAI9Q,EAAcQ,OAAOsQ,MAClC1C,kBAMR,IAAImvB,EADJtvC,EAAQmvC,kBAAoBA,EAE5BnvC,EAAQsvC,QAAUA,EAElB,SAAWA,GACTA,EAAO,YAAkB,KACzBA,EAAO,IAAU,KAFnB,CAGGA,IAAYtvC,EAAQsvC,QAAUA,EAAU,KAE3C,IAAI5sB,EAA4B,IAAIN,QAEpC,MAAMitB,UAAqB9tB,EAA2BoB,0BACpDje,YAAY4d,EAAYmO,GACtBzrB,MAAM,CACJJ,SAAU6rB,IAEZxrB,KAAKwrB,aAAeA,EAEpB/N,EAAa9b,IAAI3B,KAAM,CACrBE,UAAU,EACVlF,WAAO,IAGT6hB,EAAsB7c,KAAMyd,EAAcJ,GAG5CkG,gBACE,MAAO,CACLtV,KAAMuyB,EAAYnd,eAAeinB,IAEjCp8B,WAAYmO,EAAIvc,IAAI6d,qBAAqBpB,EAAsBvc,KAAMyd,KAIzD,mBACd,aAAazd,KAAKuqC,iBAAiBF,EAAQG,KAGvB,uBAACC,GACrB,IAAIC,EAAcruB,EAAIvc,IAAI6d,qBAAqBpB,EAAsBvc,KAAMyd,IAEvEitB,EAAYzlB,WAAW,QACzBylB,EAAcA,EAAY70B,UAAU,IAGtC,IAAI80B,EAAU,OAAH,OAAUD,EAAV,MAEX,OAAQD,GACN,KAAKJ,EAAQG,IACXG,EAAU,OAAH,OAAUD,EAAV,UACP,MAEF,KAAKL,EAAQO,YACXD,EAAU,OAAH,OAAUD,EAAV,MACP,MAEF,QACE,OAAO5sB,QAAQ+sB,OAAO,IAAI9kC,MAAM,oBAGpC,MAAMf,QAAehF,KAAKwrB,aAAahD,gBAAgB,WACvD,OAAOxoB,KAAKwrB,aAAapd,eAAe,CACtCzS,UAAWqJ,EAAOwiB,UAClB1rB,UAAWkJ,EAAOyiB,UAClB5rB,KAAM8uC,IAIO,kBAAC/vB,GAChB,MAAMgD,EAAYvB,EAAIvc,IAAI+d,gBAAgBjD,EAAS2B,EAAsBvc,KAAMyd,IAE/E,OAAOK,QAAQC,QAAQ,IAAIjR,EAAcQ,QAAO,EAAIpB,EAAQ2X,4BAA4B,CACtFjG,UAAW,IAAI9Q,EAAcQ,OAAOsQ,MAClC1C,kBAKRngB,EAAQqvC,aAAeA,EAEvB,IAAIU,EAA4B,IAAI3tB,QAEpC,MAAMgtB,UAAoB7tB,EAA2BoB,0BACnDje,YAAY4d,EAAYmO,GACtBzrB,MAAM,CACJJ,SAAU6rB,IAEZxrB,KAAKwrB,aAAeA,EAEpBsf,EAAanpC,IAAI3B,KAAM,CACrBE,UAAU,EACVlF,WAAO,IAGT6hB,EAAsB7c,KAAM8qC,EAAcztB,GAG5CkG,gBACE,MAAO,CACLtV,KAAMuyB,EAAYnd,eAAeC,IACjCpV,WAAYlO,KAAKm/B,iBAIrB1kB,aACE,MAAMzV,EAAShF,KAAKwrB,aAAahD,gBAAgB,WAC3CuiB,EAAa/qC,KAAKm/B,gBAClBwL,EAAU,OAAH,OAAUI,EAAWl1B,UAAU,GAA/B,MACb,OAAO7V,KAAKwrB,aAAapd,eAAe,CACtCzS,UAAWqJ,EAAOwiB,UAClB1rB,UAAWkJ,EAAOyiB,UAClB5rB,KAAM8uC,IAIVxL,gBACE,MAAMrgB,GAAS,EAAIsf,EAAUgB,kBAAiB,EAAIv+B,EAAQme,YAAYzC,EAAsBvc,KAAM8qC,KAAgB,GAAOl4B,MAAM,GAE/H,MAAO,MADQ,IAAIrX,EAAQ2jC,iBACNtjB,OAAOkD,EAAO5E,QAAQ+B,SAASf,gBAAgBtI,OAAO,IAG5D,kBAACgI,GAChB,MAAMnF,EAAS4G,EAAIvc,IAAI+d,iBAAgB,EAAI2E,EAAUyb,aAAarjB,GAAU2B,EAAsBvc,KAAM8qC,IAExG,IAAIpnB,EAAI3e,OAAO4e,SAASlO,EAAO7C,OAAO,GAAI,IACtC8Q,GAAK,KAAIA,GAAK,IAClB,MACM9F,EAAY,KADNnI,EAAO7C,MAAM,GAAI,GACE8Q,EAAEvgB,SAAS,IAAIygB,SAAS,EAAG,KAC1D,OAAO9F,QAAQC,QAAQ,IAAIjR,EAAcQ,QAAO,EAAIpB,EAAQ2X,4BAA4B,CACtFjG,UAAW,IAAI9Q,EAAcQ,OAAOsQ,MAClC1C,kBAKRngB,EAAQovC,YAAcA,G,6PCtKtB,SAAS1J,EAAgBpoB,EAAQqoB,GAC/B,MAAM,IAAI36B,MAAJ,yCAA4C26B,EAA5C,qBAAiEroB,IAGzE,SAASsoB,EAAiBtoB,EAAQqoB,GAC5BroB,IAAWqoB,GACbD,EAAgBpoB,EAAQqoB,GAI5B,SAASE,EAAkBC,GAKzB,GAJIA,aAAkBhmC,QAAUgmC,EAAOrzB,yBAAyBysB,WAC9D4G,EAASA,EAAOrzB,mBAGZqzB,aAAkB7mB,aACtB,MAAM,IAAIjU,MAAM,iFAGlB,OAAO86B,EAGT,SAASC,EAAwBhnB,EAAMinB,EAAoBC,GACrDlnB,EAAKjM,WAAa,GACpB4yB,EAAgB3mB,EAAKjM,WAAY,MAGnC,MAAMozB,EAAqBnnB,EAAKonB,UAAU,GAAG,GAG7C,GAFAP,EAAiB7mB,EAAKjM,WAAYozB,GAEP,IAAvBA,EACF,MAAO,CAACA,GAGNA,EAAqB,GACvBR,EAAgB3mB,EAAKjM,WAAY,MAGnC,MAAMszB,EAAcrnB,EAAKonB,UAAU,GAAG,GAEtC,GAAIC,EAAc,IAAM,GAAKA,EAAc,EACzC,MAAM,IAAIp7B,MAAJ,gCAAmCo7B,IAG3C,MAAMC,EAAYD,EAAc,EAAI,EAEpC,GAAIC,EAAYL,EACd,MAAM,IAAIh7B,MAAJ,2CAA8Cg7B,EAA9C,qBAA6EK,IAC9E,IAAKJ,GAAcI,EAAYL,EACpC,MAAM,IAAIh7B,MAAJ,sDAAyDg7B,EAAzD,qBAAwFK,IAGhG,GAAIH,EAAqBE,EACvB,MAAM,IAAIp7B,MAAJ,mDAAsDo7B,IAG9D,MAAME,EAAU,GAEhB,IAAK,IAAI1rB,EAAI,EAAGA,EAAIyrB,EAAWzrB,IAAK,CAClC,MAAMmZ,EAAQ,EAAQ,EAAJnZ,EAClB0rB,EAAQr+B,KAAK8W,EAAKonB,UAAUpS,GAAO,IAGrCuS,EAAQr+B,KAAKi+B,GAEb,IAAK,IAAItrB,EAAI,EAAGA,EAAI0rB,EAAQx7B,OAAS,EAAG8P,IACtC,GAAI0rB,EAAQ1rB,GAAK0rB,EAAQ1rB,EAAI,GAC3B,MAAM,IAAI5P,MAAJ,uBAA0B4P,EAA1B,aAAgC0rB,EAAQ1rB,GAAxC,wCAA0EA,EAAI,EAA9E,aAAoF0rB,EAAQ1rB,EAAI,KAI1G,OAAO0rB,EAGT,SAASC,EAAeC,GACtB,MAAMH,EAAYG,EAAQ17B,OAC1B,IAAI27B,EAAY,GAAKJ,EAAY,GACjC,MAAMC,EAAU,GAEhB,IAAK,IAAI1rB,EAAI,EAAGA,EAAIyrB,EAAWzrB,IAC7B0rB,EAAQr+B,KAAKw+B,GACbA,GAAaD,EAAQ5rB,GAAG9H,WAG1B,MAAMqM,EAAS,IAAIF,YAAYwnB,GACzBC,EAAQ,IAAIpyB,WAAW6K,GACvBJ,EAAO,IAAIC,SAASG,GAC1BJ,EAAKG,UAAU,EAAGunB,GAAW,GAE7B,IAAK,IAAI7rB,EAAI,EAAGA,EAAIyrB,EAAWzrB,IAC7BmE,EAAKG,UAAU,EAAQ,EAAJtE,EAAO0rB,EAAQ1rB,IAAI,GACtC8rB,EAAM9/B,IAAI,IAAI0N,WAAWkyB,EAAQ5rB,IAAK0rB,EAAQ1rB,IAGhD,OAAOuE,EAlJTrf,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQiwC,kBAAoBA,EAC5BjwC,EAAQkwC,oBAAsBA,EAC9BlwC,EAAQmwC,uBAAyBA,EACjCnwC,EAAQ8oB,2BAoUR,SAAoC7oB,GAClC,MAAMumC,EAAU,GAIhB,OAHAA,EAAQv+B,KAAKmoC,EAAkBnwC,EAAM4iB,YACrC2jB,EAAQv+B,KAAKkoC,EAAuBlwC,EAAMowC,cAC1C7J,EAAQv+B,KAAKmoC,EAAkBnwC,EAAMqwC,WAC9B/J,EAAeC,IAxUxBxmC,EAAQuwC,mBAAqBA,EAC7BvwC,EAAQwwC,sBAAwBA,EAChCxwC,EAAQywC,0BA8cR,SAAmCxwC,GACjC,MAAMumC,EAAU,GAGhB,OAFAA,EAAQv+B,KAAKuoC,EAAsBvwC,EAAMywC,qBACzClK,EAAQv+B,KAAK0oC,EAAkB1wC,EAAM2wC,iBAC9BrK,EAAeC,IAjdxBxmC,EAAQ6wC,gBAAkBA,EAC1B7wC,EAAQ8wC,mBAAqBA,EAC7B9wC,EAAQ+wC,gBAynBR,SAAyB9wC,GACvB,OAAQA,EAAMmB,MACZ,IAAK,SACH,CACE,MAAM4vC,EAAaH,EAAgB5wC,EAAMA,OACnCymC,EAAQ,IAAIpyB,WAAW,EAAI08B,EAAWl+B,YAI5C,OAHa,IAAIkM,SAAS0nB,EAAMvnB,QAC3BD,UAAU,EAAG,GAAG,GACrBwnB,EAAM9/B,IAAI,IAAI0N,WAAW08B,GAAa,GAC/BtK,EAAMvnB,OAGjB,IAAK,YACH,CACE,MAAM6xB,EAAaF,EAAmB7wC,EAAMA,OACtCymC,EAAQ,IAAIpyB,WAAW,EAAI08B,EAAWl+B,YAI5C,OAHa,IAAIkM,SAAS0nB,EAAMvnB,QAC3BD,UAAU,EAAG,GAAG,GACrBwnB,EAAM9/B,IAAI,IAAI0N,WAAW08B,GAAa,GAC/BtK,EAAMvnB,OAGjB,QACE,MAAM,IAAInU,MAAJ,wBAA2B/K,EAAMmB,SA/oB7CpB,EAAQixC,kBAAoBA,EAC5BjxC,EAAQkxC,uBAAyBA,EACjClxC,EAAQmxC,0BAA4BA,EACpCnxC,EAAQoxC,uBAAyBA,EACjCpxC,EAAQqxC,0BAA4BA,EACpCrxC,EAAQsxC,yBAy6BR,SAAkCrxC,GAChC,MAAMumC,EAAU,GAGhB,OAFAA,EAAQv+B,KAAKopC,EAA0BpxC,EAAMsxC,UAC7C/K,EAAQv+B,KAAKgpC,EAAkBhxC,EAAMuxC,QAC9BjL,EAAeC,IA56BxBxmC,EAAQyxC,kBA09BR,SAA2BxxC,GACzB,MAAMumC,EAAU,GAGhB,OAFAA,EAAQv+B,KAAKypC,EAAezxC,EAAMwC,OAClC+jC,EAAQv+B,KAAK0oC,EAAkB1wC,EAAMoB,OAC9BklC,EAAeC,IA79BxBxmC,EAAQ2xC,gBAAkBA,EAC1B3xC,EAAQ4xC,gBAAkBA,EAC1B5xC,EAAQ4mC,iBAAmBA,EAC3B5mC,EAAQ6mC,gBAAkBA,EAC1B7mC,EAAQ6xC,iBAupCR,SAA0B5xC,GACxB,MAAMkf,EAAS0mB,EAAkB5lC,GAEjC,OADA2lC,EAAiBzmB,EAAOrM,WAAY,IAC7BqM,GAzpCTnf,EAAQ0xC,eAAiBA,EACzB1xC,EAAQowC,kBAAoBA,EAC5BpwC,EAAQ2wC,kBAAoBA,EAC5B3wC,EAAQ8xC,mBAAqBA,EAC7B9xC,EAAQ+xC,mBAAqBA,EAC7B/xC,EAAQgyC,yBAA2BA,EACnChyC,EAAQiyC,uBAAyBA,EACjCjyC,EAAQkyC,wBAA0BA,GAClClyC,EAAQmyC,4BAA8BA,GACtCnyC,EAAQoyC,oBAAsBA,GAC9BpyC,EAAQqyC,sBAAwBA,GAChCryC,EAAQsyC,uBAAyBA,GACjCtyC,EAAQuyC,gBAAkBA,GAC1BvyC,EAAQwyC,kBAAoBA,GAC5BxyC,EAAQyyC,mBAAqBA,GAC7BzyC,EAAQ0yC,oBAAsBA,GAC9B1yC,EAAQ2yC,iBAAmBA,GAC3B3yC,EAAQugB,wBAA0BA,GAClCvgB,EAAQ4yC,qBAAuBA,GAC/B5yC,EAAQ6yC,mBAAqBA,GAC7B7yC,EAAQ8yC,gBAAkBA,GAC1B9yC,EAAQ+yC,oBAAsBA,GAC9B/yC,EAAQgzC,eAw2ER,SAAwB/yC,GACtB,MAAMumC,EAAU,GAKhB,OAJAA,EAAQv+B,KAAK6qC,GAAgB7yC,EAAMgzC,SACnCzM,EAAQv+B,KAAKgqC,EAAuBhyC,EAAMizC,SAC1C1M,EAAQv+B,KAAKiqC,GAAwBjyC,EAAMkzC,eAC3C3M,EAAQv+B,KAAKkqC,GAA4BlyC,EAAMmzC,YACxC7M,EAAeC,IA72ExBxmC,EAAQqzC,yBA25ER,SAAkCpzC,GAChC,MAAMumC,EAAU,GAGhB,OAFAA,EAAQv+B,KAAKsqC,GAAgBtyC,EAAMwC,OACnC+jC,EAAQv+B,KAAKypC,EAAezxC,EAAM4f,UAC3B0mB,EAAeC,IA95ExBxmC,EAAQggB,qBAw9ER,SAA8B/f,GAC5B,MAAMumC,EAAU,GAIhB,OAHAA,EAAQv+B,KAAKmoC,EAAkBnwC,EAAMwC,OACrC+jC,EAAQv+B,KAAKmoC,EAAkBnwC,EAAM6gC,aACrC0F,EAAQv+B,KAAKmoC,EAAkBnwC,EAAM8gC,cAC9BwF,EAAeC,IA59ExBxmC,EAAQszC,YAActzC,EAAQuzC,gBAAkBvzC,EAAQwzC,MAAQxzC,EAAQyzC,WAAazzC,EAAQ0zC,OAAS1zC,EAAQ2zC,UAAY3zC,EAAQiE,YAAcjE,EAAQkE,eAAiBlE,EAAQ+B,QAAU/B,EAAQ4zC,WAAa5zC,EAAQ6b,UAAY7b,EAAQmC,SAAWnC,EAAQkB,OAASlB,EAAQ6zC,cAAgB7zC,EAAQ8zC,aAAe9zC,EAAQ+zC,WAAa/zC,EAAQg0C,mBAAqBh0C,EAAQi0C,eAAiBj0C,EAAQk0C,cAAgBl0C,EAAQm0C,gBAAkBn0C,EAAQo0C,UAAYp0C,EAAQq0C,UAAYr0C,EAAQs0C,SAAWt0C,EAAQu0C,SAAWv0C,EAAQw0C,MAAQx0C,EAAQy0C,QAAUz0C,EAAQmnC,OAASnnC,EAAQonC,QAAUpnC,EAAQ00C,OAAS10C,EAAQ20C,OAAS30C,EAAQ40C,SAAW50C,EAAQ60C,gBAAkB70C,EAAQ80C,iBAAmB90C,EAAQ+0C,cAAgB/0C,EAAQg1C,iBAAmBh1C,EAAQi1C,cAAgBj1C,EAAQk1C,SAAWl1C,EAAQm1C,OAASn1C,EAAQo1C,UAAYp1C,EAAQq1C,OAASr1C,EAAQs1C,iBAAmBt1C,EAAQu1C,aAAev1C,EAAQw1C,UAAYx1C,EAAQy1C,kBAAoBz1C,EAAQ01C,cAAgB11C,EAAQ21C,WAAa31C,EAAQ41C,cAAW,EAmGv+B,MAAMA,EACJlxC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpBL,EAAiB3gC,KAAK8Z,KAAKjM,WAAY,IAGzCw0B,QAAQ1sB,GACN,OAAO3V,KAAK8Z,KAAKwoB,SAAS3sB,GAG5BzX,MACE,OAAO8B,KAAK8Z,KAAKI,OAGR,cACT,OAAO,IAOX,SAAS8wB,EAAkBhwC,GACzB,MAAMkf,EAAS0mB,EAAkB5lC,GAEjC,OADA2lC,EAAiBzmB,EAAOrM,WAAY,IAC7BqM,EALTnf,EAAQ41C,SAAWA,EAQnB,MAAMD,EACJjxC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpB,MAAMK,EAAUP,EAAwB9gC,KAAK8Z,KAAM,GAAG,GACtD,IAAI62B,EAAS3wC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CAC3DjmB,UAAU,IACTA,WACH,IAAI20B,EAAiB/vC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CACnEjmB,UAAU,IACTA,WAGLw1B,cACE,MACM1d,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,GAAW,GAClD,OAAO,IAAI6hB,EAAS3wC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC9DpnB,UAAU,IAIdy1B,YACE,MACM3d,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKjM,WAC7B,OAAO,IAAIkiC,EAAiB/vC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CACtEpnB,UAAU,KAQhB,SAAS6vB,EAAoBjwC,GAC3B,MAAMumC,EAAU,GAGhB,OAFAA,EAAQv+B,KAAKgoC,EAAkBhwC,EAAM81C,WACrCvP,EAAQv+B,KAAKkpC,EAA0BlxC,EAAM+1C,SACtCzP,EAAeC,GANxBxmC,EAAQ21C,WAAaA,EASrB,MAAMD,EACJhxC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GAChBhhC,KAAKgxC,YACPhxC,KAAKhF,QAAQogB,SAAS4lB,GAI1BhmC,QACE,OAAO,IAAI01C,EAAW1wC,KAAK8Z,KAAKI,OAAQ,CACtCkB,UAAU,IAId41B,WACE,OAAOhxC,KAAK8Z,KAAKjM,WAAa,GAOlC,SAASq9B,EAAuBlwC,GAC9B,OAAIA,EACKiwC,EAAoBjwC,GAEpB,IAAIgf,YAAY,GAN3Bjf,EAAQ01C,cAAgBA,EA+DxB11C,EAAQy1C,kBArDR,MACE/wC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpB,MAAMK,EAAUP,EAAwB9gC,KAAK8Z,KAAM,GAAG,GACtD,IAAIw1B,EAAStvC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CAC3DjmB,UAAU,IACTA,WACH,IAAIq1B,EAAczwC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CAChEjmB,UAAU,IACTA,WACH,IAAIk0B,EAAStvC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CAC3DjmB,UAAU,IACTA,WAGL61B,eACE,MACM/d,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,GAAW,GAClD,OAAO,IAAIwgB,EAAStvC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC9DpnB,UAAU,IAIdmI,gBACE,MACM2P,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,IAAW,GAClD,OAAO,IAAI2hB,EAAczwC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CACnEpnB,UAAU,IAId81B,cACE,MACMhe,EAASlzB,KAAK8Z,KAAKonB,UADX,IAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKjM,WAC7B,OAAO,IAAIyhC,EAAStvC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC9DpnB,UAAU,MAgBhB,MAAMm1B,EACJ9wC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpB,MAAMK,EAAUP,EAAwB9gC,KAAK8Z,KAAM,GAAG,GAEtD,IAAK,IAAInE,EAAI,EAAGA,EAAIw7B,IAAI9P,GAAW,EAAG1rB,IACpC,IAAI1Z,GAAO+D,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ1rB,GAAI0rB,EAAQ1rB,EAAI,IAAK,CAC7DyF,UAAU,IACTA,WAIPvV,SACE,OAAI7F,KAAK8Z,KAAKjM,WAAa,EAClB,EAEA7N,KAAK8Z,KAAKonB,UAAU,GAAG,GAAQ,EAAI,EAI9CmB,QAAQ1sB,GACN,MAAMmZ,EAAQ,EAAQ,EAAJnZ,EACZud,EAASlzB,KAAK8Z,KAAKonB,UAAUpS,GAAO,GAC1C,IAAI0T,EAAaxiC,KAAK8Z,KAAKjM,WAM3B,OAJI8H,EAAI,EAAI3V,KAAK6F,WACf28B,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,EAAQ,GAAG,IAGvC,IAAI7yB,GAAO+D,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC5DpnB,UAAU,KAQhB,SAASkwB,EAAmBtwC,GAC1B,OAAOsmC,EAAetmC,EAAMoD,KAAIC,GAAQivC,GAAgBjvC,MAH1DtD,EAAQw1C,UAAYA,EAMpB,MAAMD,EACJ7wC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GAChBhhC,KAAKgxC,YACPhxC,KAAKhF,QAAQogB,SAAS4lB,GAI1BhmC,QACE,OAAO,IAAIu1C,EAAUvwC,KAAK8Z,KAAKI,OAAQ,CACrCkB,UAAU,IAId41B,WACE,OAAOhxC,KAAK8Z,KAAKjM,WAAa,GAOlC,SAAS09B,EAAsBvwC,GAC7B,OAAIA,EACKswC,EAAmBtwC,GAEnB,IAAIgf,YAAY,GAN3Bjf,EAAQu1C,aAAeA,EAmDvBv1C,EAAQs1C,iBAzCR,MACE5wC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpB,MAAMK,EAAUP,EAAwB9gC,KAAK8Z,KAAM,GAAG,GACtD,IAAIw2B,EAAatwC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CAC/DjmB,UAAU,IACTA,WACH,IAAIi0B,EAASrvC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CAC3DjmB,UAAU,IACTA,WAGLg2B,sBACE,MACMle,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,GAAW,GAClD,OAAO,IAAIwhB,EAAatwC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAClEpnB,UAAU,IAIdi2B,mBACE,MACMne,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKjM,WAC7B,OAAO,IAAIwhC,EAASrvC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC9DpnB,UAAU,MAehB,MAAMg1B,EACJ3wC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITk2B,aACE,OAAO,IAAIpP,EAAOliC,KAAK8Z,KAAKI,OAAOtH,MAAM,EAAG,EAAIsvB,EAAOpR,QAAS,CAC9D1V,UAAU,IAIdm2B,WACE,OAAOvxC,KAAK8Z,KAAKwoB,SAAS,EAAIJ,EAAOpR,QAGvC1V,SAAS4lB,GAAa,GACpBL,EAAiB3gC,KAAK8Z,KAAKjM,WAAYuiC,EAAOtf,QAC9C9wB,KAAKsxC,aAAal2B,SAAS4lB,GAGlB,cACT,OAAO,EAAIkB,EAAOpR,OAAS,GAO/B,SAAS8a,EAAgB5wC,GACvB,MAAMymC,EAAQ,IAAIpyB,WAAW,EAAI6yB,EAAOpR,OAAS,GAC3ChX,EAAO,IAAIC,SAAS0nB,EAAMvnB,QAGhC,OAFAunB,EAAM9/B,IAAI,IAAI0N,WAAWuyB,EAAgB5mC,EAAMw2C,WAAY,GAC3D13B,EAAKioB,SAAS,EAAIG,EAAOpR,OAAQ91B,EAAMy2C,OAChChQ,EAAMvnB,OAPfnf,EAAQq1C,OAASA,EAUjB,MAAMD,EACJ1wC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GAChBhhC,KAAK8Z,KAAKjM,WAAa,GACzB4yB,EAAgBzgC,KAAK8Z,KAAKjM,WAAY,MAGxC,MAAMozB,EAAqBjhC,KAAK6F,SAAWq8B,EAAOpR,OAAS,EAC3D6P,EAAiB3gC,KAAK8Z,KAAKjM,WAAYozB,GAEvC,IAAK,IAAItrB,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACb3V,KAAKqiC,QAAQ1sB,GACrByF,SAAS4lB,IAIlBqB,QAAQ1sB,GACN,OAAO,IAAIusB,EAAOliC,KAAK8Z,KAAKI,OAAOtH,MAAM,EAAI+C,EAAIusB,EAAOpR,OAAQ,GAAKnb,EAAI,GAAKusB,EAAOpR,QAAS,CAC5F1V,UAAU,IAIdvV,SACE,OAAO7F,KAAK8Z,KAAKonB,UAAU,GAAG,IAOlC,SAAS2K,EAAmB7wC,GAC1B,MAAMymC,EAAQ,IAAIpyB,WAAW,EAAI6yB,EAAOpR,OAAS91B,EAAM6K,QACvD,IAAIkU,SAAS0nB,EAAMvnB,QAAQD,UAAU,EAAGjf,EAAM6K,QAAQ,GAEtD,IAAK,IAAI8P,EAAI,EAAGA,EAAI3a,EAAM6K,OAAQ8P,IAAK,CACrC,MAAMo2B,EAAanK,EAAgB5mC,EAAM2a,IACzC8rB,EAAM9/B,IAAI,IAAI0N,WAAW08B,GAAa,EAAIp2B,EAAIusB,EAAOpR,QAGvD,OAAO2Q,EAAMvnB,OAXfnf,EAAQo1C,UAAYA,EAsFpBp1C,EAAQm1C,OAxER,MACEzwC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GAChBhhC,KAAK8Z,KAAKjM,WAAa,GACzB8yB,EAAiB3gC,KAAK8Z,KAAKjM,WAAY,MAGzC,MAAM6jC,EAAI1xC,KAAK8Z,KAAKonB,UAAU,GAAG,GAEjC,OAAQwQ,GACN,KAAK,EACH,IAAItB,EAAOpwC,KAAK8Z,KAAKI,OAAOtH,MAAM,GAAI,CACpCwI,UAAU,IACTA,WACH,MAEF,KAAK,EACH,IAAI+0B,EAAUnwC,KAAK8Z,KAAKI,OAAOtH,MAAM,GAAI,CACvCwI,UAAU,IACTA,WACH,MAEF,QACE,MAAM,IAAIrV,MAAJ,wBAA2B2rC,KAIvCC,YACE,MAAMD,EAAI1xC,KAAK8Z,KAAKonB,UAAU,GAAG,GAEjC,OAAQwQ,GACN,KAAK,EACH,MAAO,SAET,KAAK,EACH,MAAO,YAET,QACE,MAAM,IAAI3rC,MAAJ,wBAA2B2rC,KAIvC12C,QACE,MAAM02C,EAAI1xC,KAAK8Z,KAAKonB,UAAU,GAAG,GAEjC,OAAQwQ,GACN,KAAK,EACH,OAAO,IAAItB,EAAOpwC,KAAK8Z,KAAKI,OAAOtH,MAAM,GAAI,CAC3CwI,UAAU,IAGd,KAAK,EACH,OAAO,IAAI+0B,EAAUnwC,KAAK8Z,KAAKI,OAAOtH,MAAM,GAAI,CAC9CwI,UAAU,IAGd,QACE,MAAM,IAAIrV,MAAJ,wBAA2B2rC,OAmCzC,MAAMzB,EACJxwC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GAChBhhC,KAAK8Z,KAAKjM,WAAa,GACzB4yB,EAAgBzgC,KAAK8Z,KAAKjM,WAAY,MAGxC,MAAMozB,EAAqBjhC,KAAK6F,SAAW,EAC3C86B,EAAiB3gC,KAAK8Z,KAAKjM,WAAYozB,GAGzC/iC,MACE,OAAO8B,KAAK8Z,KAAKI,OAAOtH,MAAM,GAGhCyvB,QAAQ1sB,GACN,OAAO3V,KAAK8Z,KAAKwoB,SAAS,EAAI3sB,GAGhC9P,SACE,OAAO7F,KAAK8Z,KAAKonB,UAAU,GAAG,IAOlC,SAAS8K,EAAkBhxC,GACzB,MAAMqD,EAAOuiC,EAAkB5lC,GACzBymC,EAAQ,IAAIpyB,WAAW,EAAIhR,EAAKwP,YAGtC,OAFA,IAAIkM,SAAS0nB,EAAMvnB,QAAQD,UAAU,EAAG5b,EAAKwP,YAAY,GACzD4zB,EAAM9/B,IAAI,IAAI0N,WAAWhR,GAAO,GACzBojC,EAAMvnB,OAPfnf,EAAQk1C,SAAWA,EAUnB,MAAMD,EACJvwC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpB,MAAMK,EAAUP,EAAwB9gC,KAAK8Z,KAAM,GAAG,GAEtD,GAAIunB,EAAQ,GAAKA,EAAQ,KAAO,EAC9B,MAAM,IAAIt7B,MAAJ,mCAAsCs7B,EAAQ,GAA9C,cAAsDA,EAAQ,KAGtE,IAAI4O,EAASjwC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CAC3DjmB,UAAU,IACTA,WAGLw2B,UACE,MACM1e,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,GAAW,GAClD,OAAO,IAAI/U,SAAS/Z,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,IAAaF,SAAS,GAG3EuP,WACE,MACM3e,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKjM,WAC7B,OAAO,IAAIoiC,EAASjwC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC9DpnB,UAAU,KAQhB,SAAS6wB,EAAuBjxC,GAC9B,MAAMumC,EAAU,GACVuQ,EAAW,IAAI/3B,SAAS,IAAIC,YAAY,IAI9C,OAHA83B,EAAS/P,SAAS,EAAG/mC,EAAM+2C,MAC3BxQ,EAAQv+B,KAAK8uC,EAAS53B,QACtBqnB,EAAQv+B,KAAKgpC,EAAkBhxC,EAAMuxC,QAC9BjL,EAAeC,GARxBxmC,EAAQi1C,cAAgBA,EAWxB,MAAMD,EACJtwC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpB,MAAMK,EAAUP,EAAwB9gC,KAAK8Z,KAAM,GAAG,GAEtD,IAAK,IAAInE,EAAI,EAAGA,EAAIw7B,IAAI9P,GAAW,EAAG1rB,IACpC,IAAIq6B,EAAchwC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ1rB,GAAI0rB,EAAQ1rB,EAAI,IAAK,CACpEyF,UAAU,IACTA,WAIPvV,SACE,OAAI7F,KAAK8Z,KAAKjM,WAAa,EAClB,EAEA7N,KAAK8Z,KAAKonB,UAAU,GAAG,GAAQ,EAAI,EAI9CmB,QAAQ1sB,GACN,MAAMmZ,EAAQ,EAAQ,EAAJnZ,EACZud,EAASlzB,KAAK8Z,KAAKonB,UAAUpS,GAAO,GAC1C,IAAI0T,EAAaxiC,KAAK8Z,KAAKjM,WAM3B,OAJI8H,EAAI,EAAI3V,KAAK6F,WACf28B,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,EAAQ,GAAG,IAGvC,IAAIkhB,EAAchwC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CACnEpnB,UAAU,KAQhB,SAAS8wB,EAA0BlxC,GACjC,OAAOsmC,EAAetmC,EAAMoD,KAAIC,GAAQ4tC,EAAuB5tC,MAHjEtD,EAAQg1C,iBAAmBA,EAM3B,MAAMD,EACJrwC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAIT42B,SACE,OAAO,IAAI9P,EAAOliC,KAAK8Z,KAAKI,OAAOtH,MAAM,EAAG,EAAIsvB,EAAOpR,QAAS,CAC9D1V,UAAU,IAId62B,kBACE,OAAOjyC,KAAK8Z,KAAKwoB,SAAS,EAAIJ,EAAOpR,QAGvC1V,SAAS4lB,GAAa,GACpBL,EAAiB3gC,KAAK8Z,KAAKjM,WAAYiiC,EAAchf,QACrD9wB,KAAKgyC,SAAS52B,SAAS4lB,GAGd,cACT,OAAO,EAAIkB,EAAOpR,OAAS,GAO/B,SAASqb,EAAuBnxC,GAC9B,MAAMymC,EAAQ,IAAIpyB,WAAW,EAAI6yB,EAAOpR,OAAS,GAC3ChX,EAAO,IAAIC,SAAS0nB,EAAMvnB,QAGhC,OAFAunB,EAAM9/B,IAAI,IAAI0N,WAAWuyB,EAAgB5mC,EAAM8E,MAAO,GACtDga,EAAKioB,SAAS,EAAIG,EAAOpR,OAAQ91B,EAAMk3C,eAChCzQ,EAAMvnB,OAPfnf,EAAQ+0C,cAAgBA,EAUxB,MAAMD,EACJpwC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GAChBhhC,KAAK8Z,KAAKjM,WAAa,GACzB4yB,EAAgBzgC,KAAK8Z,KAAKjM,WAAY,MAGxC,MAAMozB,EAAqBjhC,KAAK6F,SAAWiqC,EAAchf,OAAS,EAClE6P,EAAiB3gC,KAAK8Z,KAAKjM,WAAYozB,GAEvC,IAAK,IAAItrB,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACb3V,KAAKqiC,QAAQ1sB,GACrByF,SAAS4lB,IAIlBqB,QAAQ1sB,GACN,OAAO,IAAIm6B,EAAc9vC,KAAK8Z,KAAKI,OAAOtH,MAAM,EAAI+C,EAAIm6B,EAAchf,OAAQ,GAAKnb,EAAI,GAAKm6B,EAAchf,QAAS,CACjH1V,UAAU,IAIdvV,SACE,OAAO7F,KAAK8Z,KAAKonB,UAAU,GAAG,IAOlC,SAASkL,EAA0BpxC,GACjC,MAAMymC,EAAQ,IAAIpyB,WAAW,EAAIygC,EAAchf,OAAS91B,EAAM6K,QAC9D,IAAIkU,SAAS0nB,EAAMvnB,QAAQD,UAAU,EAAGjf,EAAM6K,QAAQ,GAEtD,IAAK,IAAI8P,EAAI,EAAGA,EAAI3a,EAAM6K,OAAQ8P,IAAK,CACrC,MAAMo2B,EAAaI,EAAuBnxC,EAAM2a,IAChD8rB,EAAM9/B,IAAI,IAAI0N,WAAW08B,GAAa,EAAIp2B,EAAIm6B,EAAchf,QAG9D,OAAO2Q,EAAMvnB,OAXfnf,EAAQ80C,iBAAmBA,EAuD3B90C,EAAQ60C,gBAzCR,MACEnwC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpB,MAAMK,EAAUP,EAAwB9gC,KAAK8Z,KAAM,GAAG,GACtD,IAAI+1B,EAAiB7vC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CACnEjmB,UAAU,IACTA,WACH,IAAI60B,EAASjwC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CAC3DjmB,UAAU,IACTA,WAGL+2B,aACE,MACMjf,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,GAAW,GAClD,OAAO,IAAI+gB,EAAiB7vC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CACtEpnB,UAAU,IAIdy2B,WACE,MACM3e,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKjM,WAC7B,OAAO,IAAIoiC,EAASjwC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC9DpnB,UAAU,MAwDhBrgB,EAAQ40C,SAzCR,MACElwC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpB,MAAMK,EAAUP,EAAwB9gC,KAAK8Z,KAAM,GAAG,GACtD,IAAIy1B,EAAMvvC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CACxDjmB,UAAU,IACTA,WACH,IAAIi0B,EAASrvC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CAC3DjmB,UAAU,IACTA,WAGLg3B,UACE,MACMlf,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,GAAW,GAClD,OAAO,IAAIygB,EAAMvvC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC3DpnB,UAAU,IAIdi3B,UACE,MACMnf,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKjM,WAC7B,OAAO,IAAIwhC,EAASrvC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC9DpnB,UAAU,MAehB,MAAMs0B,EACJjwC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpBL,EAAiB3gC,KAAK8Z,KAAKjM,WAAY,GAGzCw0B,QAAQ1sB,GACN,OAAO3V,KAAK8Z,KAAKwoB,SAAS3sB,GAG5BzX,MACE,OAAO8B,KAAK8Z,KAAKI,OAGnBo4B,oBACE,OAAOtyC,KAAK8Z,KAAKonB,UAAU,GAAG,GAGhCqR,uBACE,OAAOvyC,KAAK8Z,KAAKonB,UAAU,GAAG,GAGrB,cACT,OAAO,GAOX,SAASwL,EAAgB1xC,GACvB,MAAMkf,EAAS0mB,EAAkB5lC,GAEjC,OADA2lC,EAAiBzmB,EAAOrM,WAAY,GAC7BqM,EALTnf,EAAQ20C,OAASA,EAQjB,MAAMD,EACJhwC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpBL,EAAiB3gC,KAAK8Z,KAAKjM,WAAY,GAGzCw0B,QAAQ1sB,GACN,OAAO3V,KAAK8Z,KAAKwoB,SAAS3sB,GAG5BzX,MACE,OAAO8B,KAAK8Z,KAAKI,OAGR,cACT,OAAO,GAOX,SAASyyB,EAAgB3xC,GACvB,MAAMkf,EAAS0mB,EAAkB5lC,GAEjC,OADA2lC,EAAiBzmB,EAAOrM,WAAY,GAC7BqM,EALTnf,EAAQ00C,OAASA,EAQjB,MAAMtN,EACJ1iC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpBL,EAAiB3gC,KAAK8Z,KAAKjM,WAAY,IAGzCw0B,QAAQ1sB,GACN,OAAO3V,KAAK8Z,KAAKwoB,SAAS3sB,GAG5BzX,MACE,OAAO8B,KAAK8Z,KAAKI,OAGR,cACT,OAAO,IAOX,SAASynB,EAAiB3mC,GACxB,MAAMkf,EAAS0mB,EAAkB5lC,GAEjC,OADA2lC,EAAiBzmB,EAAOrM,WAAY,IAC7BqM,EALTnf,EAAQonC,QAAUA,EAQlB,MAAMD,EACJziC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpBL,EAAiB3gC,KAAK8Z,KAAKjM,WAAY,IAGzCw0B,QAAQ1sB,GACN,OAAO3V,KAAK8Z,KAAKwoB,SAAS3sB,GAG5BzX,MACE,OAAO8B,KAAK8Z,KAAKI,OAGR,cACT,OAAO,IAOX,SAAS0nB,EAAgB5mC,GACvB,MAAMkf,EAAS0mB,EAAkB5lC,GAEjC,OADA2lC,EAAiBzmB,EAAOrM,WAAY,IAC7BqM,EALTnf,EAAQmnC,OAASA,EAqCjBnnC,EAAQy0C,QA7BR,MACE/vC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpBL,EAAiB3gC,KAAK8Z,KAAKjM,WAAY,IAGzCw0B,QAAQ1sB,GACN,OAAO3V,KAAK8Z,KAAKwoB,SAAS3sB,GAG5BzX,MACE,OAAO8B,KAAK8Z,KAAKI,OAGR,cACT,OAAO,KAaX,MAAMq1B,EACJ9vC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GAChBhhC,KAAK8Z,KAAKjM,WAAa,GACzB4yB,EAAgBzgC,KAAK8Z,KAAKjM,WAAY,MAGxC,MAAMozB,EAAqBjhC,KAAK6F,SAAW,EAC3C86B,EAAiB3gC,KAAK8Z,KAAKjM,WAAYozB,GAGzC/iC,MACE,OAAO8B,KAAK8Z,KAAKI,OAAOtH,MAAM,GAGhCyvB,QAAQ1sB,GACN,OAAO3V,KAAK8Z,KAAKwoB,SAAS,EAAI3sB,GAGhC9P,SACE,OAAO7F,KAAK8Z,KAAKonB,UAAU,GAAG,IAOlC,SAASuL,EAAezxC,GACtB,MAAMqD,EAAOuiC,EAAkB5lC,GACzBymC,EAAQ,IAAIpyB,WAAW,EAAIhR,EAAKwP,YAGtC,OAFA,IAAIkM,SAAS0nB,EAAMvnB,QAAQD,UAAU,EAAG5b,EAAKwP,YAAY,GACzD4zB,EAAM9/B,IAAI,IAAI0N,WAAWhR,GAAO,GACzBojC,EAAMvnB,OAPfnf,EAAQw0C,MAAQA,EAUhB,MAAMD,EACJ7vC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GAChBhhC,KAAKgxC,YACPhxC,KAAKhF,QAAQogB,SAAS4lB,GAI1BhmC,QACE,OAAO,IAAIu0C,EAAMvvC,KAAK8Z,KAAKI,OAAQ,CACjCkB,UAAU,IAId41B,WACE,OAAOhxC,KAAK8Z,KAAKjM,WAAa,GAOlC,SAASs9B,EAAkBnwC,GACzB,OAAIA,EACKyxC,EAAezxC,GAEf,IAAIgf,YAAY,GAN3Bjf,EAAQu0C,SAAWA,EAUnB,MAAMD,EACJ5vC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpB,MAAMK,EAAUP,EAAwB9gC,KAAK8Z,KAAM,GAAG,GAEtD,IAAK,IAAInE,EAAI,EAAGA,EAAIw7B,IAAI9P,GAAW,EAAG1rB,IACpC,IAAI45B,EAAMvvC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ1rB,GAAI0rB,EAAQ1rB,EAAI,IAAK,CAC5DyF,UAAU,IACTA,WAIPvV,SACE,OAAI7F,KAAK8Z,KAAKjM,WAAa,EAClB,EAEA7N,KAAK8Z,KAAKonB,UAAU,GAAG,GAAQ,EAAI,EAI9CmB,QAAQ1sB,GACN,MAAMmZ,EAAQ,EAAQ,EAAJnZ,EACZud,EAASlzB,KAAK8Z,KAAKonB,UAAUpS,GAAO,GAC1C,IAAI0T,EAAaxiC,KAAK8Z,KAAKjM,WAM3B,OAJI8H,EAAI,EAAI3V,KAAK6F,WACf28B,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,EAAQ,GAAG,IAGvC,IAAIygB,EAAMvvC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC3DpnB,UAAU,KAQhB,SAASswB,EAAkB1wC,GACzB,OAAOsmC,EAAetmC,EAAMoD,KAAIC,GAAQouC,EAAepuC,MAHzDtD,EAAQs0C,SAAWA,EAMnB,MAAMD,EACJ3vC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GAChBhhC,KAAK8Z,KAAKjM,WAAa,GACzB4yB,EAAgBzgC,KAAK8Z,KAAKjM,WAAY,MAGxC,MAAMozB,EAAqBjhC,KAAK6F,SAAWq8B,EAAOpR,OAAS,EAC3D6P,EAAiB3gC,KAAK8Z,KAAKjM,WAAYozB,GAEvC,IAAK,IAAItrB,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACb3V,KAAKqiC,QAAQ1sB,GACrByF,SAAS4lB,IAIlBqB,QAAQ1sB,GACN,OAAO,IAAIusB,EAAOliC,KAAK8Z,KAAKI,OAAOtH,MAAM,EAAI+C,EAAIusB,EAAOpR,OAAQ,GAAKnb,EAAI,GAAKusB,EAAOpR,QAAS,CAC5F1V,UAAU,IAIdvV,SACE,OAAO7F,KAAK8Z,KAAKonB,UAAU,GAAG,IAOlC,SAAS2L,EAAmB7xC,GAC1B,MAAMymC,EAAQ,IAAIpyB,WAAW,EAAI6yB,EAAOpR,OAAS91B,EAAM6K,QACvD,IAAIkU,SAAS0nB,EAAMvnB,QAAQD,UAAU,EAAGjf,EAAM6K,QAAQ,GAEtD,IAAK,IAAI8P,EAAI,EAAGA,EAAI3a,EAAM6K,OAAQ8P,IAAK,CACrC,MAAMo2B,EAAanK,EAAgB5mC,EAAM2a,IACzC8rB,EAAM9/B,IAAI,IAAI0N,WAAW08B,GAAa,EAAIp2B,EAAIusB,EAAOpR,QAGvD,OAAO2Q,EAAMvnB,OAXfnf,EAAQq0C,UAAYA,EAcpB,MAAMD,EACJ1vC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GAChBhhC,KAAKgxC,YACPhxC,KAAKhF,QAAQogB,SAAS4lB,GAI1BhmC,QACE,OAAO,IAAIiB,GAAO+D,KAAK8Z,KAAKI,OAAQ,CAClCkB,UAAU,IAId41B,WACE,OAAOhxC,KAAK8Z,KAAKjM,WAAa,GAOlC,SAASi/B,EAAmB9xC,GAC1B,OAAIA,EACKsyC,GAAgBtyC,GAEhB,IAAIgf,YAAY,GAN3Bjf,EAAQo0C,UAAYA,EAUpB,MAAMD,EACJzvC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpBL,EAAiB3gC,KAAK8Z,KAAKjM,WAAY,IAGzCw0B,QAAQ1sB,GACN,OAAO3V,KAAK8Z,KAAKwoB,SAAS3sB,GAG5BzX,MACE,OAAO8B,KAAK8Z,KAAKI,OAGR,cACT,OAAO,IAOX,SAAS6yB,EAAyB/xC,GAChC,MAAMkf,EAAS0mB,EAAkB5lC,GAEjC,OADA2lC,EAAiBzmB,EAAOrM,WAAY,IAC7BqM,EALTnf,EAAQm0C,gBAAkBA,EAQ1B,MAAMD,EACJxvC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpB,MAAMK,EAAUP,EAAwB9gC,KAAK8Z,KAAM,GAAG,GAEtD,IAAK,IAAInE,EAAI,EAAGA,EAAIw7B,IAAI9P,GAAW,EAAG1rB,IACpC,IAAI64B,GAAWxuC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ1rB,GAAI0rB,EAAQ1rB,EAAI,IAAK,CACjEyF,UAAU,IACTA,WAIPvV,SACE,OAAI7F,KAAK8Z,KAAKjM,WAAa,EAClB,EAEA7N,KAAK8Z,KAAKonB,UAAU,GAAG,GAAQ,EAAI,EAI9CmB,QAAQ1sB,GACN,MAAMmZ,EAAQ,EAAQ,EAAJnZ,EACZud,EAASlzB,KAAK8Z,KAAKonB,UAAUpS,GAAO,GAC1C,IAAI0T,EAAaxiC,KAAK8Z,KAAKjM,WAM3B,OAJI8H,EAAI,EAAI3V,KAAK6F,WACf28B,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,EAAQ,GAAG,IAGvC,IAAI0f,GAAWxuC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAChEpnB,UAAU,KAQhB,SAAS4xB,EAAuBhyC,GAC9B,OAAOsmC,EAAetmC,EAAMoD,KAAIC,GAAQyvC,GAAoBzvC,MAH9DtD,EAAQk0C,cAAgBA,EAMxB,MAAMD,GACJvvC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpB,MAAMK,EAAUP,EAAwB9gC,KAAK8Z,KAAM,GAAG,GAEtD,IAAK,IAAInE,EAAI,EAAGA,EAAIw7B,IAAI9P,GAAW,EAAG1rB,IACpC,IAAI3W,GAAYgB,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ1rB,GAAI0rB,EAAQ1rB,EAAI,IAAK,CAClEyF,UAAU,IACTA,WAIPvV,SACE,OAAI7F,KAAK8Z,KAAKjM,WAAa,EAClB,EAEA7N,KAAK8Z,KAAKonB,UAAU,GAAG,GAAQ,EAAI,EAI9CmB,QAAQ1sB,GACN,MAAMmZ,EAAQ,EAAQ,EAAJnZ,EACZud,EAASlzB,KAAK8Z,KAAKonB,UAAUpS,GAAO,GAC1C,IAAI0T,EAAaxiC,KAAK8Z,KAAKjM,WAM3B,OAJI8H,EAAI,EAAI3V,KAAK6F,WACf28B,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,EAAQ,GAAG,IAGvC,IAAI9vB,GAAYgB,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CACjEpnB,UAAU,KAQhB,SAAS6xB,GAAwBjyC,GAC/B,OAAOsmC,EAAetmC,EAAMoD,KAAIC,GAAQsvC,GAAqBtvC,MAH/DtD,EAAQi0C,eAAiBA,GAMzB,MAAMD,GACJtvC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GAChBhhC,KAAK8Z,KAAKjM,WAAa,GACzB4yB,EAAgBzgC,KAAK8Z,KAAKjM,WAAY,MAGxC,MAAMozB,EAAqBjhC,KAAK6F,SAAWqpC,EAAgBpe,OAAS,EACpE6P,EAAiB3gC,KAAK8Z,KAAKjM,WAAYozB,GAEvC,IAAK,IAAItrB,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACb3V,KAAKqiC,QAAQ1sB,GACrByF,SAAS4lB,IAIlBqB,QAAQ1sB,GACN,OAAO,IAAIu5B,EAAgBlvC,KAAK8Z,KAAKI,OAAOtH,MAAM,EAAI+C,EAAIu5B,EAAgBpe,OAAQ,GAAKnb,EAAI,GAAKu5B,EAAgBpe,QAAS,CACvH1V,UAAU,IAIdvV,SACE,OAAO7F,KAAK8Z,KAAKonB,UAAU,GAAG,IAOlC,SAASgM,GAA4BlyC,GACnC,MAAMymC,EAAQ,IAAIpyB,WAAW,EAAI6/B,EAAgBpe,OAAS91B,EAAM6K,QAChE,IAAIkU,SAAS0nB,EAAMvnB,QAAQD,UAAU,EAAGjf,EAAM6K,QAAQ,GAEtD,IAAK,IAAI8P,EAAI,EAAGA,EAAI3a,EAAM6K,OAAQ8P,IAAK,CACrC,MAAMo2B,EAAagB,EAAyB/xC,EAAM2a,IAClD8rB,EAAM9/B,IAAI,IAAI0N,WAAW08B,GAAa,EAAIp2B,EAAIu5B,EAAgBpe,QAGhE,OAAO2Q,EAAMvnB,OAXfnf,EAAQg0C,mBAAqBA,GAc7B,MAAMD,GACJrvC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GAChBhhC,KAAK8Z,KAAKjM,WAAa,GACzB4yB,EAAgBzgC,KAAK8Z,KAAKjM,WAAY,MAGxC,MAAMozB,EAAqBjhC,KAAK6F,SAAW/I,GAAQg0B,OAAS,EAC5D6P,EAAiB3gC,KAAK8Z,KAAKjM,WAAYozB,GAEvC,IAAK,IAAItrB,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACb3V,KAAKqiC,QAAQ1sB,GACrByF,SAAS4lB,IAIlBqB,QAAQ1sB,GACN,OAAO,IAAI7Y,GAAQkD,KAAK8Z,KAAKI,OAAOtH,MAAM,EAAI+C,EAAI7Y,GAAQg0B,OAAQ,GAAKnb,EAAI,GAAK7Y,GAAQg0B,QAAS,CAC/F1V,UAAU,IAIdvV,SACE,OAAO7F,KAAK8Z,KAAKonB,UAAU,GAAG,IAOlC,SAASiM,GAAoBnyC,GAC3B,MAAMymC,EAAQ,IAAIpyB,WAAW,EAAIvS,GAAQg0B,OAAS91B,EAAM6K,QACxD,IAAIkU,SAAS0nB,EAAMvnB,QAAQD,UAAU,EAAGjf,EAAM6K,QAAQ,GAEtD,IAAK,IAAI8P,EAAI,EAAGA,EAAI3a,EAAM6K,OAAQ8P,IAAK,CACrC,MAAMo2B,EAAa2B,GAAiB1yC,EAAM2a,IAC1C8rB,EAAM9/B,IAAI,IAAI0N,WAAW08B,GAAa,EAAIp2B,EAAI7Y,GAAQg0B,QAGxD,OAAO2Q,EAAMvnB,OAXfnf,EAAQ+zC,WAAaA,GAcrB,MAAMD,GACJpvC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GAChBhhC,KAAK8Z,KAAKjM,WAAa,GACzB4yB,EAAgBzgC,KAAK8Z,KAAKjM,WAAY,MAGxC,MAAMozB,EAAqBjhC,KAAK6F,SAAW+Q,GAAUka,OAAS,EAC9D6P,EAAiB3gC,KAAK8Z,KAAKjM,WAAYozB,GAEvC,IAAK,IAAItrB,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACb3V,KAAKqiC,QAAQ1sB,GACrByF,SAAS4lB,IAIlBqB,QAAQ1sB,GACN,OAAO,IAAIiB,GAAU5W,KAAK8Z,KAAKI,OAAOtH,MAAM,EAAI+C,EAAIiB,GAAUka,OAAQ,GAAKnb,EAAI,GAAKiB,GAAUka,QAAS,CACrG1V,UAAU,IAIdvV,SACE,OAAO7F,KAAK8Z,KAAKonB,UAAU,GAAG,IAOlC,SAASkM,GAAsBpyC,GAC7B,MAAMymC,EAAQ,IAAIpyB,WAAW,EAAIuH,GAAUka,OAAS91B,EAAM6K,QAC1D,IAAIkU,SAAS0nB,EAAMvnB,QAAQD,UAAU,EAAGjf,EAAM6K,QAAQ,GAEtD,IAAK,IAAI8P,EAAI,EAAGA,EAAI3a,EAAM6K,OAAQ8P,IAAK,CACrC,MAAMo2B,EAAayB,GAAmBxyC,EAAM2a,IAC5C8rB,EAAM9/B,IAAI,IAAI0N,WAAW08B,GAAa,EAAIp2B,EAAIiB,GAAUka,QAG1D,OAAO2Q,EAAMvnB,OAXfnf,EAAQ8zC,aAAeA,GAcvB,MAAMD,GACJnvC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpB,MAAMK,EAAUP,EAAwB9gC,KAAK8Z,KAAM,GAAG,GAEtD,IAAK,IAAInE,EAAI,EAAGA,EAAIw7B,IAAI9P,GAAW,EAAG1rB,IACpC,IAAIg5B,GAAW3uC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ1rB,GAAI0rB,EAAQ1rB,EAAI,IAAK,CACjEyF,UAAU,IACTA,WAIPvV,SACE,OAAI7F,KAAK8Z,KAAKjM,WAAa,EAClB,EAEA7N,KAAK8Z,KAAKonB,UAAU,GAAG,GAAQ,EAAI,EAI9CmB,QAAQ1sB,GACN,MAAMmZ,EAAQ,EAAQ,EAAJnZ,EACZud,EAASlzB,KAAK8Z,KAAKonB,UAAUpS,GAAO,GAC1C,IAAI0T,EAAaxiC,KAAK8Z,KAAKjM,WAM3B,OAJI8H,EAAI,EAAI3V,KAAK6F,WACf28B,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,EAAQ,GAAG,IAGvC,IAAI6f,GAAW3uC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAChEpnB,UAAU,KAQhB,SAASiyB,GAAuBryC,GAC9B,OAAOsmC,EAAetmC,EAAMoD,KAAIC,GAAQovC,GAAoBpvC,MAH9DtD,EAAQ6zC,cAAgBA,GAMxB,MAAM3yC,GACJwD,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpB,MAAMK,EAAUP,EAAwB9gC,KAAK8Z,KAAM,GAAG,GAKtD,GAJA,IAAIooB,EAAOliC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CACzDjmB,UAAU,IACTA,WAECimB,EAAQ,GAAKA,EAAQ,KAAO,EAC9B,MAAM,IAAIt7B,MAAJ,wCAA2Cs7B,EAAQ,GAAnD,cAA2DA,EAAQ,KAG3E,IAAIkO,EAAMvvC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CACxDjmB,UAAU,IACTA,WAGLo3B,cACE,MACMtf,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,GAAW,GAClD,OAAO,IAAIoT,EAAOliC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC5DpnB,UAAU,IAIdq3B,cACE,MACMvf,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,IAAW,GAClD,OAAO,IAAI/U,SAAS/Z,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,IAAaF,SAAS,GAG3EoQ,UACE,MACMxf,EAASlzB,KAAK8Z,KAAKonB,UADX,IAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKjM,WAC7B,OAAO,IAAI0hC,EAAMvvC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC3DpnB,UAAU,KAQhB,SAASkyB,GAAgBtyC,GACvB,MAAMumC,EAAU,GAChBA,EAAQv+B,KAAK4+B,EAAgB5mC,EAAMW,YACnC,MAAMg3C,EAAe,IAAI54B,SAAS,IAAIC,YAAY,IAIlD,OAHA24B,EAAa5Q,SAAS,EAAG/mC,EAAMc,WAC/BylC,EAAQv+B,KAAK2vC,EAAaz4B,QAC1BqnB,EAAQv+B,KAAKypC,EAAezxC,EAAMa,OAC3BylC,EAAeC,GATxBxmC,EAAQkB,OAASA,GAYjB,MAAMiB,GACJuC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITw3B,YACE,OAAO,IAAI1Q,EAAOliC,KAAK8Z,KAAKI,OAAOtH,MAAM,EAAG,EAAIsvB,EAAOpR,QAAS,CAC9D1V,UAAU,IAIdy3B,WACE,OAAO,IAAInD,EAAO1vC,KAAK8Z,KAAKI,OAAOtH,MAAM,EAAIsvB,EAAOpR,OAAQ,EAAIoR,EAAOpR,OAAS4e,EAAO5e,QAAS,CAC9F1V,UAAU,IAIdA,SAAS4lB,GAAa,GACpBL,EAAiB3gC,KAAK8Z,KAAKjM,WAAY3Q,GAAS4zB,QAChD9wB,KAAK4yC,YAAYx3B,SAAS4lB,GAC1BhhC,KAAK6yC,WAAWz3B,SAAS4lB,GAGhB,cACT,OAAO,EAAIkB,EAAOpR,OAAS4e,EAAO5e,QAOtC,SAASyc,GAAkBvyC,GACzB,MAAMymC,EAAQ,IAAIpyB,WAAW,EAAI6yB,EAAOpR,OAAS4e,EAAO5e,QAC3C,IAAI/W,SAAS0nB,EAAMvnB,QAGhC,OAFAunB,EAAM9/B,IAAI,IAAI0N,WAAWuyB,EAAgB5mC,EAAMyB,UAAW,GAC1DglC,EAAM9/B,IAAI,IAAI0N,WAAWq9B,EAAgB1xC,EAAM4B,QAAS,EAAIslC,EAAOpR,QAC5D2Q,EAAMvnB,OAPfnf,EAAQmC,SAAWA,GAUnB,MAAM0Z,GACJnX,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAIT03B,WACE,OAAO,IAAIrD,EAAOzvC,KAAK8Z,KAAKI,OAAOtH,MAAM,EAAG,EAAI68B,EAAO3e,QAAS,CAC9D1V,UAAU,IAId23B,oBACE,OAAO,IAAI71C,GAAS8C,KAAK8Z,KAAKI,OAAOtH,MAAM,EAAI68B,EAAO3e,OAAQ,EAAI2e,EAAO3e,OAAS5zB,GAAS4zB,QAAS,CAClG1V,UAAU,IAIdA,SAAS4lB,GAAa,GACpBL,EAAiB3gC,KAAK8Z,KAAKjM,WAAY+I,GAAUka,QACjD9wB,KAAK8yC,WAAW13B,SAAS4lB,GACzBhhC,KAAK+yC,oBAAoB33B,SAAS4lB,GAGzB,cACT,OAAO,EAAIyO,EAAO3e,OAAS5zB,GAAS4zB,QAOxC,SAAS0c,GAAmBxyC,GAC1B,MAAMymC,EAAQ,IAAIpyB,WAAW,EAAIogC,EAAO3e,OAAS5zB,GAAS4zB,QAC7C,IAAI/W,SAAS0nB,EAAMvnB,QAGhC,OAFAunB,EAAM9/B,IAAI,IAAI0N,WAAWs9B,EAAgB3xC,EAAMsD,QAAS,GACxDmjC,EAAM9/B,IAAI,IAAI0N,WAAWk+B,GAAkBvyC,EAAMyT,kBAAmB,EAAIghC,EAAO3e,QACxE2Q,EAAMvnB,OAPfnf,EAAQ6b,UAAYA,GAUpB,MAAM+3B,GACJlvC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpB,MAAMK,EAAUP,EAAwB9gC,KAAK8Z,KAAM,GAAG,GACtD,IAAI21B,EAAOzvC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CACzDjmB,UAAU,IACTA,WACH,IAAInf,GAAO+D,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CACzDjmB,UAAU,IACTA,WACH,IAAI+zB,EAAUnvC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CAC5DjmB,UAAU,IACTA,WAGL43B,cACE,MACM9f,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,GAAW,GAClD,OAAO,IAAI2gB,EAAOzvC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC5DpnB,UAAU,IAIdg3B,UACE,MACMlf,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,IAAW,GAClD,OAAO,IAAI7yB,GAAO+D,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC5DpnB,UAAU,IAId63B,UACE,MACM/f,EAASlzB,KAAK8Z,KAAKonB,UADX,IAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKjM,WAC7B,OAAO,IAAIshC,EAAUnvC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC/DpnB,UAAU,KAQhB,SAASqyB,GAAoBzyC,GAC3B,MAAMumC,EAAU,GAIhB,OAHAA,EAAQv+B,KAAK2pC,EAAgB3xC,EAAMqC,WACnCkkC,EAAQv+B,KAAKsqC,GAAgBtyC,EAAMwC,OACnC+jC,EAAQv+B,KAAK8pC,EAAmB9xC,EAAMk4C,QAC/B5R,EAAeC,GAPxBxmC,EAAQ4zC,WAAaA,GAUrB,MAAM7xC,GACJ2C,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAIT+3B,cACE,OAAO,IAAIj2C,GAAS8C,KAAK8Z,KAAKI,OAAOtH,MAAM,EAAG,EAAI1V,GAAS4zB,QAAS,CAClE1V,UAAU,IAIdg4B,aACE,OAAOpzC,KAAK8Z,KAAKwoB,SAAS,EAAIplC,GAAS4zB,QAGzC1V,SAAS4lB,GAAa,GACpBL,EAAiB3gC,KAAK8Z,KAAKjM,WAAY/Q,GAAQg0B,QAC/C9wB,KAAKmzC,cAAc/3B,SAAS4lB,GAGnB,cACT,OAAO,EAAI9jC,GAAS4zB,OAAS,GAOjC,SAAS4c,GAAiB1yC,GACxB,MAAMymC,EAAQ,IAAIpyB,WAAW,EAAInS,GAAS4zB,OAAS,GAC7ChX,EAAO,IAAIC,SAAS0nB,EAAMvnB,QAGhC,OAFAunB,EAAM9/B,IAAI,IAAI0N,WAAWk+B,GAAkBvyC,EAAMwB,YAAa,GAC9Dsd,EAAKioB,SAAS,EAAI7kC,GAAS4zB,OAAQ91B,EAAMsB,UAClCmlC,EAAMvnB,OAPfnf,EAAQ+B,QAAUA,GAUlB,MAAMmC,GACJQ,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpB,MAAMK,EAAUP,EAAwB9gC,KAAK8Z,KAAM,GAAG,GACtD,IAAI41B,EAAO1vC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CACzDjmB,UAAU,IACTA,WACH,IAAI0zB,GAAW9uC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CAC7DjmB,UAAU,IACTA,WACH,IAAIg0B,EAAUpvC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CAC5DjmB,UAAU,IACTA,WACH,IAAIyzB,GAAa7uC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CAC/DjmB,UAAU,IACTA,WACH,IAAIwzB,GAAc5uC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CAChEjmB,UAAU,IACTA,WACH,IAAIi0B,EAASrvC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CAC3DjmB,UAAU,IACTA,WAGLynB,aACE,MACM3P,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,GAAW,GAClD,OAAO,IAAI4gB,EAAO1vC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC5DpnB,UAAU,IAId9S,cACE,MACM4qB,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,IAAW,GAClD,OAAO,IAAIggB,GAAW9uC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAChEpnB,UAAU,IAIdi4B,gBACE,MACMngB,EAASlzB,KAAK8Z,KAAKonB,UADX,IAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,IAAW,GAClD,OAAO,IAAIsgB,EAAUpvC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC/DpnB,UAAU,IAIdk4B,YACE,MACMpgB,EAASlzB,KAAK8Z,KAAKonB,UADX,IAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,IAAW,GAClD,OAAO,IAAI+f,GAAa7uC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAClEpnB,UAAU,IAIdm4B,aACE,MACMrgB,EAASlzB,KAAK8Z,KAAKonB,UADX,IAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,IAAW,GAClD,OAAO,IAAI8f,GAAc5uC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CACnEpnB,UAAU,IAIdo4B,iBACE,MACMtgB,EAASlzB,KAAK8Z,KAAKonB,UADX,IAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKjM,WAC7B,OAAO,IAAIwhC,EAASrvC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC9DpnB,UAAU,KAQhB,SAASE,GAAwBtgB,GAC/B,MAAMumC,EAAU,GAOhB,OANAA,EAAQv+B,KAAK0pC,EAAgB1xC,EAAM2D,UACnC4iC,EAAQv+B,KAAKmqC,GAAoBnyC,EAAMy4C,YACvClS,EAAQv+B,KAAK6pC,EAAmB7xC,EAAM04C,cACtCnS,EAAQv+B,KAAKoqC,GAAsBpyC,EAAMmD,SACzCojC,EAAQv+B,KAAKqqC,GAAuBryC,EAAM0D,UAC1C6iC,EAAQv+B,KAAK0oC,EAAkB1wC,EAAM24C,eAC9BrS,EAAeC,GAVxBxmC,EAAQkE,eAAiBA,GAazB,MAAMD,GACJS,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpB,MAAMK,EAAUP,EAAwB9gC,KAAK8Z,KAAM,GAAG,GACtD,IAAI7a,GAAee,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CACjEjmB,UAAU,IACTA,WACH,IAAIi0B,EAASrvC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CAC3DjmB,UAAU,IACTA,WAGLw4B,SACE,MACM1gB,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,GAAW,GAClD,OAAO,IAAI7vB,GAAee,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CACpEpnB,UAAU,IAIdy4B,eACE,MACM3gB,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKjM,WAC7B,OAAO,IAAIwhC,EAASrvC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC9DpnB,UAAU,KAQhB,SAASuyB,GAAqB3yC,GAC5B,MAAMumC,EAAU,GAGhB,OAFAA,EAAQv+B,KAAKsY,GAAwBtgB,EAAMkD,MAC3CqjC,EAAQv+B,KAAK0oC,EAAkB1wC,EAAM+D,YAC9BuiC,EAAeC,GANxBxmC,EAAQiE,YAAcA,GAStB,MAAM0vC,GACJjvC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITynB,aACE,OAAO,IAAI6M,EAAO1vC,KAAK8Z,KAAKI,OAAOtH,MAAM,EAAG,EAAI88B,EAAO5e,QAAS,CAC9D1V,UAAU,IAId04B,mBACE,OAAO,IAAIpE,EAAO1vC,KAAK8Z,KAAKI,OAAOtH,MAAM,EAAI88B,EAAO5e,OAAQ,EAAI4e,EAAO5e,OAAS4e,EAAO5e,QAAS,CAC9F1V,UAAU,IAId24B,eACE,OAAO,IAAItE,EAAOzvC,KAAK8Z,KAAKI,OAAOtH,MAAM,EAAI88B,EAAO5e,OAAS4e,EAAO5e,OAAQ,EAAI4e,EAAO5e,OAAS4e,EAAO5e,OAAS2e,EAAO3e,QAAS,CAC9H1V,UAAU,IAId44B,YACE,OAAO,IAAIvE,EAAOzvC,KAAK8Z,KAAKI,OAAOtH,MAAM,EAAI88B,EAAO5e,OAAS4e,EAAO5e,OAAS2e,EAAO3e,OAAQ,EAAI4e,EAAO5e,OAAS4e,EAAO5e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,QAAS,CAC9J1V,UAAU,IAId64B,WACE,OAAO,IAAIxE,EAAOzvC,KAAK8Z,KAAKI,OAAOtH,MAAM,EAAI88B,EAAO5e,OAAS4e,EAAO5e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAAQ,EAAI4e,EAAO5e,OAAS4e,EAAO5e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,QAAS,CAC9L1V,UAAU,IAId84B,gBACE,OAAO,IAAIhS,EAAOliC,KAAK8Z,KAAKI,OAAOtH,MAAM,EAAI88B,EAAO5e,OAAS4e,EAAO5e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAAQ,EAAI4e,EAAO5e,OAAS4e,EAAO5e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAASoR,EAAOpR,QAAS,CAC9N1V,UAAU,IAId+4B,sBACE,OAAO,IAAIjS,EAAOliC,KAAK8Z,KAAKI,OAAOtH,MAAM,EAAI88B,EAAO5e,OAAS4e,EAAO5e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAASoR,EAAOpR,OAAQ,EAAI4e,EAAO5e,OAAS4e,EAAO5e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAASoR,EAAOpR,OAASoR,EAAOpR,QAAS,CAC9P1V,UAAU,IAIdg5B,mBACE,OAAO,IAAIlS,EAAOliC,KAAK8Z,KAAKI,OAAOtH,MAAM,EAAI88B,EAAO5e,OAAS4e,EAAO5e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAASoR,EAAOpR,OAASoR,EAAOpR,OAAQ,EAAI4e,EAAO5e,OAAS4e,EAAO5e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAASoR,EAAOpR,OAASoR,EAAOpR,OAASoR,EAAOpR,QAAS,CAC9R1V,UAAU,IAIdi5B,gBACE,OAAO,IAAInS,EAAOliC,KAAK8Z,KAAKI,OAAOtH,MAAM,EAAI88B,EAAO5e,OAAS4e,EAAO5e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAASoR,EAAOpR,OAASoR,EAAOpR,OAASoR,EAAOpR,OAAQ,EAAI4e,EAAO5e,OAAS4e,EAAO5e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAASoR,EAAOpR,OAASoR,EAAOpR,OAASoR,EAAOpR,OAASoR,EAAOpR,QAAS,CAC9T1V,UAAU,IAIdk5B,SACE,OAAO,IAAIpS,EAAOliC,KAAK8Z,KAAKI,OAAOtH,MAAM,EAAI88B,EAAO5e,OAAS4e,EAAO5e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAASoR,EAAOpR,OAASoR,EAAOpR,OAASoR,EAAOpR,OAASoR,EAAOpR,OAAQ,EAAI4e,EAAO5e,OAAS4e,EAAO5e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAASoR,EAAOpR,OAASoR,EAAOpR,OAASoR,EAAOpR,OAASoR,EAAOpR,OAASoR,EAAOpR,QAAS,CAC9V1V,UAAU,IAIdA,SAAS4lB,GAAa,GACpBL,EAAiB3gC,KAAK8Z,KAAKjM,WAAY6gC,GAAU5d,QACjD9wB,KAAK6iC,aAAaznB,SAAS4lB,GAC3BhhC,KAAK8zC,mBAAmB14B,SAAS4lB,GACjChhC,KAAK+zC,eAAe34B,SAAS4lB,GAC7BhhC,KAAKg0C,YAAY54B,SAAS4lB,GAC1BhhC,KAAKi0C,WAAW74B,SAAS4lB,GACzBhhC,KAAKk0C,gBAAgB94B,SAAS4lB,GAC9BhhC,KAAKm0C,sBAAsB/4B,SAAS4lB,GACpChhC,KAAKo0C,mBAAmBh5B,SAAS4lB,GACjChhC,KAAKq0C,gBAAgBj5B,SAAS4lB,GAC9BhhC,KAAKs0C,SAASl5B,SAAS4lB,GAGd,cACT,OAAO,EAAI0O,EAAO5e,OAAS4e,EAAO5e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAASoR,EAAOpR,OAASoR,EAAOpR,OAASoR,EAAOpR,OAASoR,EAAOpR,OAASoR,EAAOpR,QAOtK,SAAS8c,GAAmB5yC,GAC1B,MAAMymC,EAAQ,IAAIpyB,WAAW,EAAIqgC,EAAO5e,OAAS4e,EAAO5e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAASoR,EAAOpR,OAASoR,EAAOpR,OAASoR,EAAOpR,OAASoR,EAAOpR,OAASoR,EAAOpR,QAC3K,IAAI/W,SAAS0nB,EAAMvnB,QAWhC,OAVAunB,EAAM9/B,IAAI,IAAI0N,WAAWq9B,EAAgB1xC,EAAM2D,UAAW,GAC1D8iC,EAAM9/B,IAAI,IAAI0N,WAAWq9B,EAAgB1xC,EAAMu5C,iBAAkB,EAAI7E,EAAO5e,QAC5E2Q,EAAM9/B,IAAI,IAAI0N,WAAWs9B,EAAgB3xC,EAAMw5C,YAAa,EAAI9E,EAAO5e,OAAS4e,EAAO5e,QACvF2Q,EAAM9/B,IAAI,IAAI0N,WAAWs9B,EAAgB3xC,EAAMma,SAAU,EAAIu6B,EAAO5e,OAAS4e,EAAO5e,OAAS2e,EAAO3e,QACpG2Q,EAAM9/B,IAAI,IAAI0N,WAAWs9B,EAAgB3xC,EAAM4a,QAAS,EAAI85B,EAAO5e,OAAS4e,EAAO5e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,QACnH2Q,EAAM9/B,IAAI,IAAI0N,WAAWuyB,EAAgB5mC,EAAMy5C,cAAe,EAAI/E,EAAO5e,OAAS4e,EAAO5e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,QACzI2Q,EAAM9/B,IAAI,IAAI0N,WAAWuyB,EAAgB5mC,EAAM05C,oBAAqB,EAAIhF,EAAO5e,OAAS4e,EAAO5e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAASoR,EAAOpR,QAC/J2Q,EAAM9/B,IAAI,IAAI0N,WAAWuyB,EAAgB5mC,EAAM25C,iBAAkB,EAAIjF,EAAO5e,OAAS4e,EAAO5e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAASoR,EAAOpR,OAASoR,EAAOpR,QAC5K2Q,EAAM9/B,IAAI,IAAI0N,WAAWuyB,EAAgB5mC,EAAM45C,cAAe,EAAIlF,EAAO5e,OAAS4e,EAAO5e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAASoR,EAAOpR,OAASoR,EAAOpR,OAASoR,EAAOpR,QACzL2Q,EAAM9/B,IAAI,IAAI0N,WAAWuyB,EAAgB5mC,EAAM65C,MAAO,EAAInF,EAAO5e,OAAS4e,EAAO5e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAAS2e,EAAO3e,OAASoR,EAAOpR,OAASoR,EAAOpR,OAASoR,EAAOpR,OAASoR,EAAOpR,QAC1L2Q,EAAMvnB,OAffnf,EAAQ2zC,UAAYA,GAkBpB,MAAMD,GACJhvC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITw4B,SACE,OAAO,IAAIlF,GAAU1uC,KAAK8Z,KAAKI,OAAOtH,MAAM,EAAG,EAAI87B,GAAU5d,QAAS,CACpE1V,UAAU,IAId05B,WACE,OAAO,IAAI3S,EAAQniC,KAAK8Z,KAAKI,OAAOtH,MAAM,EAAI87B,GAAU5d,OAAQ,EAAI4d,GAAU5d,OAASqR,EAAQrR,QAAS,CACtG1V,UAAU,IAIdA,SAAS4lB,GAAa,GACpBL,EAAiB3gC,KAAK8Z,KAAKjM,WAAY4gC,GAAO3d,QAC9C9wB,KAAK4zC,SAASx4B,SAAS4lB,GACvBhhC,KAAK80C,WAAW15B,SAAS4lB,GAGhB,cACT,OAAO,EAAI0N,GAAU5d,OAASqR,EAAQrR,QAO1C,SAAS+c,GAAgB7yC,GACvB,MAAMymC,EAAQ,IAAIpyB,WAAW,EAAIq/B,GAAU5d,OAASqR,EAAQrR,QAC/C,IAAI/W,SAAS0nB,EAAMvnB,QAGhC,OAFAunB,EAAM9/B,IAAI,IAAI0N,WAAWu+B,GAAmB5yC,EAAMkD,MAAO,GACzDujC,EAAM9/B,IAAI,IAAI0N,WAAWsyB,EAAiB3mC,EAAM+5C,QAAS,EAAIrG,GAAU5d,QAChE2Q,EAAMvnB,OAPfnf,EAAQ0zC,OAASA,GAUjB,MAAMD,GACJ/uC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpB,MAAMK,EAAUP,EAAwB9gC,KAAK8Z,KAAM,GAAG,GACtD,IAAI20B,GAAOzuC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CACzDjmB,UAAU,IACTA,WACH,IAAI2zB,GAAmB/uC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CACrEjmB,UAAU,IACTA,WAGL45B,YACE,MACM9hB,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,GAAW,GAClD,OAAO,IAAI2f,GAAOzuC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC5DpnB,UAAU,IAId65B,eACE,MACM/hB,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKjM,WAC7B,OAAO,IAAIkhC,GAAmB/uC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CACxEpnB,UAAU,KAQhB,SAAS0yB,GAAoB9yC,GAC3B,MAAMumC,EAAU,GAGhB,OAFAA,EAAQv+B,KAAK6qC,GAAgB7yC,EAAMgzC,SACnCzM,EAAQv+B,KAAKkqC,GAA4BlyC,EAAMmzC,YACxC7M,EAAeC,GANxBxmC,EAAQyzC,WAAaA,GA0ErBzzC,EAAQwzC,MAjER,MACE9uC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpB,MAAMK,EAAUP,EAAwB9gC,KAAK8Z,KAAM,GAAG,GACtD,IAAI20B,GAAOzuC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CACzDjmB,UAAU,IACTA,WACH,IAAI6zB,EAAcjvC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CAChEjmB,UAAU,IACTA,WACH,IAAI4zB,GAAehvC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CACjEjmB,UAAU,IACTA,WACH,IAAI2zB,GAAmB/uC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CACrEjmB,UAAU,IACTA,WAGL45B,YACE,MACM9hB,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,GAAW,GAClD,OAAO,IAAI2f,GAAOzuC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC5DpnB,UAAU,IAId85B,YACE,MACMhiB,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,IAAW,GAClD,OAAO,IAAImgB,EAAcjvC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CACnEpnB,UAAU,IAId+5B,kBACE,MACMjiB,EAASlzB,KAAK8Z,KAAKonB,UADX,IAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,IAAW,GAClD,OAAO,IAAIkgB,GAAehvC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CACpEpnB,UAAU,IAId65B,eACE,MACM/hB,EAASlzB,KAAK8Z,KAAKonB,UADX,IAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKjM,WAC7B,OAAO,IAAIkhC,GAAmB/uC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CACxEpnB,UAAU,MA0DhBrgB,EAAQuzC,gBAzCR,MACE7uC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpB,MAAMK,EAAUP,EAAwB9gC,KAAK8Z,KAAM,GAAG,GACtD,IAAI7d,GAAO+D,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CACzDjmB,UAAU,IACTA,WACH,IAAIm0B,EAAMvvC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CACxDjmB,UAAU,IACTA,WAGLg3B,UACE,MACMlf,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,GAAW,GAClD,OAAO,IAAI7yB,GAAO+D,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC5DpnB,UAAU,IAIdg6B,aACE,MACMliB,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKjM,WAC7B,OAAO,IAAI0hC,EAAMvvC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC3DpnB,UAAU,MAoEhBrgB,EAAQszC,YArDR,MACE5uC,YAAYohC,GAAQ,SAClBzlB,GAAW,GACT,IACFpb,KAAK8Z,KAAO,IAAIC,SAAS6mB,EAAkBC,IAEvCzlB,GACFpb,KAAKob,WAITA,SAAS4lB,GAAa,GACpB,MAAMK,EAAUP,EAAwB9gC,KAAK8Z,KAAM,GAAG,GACtD,IAAIw1B,EAAStvC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CAC3DjmB,UAAU,IACTA,WACH,IAAIk0B,EAAStvC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CAC3DjmB,UAAU,IACTA,WACH,IAAIk0B,EAAStvC,KAAK8Z,KAAKI,OAAOtH,MAAMyuB,EAAQ,GAAIA,EAAQ,IAAK,CAC3DjmB,UAAU,IACTA,WAGLg3B,UACE,MACMlf,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,GAAW,GAClD,OAAO,IAAIwgB,EAAStvC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC9DpnB,UAAU,IAIdi6B,eACE,MACMniB,EAASlzB,KAAK8Z,KAAKonB,UADX,GAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKonB,UAAUpS,IAAW,GAClD,OAAO,IAAIwgB,EAAStvC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC9DpnB,UAAU,IAIdk6B,gBACE,MACMpiB,EAASlzB,KAAK8Z,KAAKonB,UADX,IAC4B,GACpCsB,EAAaxiC,KAAK8Z,KAAKjM,WAC7B,OAAO,IAAIyhC,EAAStvC,KAAK8Z,KAAKI,OAAOtH,MAAMsgB,EAAQsP,GAAa,CAC9DpnB,UAAU,O,kCCngFhB,YAEAvgB,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQw6C,wBAA0BA,EAClCx6C,EAAQy6C,wBAA0BA,EAClCz6C,EAAQ06C,kBAAoBA,EAC5B16C,EAAQ+U,mBAAqB/U,EAAQgpB,WAAahpB,EAAQsoB,eAAiBtoB,EAAQ8T,qBAAuB9T,EAAQ26C,mBAAqB36C,EAAQ46C,mBAAqB56C,EAAQ66C,qBAAuB76C,EAAQsW,iBAAmBtW,EAAQ2W,mBAAqB3W,EAAQ+oB,2BAAwB,EAE3R,IAAIlX,EAAQpR,EAAQ,IAEhBmU,EAAYnU,EAAQ,KAEpBoF,EAASpF,EAAQ,KAEjBsR,EAAgBtR,EAAQ,KAExB2N,EAAQ3N,EAAQ,MAEhBq6C,EAAar6C,EAAQ,MAErBygC,EAAezgC,EAAQ,KAE3B,SAAS+zC,EAAM19B,GACb,MAAO,CACLA,YAEAikC,KAAI,CAACC,EAAK7iB,EAAS,KACV,EAAIvjB,EAAUf,gBAAgBmnC,EAAInjC,MAAMsgB,EAAQA,EAASrhB,GAAY,CAC1ED,OAAO,IAIXM,MAAM6jC,EAAKvvC,EAAK0sB,EAAS,GACvB,MAAMhO,GAAO,EAAIvV,EAAUf,gBAAgBpI,EAAK,CAC9C28B,MAAM,IAER4S,EAAI7jC,MAAMgT,EAAMgO,EAAQrhB,EAAW,SAMzC,MAAMiS,GAAwB,EAAInU,EAAUqmC,qBAAqBC,MAAM,oBAAoB,EAAItmC,EAAUumC,aAAa,GAAG,CAACH,EAAK7iB,IAAWqiB,EAAwBQ,EAAII,UAAUjjB,KAAUvjB,EAAUymC,GAAGlkC,QAAQ+jC,MAAM,0BAA2B1G,EAAM,KAAK0G,MAAM,eAAgBtmC,EAAUymC,IAAIH,MAAM,0BAA2BtmC,EAAUymC,IAAIH,MAAM,0BAA2BtmC,EAAUymC,IACzXr7C,EAAQ+oB,sBAAwBA,EAChC,MAAMpS,GAAqB,EAAI/B,EAAUqmC,qBAAqBC,MAAM,oBAAoB,EAAItmC,EAAUumC,aAAa,GAAG,CAACH,EAAK7iB,IAAWqiB,EAAwBQ,EAAII,UAAUjjB,KAAUvjB,EAAUymC,GAAGlkC,QAAQ+jC,MAAM,0BAA2B1G,EAAM,KAAK0G,MAAM,eAAgBtmC,EAAUymC,IACxRr7C,EAAQ2W,mBAAqBA,EAC7B,MAAML,EAAmBK,EAAmBukC,MAAM,eAAgB1G,EAAM,KACxEx0C,EAAQsW,iBAAmBA,EAC3B,MAAMukC,EAAuBlkC,EAC7B3W,EAAQ66C,qBAAuBA,EAC/B,MAAMD,EAAqBtkC,EAK3BtW,EAAQ46C,mBAAqBA,EAC7B,MAAMD,GAAqB,EAAI/lC,EAAUqmC,qBAAqBC,MAAM,UAAWtmC,EAAUymC,IAAIH,MAAM,iBAAkBtmC,EAAU0mC,QAAQJ,MAAM,aAActmC,EAAU0mC,QAAQJ,MAAM,mBAAoB1G,EAAM,KAC7Mx0C,EAAQ26C,mBAAqBA,EAC7B,MAAM7mC,GAAuB,EAAIc,EAAUqmC,qBAAqBC,MAAM,UAAWtmC,EAAUymC,IAAIH,MAAM,iBAAkBtmC,EAAU2mC,YAAYL,MAAM,aAActmC,EAAU2mC,YAAYL,MAAM,mBAAoB1G,EAAM,KAMvN,IAAIlsB,EAeAU,EAPJ,SAASwxB,EAAwBtnC,GAC/B,MAAMivB,EAAMn4B,OAAOnE,EAAOoN,MAAMjG,MAAMkG,IACtC,GAAIivB,IAAQ7Z,EAAeinB,IAAK,OAAOjnB,EAAeinB,IACtD,GAAIpN,IAAQ7Z,EAAeC,IAAK,OAAOD,EAAeC,IACtD,MAAM,IAAIvd,MAAJ,oCAAuCm3B,IAa/C,SAASsY,EAAwBe,GAC/B,MAAM,eACJxnC,EADI,WAEJC,EAFI,QAGJrQ,GACEkQ,EAAqByC,QAAO,EAAI3B,EAAU4B,UAAUglC,IAClDC,EAAe3nC,EAAqB4nC,OAAO9yC,QAAO,CAAC0G,EAAK4rC,IAAU5rC,EAAM4rC,EAAM,GAAGpkC,WAAW,GAC5FzE,EAAU,IAAI6uB,EAAaD,QAAQ,IAAIlvB,EAAcQ,OAAO1M,EAAOoN,MAAMjG,MAAMwuC,EAAW3jC,MAAM,EAErF,EAAf4jC,MACF,MAAO,CACL73C,QAASiC,EAAOoN,MAAMjG,MAAMpJ,GAC5B+3C,cAAe91C,EAAOoN,MAAMjG,MAAMgH,GAClCE,UAAWrO,EAAOoN,MAAMjG,MAAMiH,GAC9BtB,YAAay2B,EAAOl+B,KAAKmH,EAAQu1B,iBAAiBzkC,OAAOiF,WACzDsK,OAAQ02B,EAAOl+B,KAAKmH,EAAQs1B,YAAYxkC,OAAOiF,WAC/CwF,KAAMw7B,EAAOl+B,KAAKmH,EAAQq1B,UAAUvkC,OAAOiF,WAC3CwD,SAAUyG,EAAQm1B,eAStB,SAASkT,EAAkBvxC,GACzB,MAAM,iBACJiN,EADI,wBAEJC,EAFI,aAGJulC,GACEtlC,EAAiBC,QAAO,EAAI3B,EAAU4B,UAAUrN,EAAKpG,OAAON,KAAK3B,OACrE,MAAO,CACLsR,WAAY,CACVc,KAAMkD,EACNjD,WAAYkD,GAEdwlC,MAAOD,KACJnB,EAAwBtxC,EAAKnG,cAhEpChD,EAAQ8T,qBAAuBA,EAE/B9T,EAAQsoB,eAAiBA,EAEzB,SAAWA,GACTA,EAAeA,EAAc,IAAU,GAAK,MAC5CA,EAAeA,EAAc,IAAU,GAAK,MAF9C,CAGGA,IAAmBtoB,EAAQsoB,eAAiBA,EAAiB,KAUhEtoB,EAAQgpB,WAAaA,EAErB,SAAWA,GACTA,EAAWA,EAAU,KAAW,GAAK,OACrCA,EAAWA,EAAU,SAAe,GAAK,WACzCA,EAAWA,EAAU,WAAiB,GAAK,aAC3CA,EAAWA,EAAU,YAAkB,GAAK,cAJ9C,CAKGA,IAAehpB,EAAQgpB,WAAaA,EAAa,KA8GpDhpB,EAAQ+U,mBAlER,MACErQ,YAAYo3C,EAAS7xC,GACnBhF,KAAK62C,QAAUA,EACf72C,KAAKgF,OAASA,EAGU,2BAACtF,GACzB,MAAM,WACJyN,EADI,MAEJypC,GACEl3C,EACEqQ,EAAU/P,KAAK62C,QACf/iC,EAAY,CAChBC,OAAQ,IAAK/T,KAAKgF,OAAOgL,OACvBnU,KAAM+E,EAAOoN,MAAMtM,OAAOyL,EAAWc,KAAMd,EAAWe,WAAY6V,EAAW+yB,YAAuB,OAAVF,QAA4B,IAAVA,EAAmBA,EAAQ,KAEzI5iC,YAAa,QAET+iC,GAAe,EAAI5tC,EAAMlD,MAAM8J,EAAQoX,UAAU,CACrDC,WAAYtT,KACVtK,MAAK,EAAIqsC,EAAW1P,SAAQ3mB,GAAOzP,EAAQoX,UAAU,CACvDC,WAAYtT,EACZosB,aAAc1gB,EAAI4mB,eAChB,IAAI,EAAIyP,EAAWxP,YAAW7mB,GAAOA,EAAI0H,QAAQrhB,OAAS,KAAI,EAAIgwC,EAAWvP,YAAW9mB,GAAOA,EAAI0H,WAAU,EAAI2uB,EAAWhsC,YAChI,OAAO,EAAIV,EAAMY,eAAegtC,GAGb,sBAACr3C,GAEpB,aADwBM,KAAKoQ,qBAAqB1Q,IACjCtB,IAAIq3C,GAGvBuB,uBAAsB,WACpB7pC,EADoB,MAEpBypC,IAEA,MAAO,IAAK52C,KAAKgF,OAAOgL,OACtBnU,KAAM+E,EAAOoN,MAAMjG,MAAMsJ,EAAiBvC,OAAO,CAC/CqC,iBAAkBhE,EAAWc,KAC7BmD,wBAAyBjE,EAAWe,WACpCyD,aAAcoS,EAAW+yB,YACzBH,aAAcC,MAUpB/rC,eAAc,WACZsC,EADY,MAEZypC,IAEA,MAAMK,EAAWj3C,KAAKg3C,sBAAsB,CAC1C7pC,aACAypC,UAEF,MAAO,IAAK52C,KAAKgF,OAAOkL,SACtBrU,KAAM+Q,EAAMuC,MAAMC,kBAAkB6nC,Q,0DC/L1Cp8C,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQm7C,YAAcA,EACtBn7C,EAAQi7C,kBA+LR,WACE,OAAO,IAAIkB,GA/Lbn8C,EAAQo8C,WAAap8C,EAAQu7C,WAAav7C,EAAQq8C,UAAYr8C,EAAQs8C,UAAYt8C,EAAQu8C,OAASv8C,EAAQs7C,OAASt7C,EAAQw8C,OAASx8C,EAAQy8C,OAASz8C,EAAQ08C,MAAQ18C,EAAQ28C,MAAQ38C,EAAQ48C,MAAQ58C,EAAQ68C,MAAQ78C,EAAQ88C,MAAQ98C,EAAQ+8C,MAAQ/8C,EAAQg9C,MAAQh9C,EAAQi9C,MAAQj9C,EAAQk9C,MAAQl9C,EAAQm9C,MAAQn9C,EAAQo9C,MAAQp9C,EAAQq9C,MAAQr9C,EAAQq7C,GAAKr7C,EAAQs9C,GAAKt9C,EAAQm8C,iBAAc,EAEtY,IAMgCr3C,EAN5B6jC,EAAUloC,EAAQ,IAElBuR,GAI4BlN,EAJGrE,EAAQ,OAIUqE,EAAImN,WAAanN,EAAM,CAAEoN,QAASpN,GAFnFe,EAASpF,EAAQ,KAIrB,SAAS+K,EAAgB1G,EAAKC,EAAK9E,GAAiK,OAApJ8E,KAAOD,EAAOhF,OAAOC,eAAe+E,EAAKC,EAAK,CAAE9E,MAAOA,EAAOC,YAAY,EAAMgF,cAAc,EAAMC,UAAU,IAAkBL,EAAIC,GAAO9E,EAAgB6E,EAE3M,SAASy4C,EAAaC,GACpB,OAAO,SAAUxC,EAAK7iB,EAAS,GAG7B,OAAO6iB,EAAIwC,GAAQrlB,IAIvB,SAASslB,EAAaD,GACpB,OAAO,SAAUxC,EAAKvvC,EAAK0sB,EAAS,GAGlC6iB,EAAIwC,GAAQ/xC,EAAK0sB,IAIrB,SAASgjB,EAAYrkC,EAAWikC,EAAM5jC,GACpC,MAAO,CACLL,YACAikC,OACA5jC,SAKJ,MAAMglC,EACJz3C,YAAYg3C,EAAS,IACnBlwC,EAAgBvG,KAAM,cAAU,GAEhCuG,EAAgBvG,KAAM,iBAAa,GAEnCA,KAAKy2C,OAASA,EACdz2C,KAAK6R,UAAY4kC,EAAO9yC,QAAO,CAACssB,EAAOgmB,IAAUhmB,EAAQgmB,EAAM,GAAGpkC,WAAW,GAG/EokC,MAAMttC,EAAMstC,GACV,MAAMwC,EAAa,CAAC9vC,EAAMstC,GAC1B,OAAO,IAAIiB,EAAYl3C,KAAKy2C,OAAO/0C,OAAO,CAAC+2C,KAG7CnnC,OAAOykC,GACL,MAAMtgC,EAAS,GACf,IAAIyd,EAAS,EAMb,OALAlzB,KAAKy2C,OAAOt1C,SAAQ,EAAEwH,EAAMstC,MAC1B,MAAMyC,EAASzC,EAAMH,KAAKC,EAAK7iB,GAC/BA,GAAU+iB,EAAMpkC,UAChB4D,EAAO9M,GAAQ+vC,KAEVjjC,EAGT3G,OAAOjP,GACL,MAAM4jC,EAAWzjC,KAAKy2C,OAAO9yC,QAAO,CAACmtB,GAAO,CAAEmlB,KAAWA,EAAMpkC,UAAYif,GAAM,GAE3EilB,EAAMrS,EAAQS,OAAOK,MAAMf,GAEjC,IAAIvQ,EAAS,EAKb,OAJAlzB,KAAKy2C,OAAOt1C,SAAQ,EAAEwH,EAAMstC,MAC1BA,EAAM/jC,MAAM6jC,EAAKl2C,EAAI8I,GAAOuqB,GAC5BA,GAAU+iB,EAAMpkC,aAEXkkC,GAOX,SAAS4C,EAAalV,EAAUE,EAAI7F,GAClC,OAAO,SAAUiY,EAAK7iB,EAAS,GAC7B,MAAMgR,GAAa,EAAItjC,EAAOgO,gBAAgBmnC,EAAInjC,MAAMsgB,EAAQA,EAASuQ,GAAW,CAClFA,WAIAH,cAAeK,EAEf/xB,OAAO,IAEHpL,EAAMK,OAAOq9B,GACnB,IAAKpG,EAAQ,OAAOt3B,EACpB,MAAMoyC,EAAW/xC,OAAO,IAAMA,OAAkB,EAAX48B,EAAe,GAC9CoV,EAAYD,EAAW/xC,OAAO,GACpC,OAAK+xC,EAAWpyC,KAASK,OAAO,GAAWL,GACnCqyC,EAAYryC,GAAOoyC,GAI/B,SAASE,EAAarV,EAAUE,EAAI7F,GAClC,OAAO,SAAUiY,EAAKnyC,EAAOsvB,EAAS,GACpC,IAAI1sB,EAAM5C,EACNk6B,GAAUt3B,EAAMK,OAAO,KAAIL,GAAOK,OAAO,IAAMA,OAAkB,EAAX48B,IAAiBj9B,GAC3E,MAAM09B,GAAa,EAAItjC,EAAOgO,gBAAgBpI,EAAIrD,SAAS,IAAK,CAC9DsgC,WACAH,cAAeK,IAEjBoS,EAAI7jC,MAAMgyB,EAAYhR,EAAQ,QAIlC,SAAS6lB,EAAWtV,EAAUE,GAC5B,MAAO,CAACoS,EAAK7iB,EAAS,IAAMnmB,EAAME,QAAQpG,QAAO,EAAIjG,EAAOgO,gBAAgBmnC,EAAInjC,MAAMsgB,EAAQA,EAASuQ,GAAW,CAChHA,WACAH,cAAeK,EACf/xB,OAAO,KAIX,SAASonC,EAAWvV,EAAUE,GAC5B,MAAO,CAACoS,EAAKnyC,EAAOsvB,EAAS,KAC3B,MAAMgR,GAAa,EAAItjC,EAAOgO,gBAAgBhL,EAAMT,SAAS,IAAK,CAChEsgC,WACAH,cAAeK,IAEjBoS,EAAI7jC,MAAMgyB,EAAYhR,EAAQ,QAhDlCn4B,EAAQm8C,YAAcA,EAoDtB,MAAMmB,EAAKnC,EAAY,EAAGoC,EAAa,YAAaE,EAAa,cACjEz9C,EAAQs9C,GAAKA,EACb,MAAMjC,EAAKF,EAAY,EAAGoC,EAAa,aAAcE,EAAa,eAClEz9C,EAAQq7C,GAAKA,EACb,MAAMgC,EAAQlC,EAAY,EAAGoC,EAAa,eAAgBE,EAAa,iBACvEz9C,EAAQq9C,MAAQA,EAChB,MAAMD,EAAQjC,EAAY,EAAGoC,EAAa,eAAgBE,EAAa,iBACvEz9C,EAAQo9C,MAAQA,EAChB,MAAMD,EAAQhC,EAAY,EAAGoC,EAAa,gBAAiBE,EAAa,kBACxEz9C,EAAQm9C,MAAQA,EAChB,MAAMD,EAAQ/B,EAAY,EAAGoC,EAAa,gBAAiBE,EAAa,kBACxEz9C,EAAQk9C,MAAQA,EAChB,MAAMD,EAAQ9B,EAAY,EAAGoC,EAAa,eAAgBE,EAAa,iBACvEz9C,EAAQi9C,MAAQA,EAChB,MAAMD,EAAQ7B,EAAY,EAAGoC,EAAa,eAAgBE,EAAa,iBACvEz9C,EAAQg9C,MAAQA,EAChB,MAAMD,EAAQ5B,EAAY,EAAGoC,EAAa,gBAAiBE,EAAa,kBACxEz9C,EAAQ+8C,MAAQA,EAChB,MAAMD,EAAQ3B,EAAY,EAAGoC,EAAa,gBAAiBE,EAAa,kBACxEz9C,EAAQ88C,MAAQA,EAChB,MAAMD,EAAQ1B,EAAY,EAAGoC,EAAa,kBAAmBE,EAAa,oBAC1Ez9C,EAAQ68C,MAAQA,EAChB,MAAMD,EAAQzB,EAAY,EAAGoC,EAAa,kBAAmBE,EAAa,oBAC1Ez9C,EAAQ48C,MAAQA,EAChB,MAAMD,EAAQxB,EAAY,EAAGoC,EAAa,mBAAoBE,EAAa,qBAC3Ez9C,EAAQ28C,MAAQA,EAChB,MAAMD,EAAQvB,EAAY,EAAGoC,EAAa,mBAAoBE,EAAa,qBAC3Ez9C,EAAQ08C,MAAQA,EAChB,MAAMD,EAAStB,EAAY,GAAIyC,EAAa,IAAI,GAAM,GAAOG,EAAa,IAAI,GAAM,IACpF/9C,EAAQy8C,OAASA,EACjB,MAAMD,EAASrB,EAAY,GAAIyC,EAAa,IAAI,GAAO,GAAOG,EAAa,IAAI,GAAO,IACtF/9C,EAAQw8C,OAASA,EACjB,MAAMlB,EAASH,EAAY,GAAIyC,EAAa,IAAI,GAAM,GAAQG,EAAa,IAAI,GAAM,IACrF/9C,EAAQs7C,OAASA,EACjB,MAAMiB,EAASpB,EAAY,GAAIyC,EAAa,IAAI,GAAO,GAAQG,EAAa,IAAI,GAAO,IACvF/9C,EAAQu8C,OAASA,EACjB,MAAMD,EAAYnB,EAAY,EAAG6C,EAAW,GAAG,GAAOC,EAAW,GAAG,IACpEj+C,EAAQs8C,UAAYA,EACpB,MAAMD,EAAYlB,EAAY,EAAG6C,EAAW,GAAG,GAAQC,EAAW,GAAG,IACrEj+C,EAAQq8C,UAAYA,EACpB,MAAMd,EAAaJ,EAAY,GAAI6C,EAAW,IAAI,GAAOC,EAAW,IAAI,IACxEj+C,EAAQu7C,WAAaA,EACrB,MAAMa,EAAajB,EAAY,GAAI6C,EAAW,IAAI,GAAQC,EAAW,IAAI,IAgBzEj+C,EAAQo8C,WAAaA,G","file":"static/js/main.dd3501ff.chunk.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"serialize\", {\n  enumerable: true,\n  get: function () {\n    return _pw.serialize;\n  }\n});\nObject.defineProperty(exports, \"deserialize\", {\n  enumerable: true,\n  get: function () {\n    return _pw.deserialize;\n  }\n});\nexports.Pw = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _pw = require(\"./pw.serde\");\n\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nfunction fromPwCellDep(x) {\n  return {\n    dep_type: x.depType,\n    out_point: {\n      tx_hash: x.outPoint.txHash,\n      index: x.outPoint.index\n    }\n  };\n}\n\nfunction toPwCellDep(x) {\n  return new _pwCore.CellDep(x.dep_type === 'dep_group' ? _pwCore.DepType.depGroup : _pwCore.DepType.code, new _pwCore.OutPoint(x.out_point.tx_hash, x.out_point.index));\n}\n\nfunction fromPwScript(x) {\n  return {\n    code_hash: x.codeHash,\n    args: x.args,\n    hash_type: x.hashType\n  };\n}\n\nfunction toPwScript(x) {\n  return new _pwCore.Script(x.code_hash, x.args, x.hash_type === 'type' ? _pwCore.HashType.type : _pwCore.HashType.data);\n}\n\nfunction fromPwCell(x) {\n  return {\n    cell_output: {\n      capacity: x.capacity.toHexString(),\n      type: x.type ? fromPwScript(x.type) : undefined,\n      lock: fromPwScript(x.lock)\n    },\n    out_point: x.outPoint ? {\n      tx_hash: x.outPoint.txHash,\n      index: x.outPoint.index\n    } : undefined,\n    data: x.getHexData()\n  };\n}\n\nfunction isLumosCell(x) {\n  if (typeof x !== 'object' || x == null) return false;\n  return 'cell_output' in x;\n}\n\nfunction toPwCell(x) {\n  if (isLumosCell(x)) {\n    return new _pwCore.Cell(new _pwCore.Amount(x.cell_output.capacity, 0), toPwScript(x.cell_output.lock), x.cell_output.type ? toPwScript(x.cell_output.type) : undefined, x.out_point ? new _pwCore.OutPoint(x.out_point.tx_hash, x.out_point.index) : undefined, x.data);\n  }\n\n  return new _pwCore.Cell(new _pwCore.Amount(x.output.capacity, 0), toPwScript(x.output.lock), x.output.type ? toPwScript(x.output.type) : undefined, x.out_point ? new _pwCore.OutPoint(x.out_point.tx_hash, x.out_point.index) : undefined, x.output_data);\n}\n\nfunction toPwOutPoint(x) {\n  return new _pwCore.OutPoint(x.tx_hash, x.index);\n}\n/**\n * from: PW => Lumos\n * to: Lumos => PW\n */\n\n\nconst Pw = {\n  fromPwCellDep,\n  toPwCellDep,\n  fromPwCell,\n  toPwCell,\n  toPwScript,\n  fromPwScript,\n  toPwOutPoint\n};\nexports.Pw = Pw;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.serialize = serialize;\nexports.deserialize = deserialize;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nfunction serialize(tx) {\n  const raw = tx.raw;\n  return {\n    raw: {\n      inputs: raw.inputs.map(item => ({\n        since: item.since,\n        previousOutput: {\n          index: item.previousOutput.index,\n          txHash: item.previousOutput.txHash\n        }\n      })),\n      inputCells: raw.inputCells.map(item => ({\n        lock: {\n          args: item.lock.args,\n          codeHash: item.lock.codeHash,\n          hashType: item.lock.hashType\n        },\n        type: item.type && {\n          args: item.type.args,\n          hashType: item.type.hashType,\n          codeHash: item.type.codeHash\n        },\n        data: item.getHexData(),\n        capacity: {\n          amount: item.capacity.toHexString()\n        },\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        outPoint: {\n          txHash: item.outPoint.txHash,\n          index: item.outPoint.index\n        }\n      })),\n      outputs: raw.outputs.map(item => ({\n        capacity: {\n          amount: item.capacity.toHexString()\n        },\n        data: item.getHexData(),\n        lock: {\n          args: item.lock.args,\n          hashType: item.lock.hashType,\n          codeHash: item.lock.codeHash\n        },\n        type: item.type && {\n          args: item.type.args,\n          hashType: item.type.hashType,\n          codeHash: item.type.codeHash\n        }\n      })),\n      version: raw.version,\n      cellDeps: raw.cellDeps.map(item => ({\n        depType: item.depType,\n        outPoint: {\n          index: item.outPoint.index,\n          txHash: item.outPoint.txHash\n        }\n      })),\n      headerDeps: raw.headerDeps\n    },\n    witnessArgs: tx.witnessArgs,\n    witnesses: tx.witnesses\n  };\n}\n\nfunction toScript(x) {\n  return new _pwCore.Script(x.codeHash, x.args, x.hashType === 'type' ? _pwCore.HashType.type : _pwCore.HashType.data);\n}\n\nfunction toCell(x) {\n  return new _pwCore.Cell(new _pwCore.Amount(x.capacity.amount, 0), toScript(x.lock), x.type ? toScript(x.type) : undefined, 'outPoint' in x && x.outPoint ? new _pwCore.OutPoint(x.outPoint.txHash, x.outPoint.index) : undefined, x.data);\n}\n\nfunction deserialize(tx) {\n  const raw = tx.raw;\n  return new _pwCore.Transaction(new _pwCore.RawTransaction(raw.inputCells.map(toCell), raw.outputs.map(toCell), raw.cellDeps.map(item => new _pwCore.CellDep(item.depType === 'code' ? _pwCore.DepType.code : _pwCore.DepType.depGroup, new _pwCore.OutPoint(item.outPoint.txHash, item.outPoint.index))), raw.headerDeps, raw.version), tx.witnessArgs);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AcpTransferSudtBuilder = void 0;\n\nvar _errors = require(\"../errors\");\n\nvar _AbstractTransactionBuilder = require(\"./AbstractTransactionBuilder\");\n\nvar _TransferSudtPwBuilder = require(\"./pw/TransferSudtPwBuilder\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass AcpTransferSudtBuilder extends _AbstractTransactionBuilder.AbstractTransactionBuilder {\n  constructor(options, provider, sender) {\n    super();\n    this.options = options;\n    this.provider = provider;\n    this.sender = sender;\n\n    _defineProperty(this, \"builder\", void 0);\n\n    this.builder = new _TransferSudtPwBuilder.TransferSudtPwBuilder(options, provider, sender);\n  }\n\n  async build() {\n    const transferToSelf = this.options.recipients.find(option => option.recipient === this.sender);\n    if (transferToSelf) throw new _errors.RecipientSameWithSenderError({\n      address: this.sender\n    });\n    return this.builder.build();\n  }\n\n}\n\nexports.AcpTransferSudtBuilder = AcpTransferSudtBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TransferSudtPwBuilder = void 0;\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _utils2 = require(\"../../utils\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./AbstractPwSenderBuilder\");\n\nclass TransferSudtPwBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider, sender) {\n    super(provider);\n    this.options = options;\n    this.sender = sender;\n  }\n\n  async build() {\n    const optionsGroupBySudt = new Map();\n    this.options.recipients.forEach(options => {\n      const oldRecipientOptions = optionsGroupBySudt.get(options.sudt.args);\n      const newRecipientOptions = oldRecipientOptions === undefined ? [{\n        recipient: options.recipient,\n        amount: options.amount,\n        sudt: options.sudt,\n        policy: options.policy,\n        additionalCapacity: options.additionalCapacity,\n        createCapacity: options.createCapacity\n      }] : oldRecipientOptions.concat({\n        recipient: options.recipient,\n        amount: options.amount,\n        sudt: options.sudt,\n        policy: options.policy,\n        additionalCapacity: options.additionalCapacity,\n        createCapacity: options.createCapacity\n      });\n      optionsGroupBySudt.set(options.sudt.args, newRecipientOptions);\n    });\n    const senderSudtInputCells = [];\n    const recipientSudtInputCells = [];\n    const senderSudtOutputCells = [];\n    const recipientSudtOutputCells = [];\n    const recipientCreateOutputCells = []; // 1. handle sudt cells\n\n    for (const item of optionsGroupBySudt) {\n      let [, optionsOfSameSudt] = item;\n\n      if (!this.options.allowDuplicateRecipient) {\n        optionsOfSameSudt = this.deduplicateOptions(optionsOfSameSudt);\n      } // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n\n      const sudtScript = optionsOfSameSudt[0].sudt;\n      let totalTransferAmount = new _pwCore.Amount('0', 0); // build sudt cells of recipients\n\n      for (const option of optionsOfSameSudt) {\n        totalTransferAmount = totalTransferAmount.add(new _pwCore.Amount(option.amount, 0));\n\n        if (option.policy === 'findOrCreate') {\n          const recipientLiveSudtCell = (await this.provider.collectUdtCells(option.recipient, sudtScript, '0'))[0];\n          option.policy = recipientLiveSudtCell ? 'findAcp' : 'createCell';\n        }\n\n        switch (option.policy) {\n          case 'findAcp':\n            {\n              var _option$additionalCap;\n\n              if (option.createCapacity) (0, _utils.debug)(`WARN: “createCapacity” cannot use with “findAcp” policy`);\n              const recipientLiveSudtCell = (await this.provider.collectUdtCells(option.recipient, sudtScript, '0'))[0];\n              if (!recipientLiveSudtCell) (0, _utils2.boom)(`recipient ${option.recipient} has no cell to carry the udt`);\n              const recipientSudtInputCell = new _pwCore.Cell(new _pwCore.Amount(recipientLiveSudtCell.output.capacity, 0), _pw.Pw.toPwScript(recipientLiveSudtCell.output.lock), recipientLiveSudtCell.output.type && _pw.Pw.toPwScript(recipientLiveSudtCell.output.type), _pw.Pw.toPwOutPoint(recipientLiveSudtCell.out_point), recipientLiveSudtCell.output_data);\n              const recipientSudtOutputCell = new _pwCore.Cell(new _pwCore.Amount(recipientLiveSudtCell.output.capacity, 0).add(new _pwCore.Amount((_option$additionalCap = option.additionalCapacity) !== null && _option$additionalCap !== void 0 ? _option$additionalCap : '0', 0)), _pw.Pw.toPwScript(recipientLiveSudtCell.output.lock), recipientLiveSudtCell.output.type && _pw.Pw.toPwScript(recipientLiveSudtCell.output.type), undefined, recipientLiveSudtCell.output_data);\n              recipientSudtOutputCell.setSUDTAmount(recipientSudtOutputCell.getSUDTAmount().add(new _pwCore.Amount(option.amount, 0)));\n              recipientSudtInputCells.push(recipientSudtInputCell);\n              recipientSudtOutputCells.push(recipientSudtOutputCell);\n              break;\n            }\n\n          case 'createCell':\n            {\n              var _option$additionalCap2;\n\n              if (option.createCapacity) {\n                recipientCreateOutputCells.push(new _pwCore.Cell(new _pwCore.Amount(option.createCapacity, 0), _pw.Pw.toPwScript(this.provider.parseToScript(option.recipient))));\n              } // defaults additional capacity to 1 CKB\n\n\n              option.additionalCapacity = (_option$additionalCap2 = option.additionalCapacity) !== null && _option$additionalCap2 !== void 0 ? _option$additionalCap2 : (10 ** 8).toString();\n              const recipientSudtOutputCell = new _pwCore.Cell(new _pwCore.Amount(option.additionalCapacity, 0).add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfSudt)(this.getLockscriptArgsLength(option.recipient))))), _pw.Pw.toPwScript(this.provider.parseToScript(option.recipient)), _pw.Pw.toPwScript(sudtScript), undefined, new _pwCore.Amount(option.amount, 0).toUInt128LE());\n              recipientSudtOutputCells.push(recipientSudtOutputCell);\n              break;\n            }\n        }\n      } // build sudt cells of sender\n\n\n      const senderLiveSudtCells = await this.provider.collectUdtCells(this.sender, sudtScript, totalTransferAmount.toHexString());\n      const senderSudtInputCell = senderLiveSudtCells.map(_pw.Pw.toPwCell);\n      senderSudtInputCells.push(...senderSudtInputCell);\n      const [cellCapacity, sudtAmount] = senderSudtInputCell.reduce(([cellCapacity, sudtAmount], input) => {\n        cellCapacity = cellCapacity.add(input.capacity);\n        sudtAmount = sudtAmount.add(input.getSUDTAmount());\n        return [cellCapacity, sudtAmount];\n      }, [_pwCore.Amount.ZERO, _pwCore.Amount.ZERO]);\n      const senderSudtOutputCell = new _pwCore.Cell(cellCapacity, // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      senderSudtInputCell[0].lock, // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      senderSudtInputCell[0].type, undefined, sudtAmount.toUInt128LE());\n      senderSudtOutputCell.setSUDTAmount(senderSudtOutputCell.getSUDTAmount().sub(totalTransferAmount));\n      senderSudtOutputCells.push(senderSudtOutputCell);\n    } // 2. handle capacity cells\n\n\n    const senderSudtInputCellsCapacity = senderSudtInputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const senderSudtOutputCellsCapacity = senderSudtOutputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const recipientSudtInputCellsCapacity = recipientSudtInputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const recipientSudtOutputCellsCapacity = recipientSudtOutputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const recipientCreateOutputCellsCapacity = recipientCreateOutputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const inputsContainedCapacity = recipientSudtInputCellsCapacity.add(senderSudtInputCellsCapacity);\n    const outputsContainedCapacity = recipientSudtOutputCellsCapacity.add(senderSudtOutputCellsCapacity).add(recipientCreateOutputCellsCapacity);\n    const txWithoutSupplyCapacity = new _pwCore.Transaction(new _pwCore.RawTransaction(senderSudtInputCells.concat(recipientSudtInputCells), senderSudtOutputCells.concat(recipientSudtOutputCells).concat(recipientCreateOutputCells), await this.getCellDepsByCells(senderSudtInputCells.concat(recipientSudtInputCells), senderSudtOutputCells.concat(recipientSudtOutputCells))), senderSudtInputCells.map(() => this.getWitnessPlaceholder(this.sender)));\n\n    const feeWithoutSupplyCapacity = _pwCore.Builder.calcFee(txWithoutSupplyCapacity, Number(this.provider.config.MIN_FEE_RATE));\n\n    const needSupplyCapacity = feeWithoutSupplyCapacity.add(outputsContainedCapacity.sub(inputsContainedCapacity));\n    const senderSudtCellToPayCapacity = senderSudtOutputCells.find(cell => cell.capacity.sub(new _pwCore.Amount(String((0, _builderUtils.byteLenOfSudt)(this.getLockscriptArgsLength(this.sender))))).gte(needSupplyCapacity));\n\n    if (senderSudtCellToPayCapacity) {\n      senderSudtCellToPayCapacity.capacity = senderSudtCellToPayCapacity.capacity.sub(needSupplyCapacity);\n      return txWithoutSupplyCapacity;\n    } // build tx with extra capacity cell supplied\n\n\n    const senderLockscriptArgsLen = this.getLockscriptArgsLength(this.sender);\n    const outputsNeededCapacity = outputsContainedCapacity // additional 61 ckb to ensure capacity is enough for change cell\n    .add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfLockOnlyCell)(senderLockscriptArgsLen)))) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1'));\n    const needSearchCapacity = outputsNeededCapacity.sub(inputsContainedCapacity);\n    const supplyCapacityLiveCells = await this.provider.collectCkbLiveCells(this.sender, needSearchCapacity.toHexString());\n    const supplyCapacityInputCells = supplyCapacityLiveCells.map(_pw.Pw.toPwCell); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n    const capacityChangeCell = _pw.Pw.toPwCell(supplyCapacityLiveCells[0]);\n\n    capacityChangeCell.capacity = supplyCapacityInputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const inputCells = senderSudtInputCells.concat(recipientSudtInputCells).concat(supplyCapacityInputCells);\n    const outputs = senderSudtOutputCells.concat(recipientSudtOutputCells).concat(recipientCreateOutputCells).concat([capacityChangeCell]);\n    const txWithSupplyCapacity = new _pwCore.Transaction(new _pwCore.RawTransaction(inputCells, outputs, await this.getCellDepsByCells(inputCells, outputs)), senderSudtInputCells.map(() => this.getWitnessPlaceholder(this.sender)));\n\n    const fee = _pwCore.Builder.calcFee(txWithSupplyCapacity, Number(this.provider.config.MIN_FEE_RATE));\n\n    capacityChangeCell.capacity = capacityChangeCell.capacity.sub(fee).add(inputsContainedCapacity).sub(outputsContainedCapacity);\n    return txWithSupplyCapacity;\n  }\n\n  getLockscriptArgsLength(address) {\n    return (this.provider.parseToScript(address).args.length - 2) / 2;\n  }\n\n  deduplicateOptions(options) {\n    const deduplicateOptions = new Map();\n    options.forEach(option => {\n      const existedOption = deduplicateOptions.get(option.recipient);\n\n      if (existedOption) {\n        if (existedOption.policy !== option.policy) throw new Error('error: same recipient and sudt, but different policy');\n        existedOption.amount = new _pwCore.Amount(existedOption.amount, 0).add(new _pwCore.Amount(option.amount, 0)).toHexString();\n      } else {\n        deduplicateOptions.set(option.recipient, option);\n      }\n    });\n    return Array.from(deduplicateOptions.values());\n  }\n\n}\n\nexports.TransferSudtPwBuilder = TransferSudtPwBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BN = BN;\nObject.defineProperty(exports, \"BigNumber\", {\n  enumerable: true,\n  get: function () {\n    return _bignumber.BigNumber;\n  }\n});\nexports.CkbAmount = exports.Amount = void 0;\n\nvar _bignumber = require(\"bignumber.js\");\n\nvar _utils = require(\"../utils\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction BN(val) {\n  if (typeof val === 'bigint') return new _bignumber.BigNumber(String(val));\n  if (Amount.checkIsAmount(val)) return new _bignumber.BigNumber(String(val));\n  return new _bignumber.BigNumber(val);\n}\n\nclass Amount {\n  static checkIsAmount(x) {\n    if (typeof x !== 'object') return false;\n    if (x == null) return false;\n    return '__isCkitAmount__' in x && x.__isCkitAmount__;\n  }\n  /**\n   *\n   * @param value\n   * @param decimals\n   * @example\n   * ```ts\n   * Amount.from(1).eq(1) // true\n   * Amount.from(1, 8).eq(1_00000000) // true\n   * ```\n   */\n\n\n  static from(value, decimals = 0) {\n    if (decimals < 0 || !Number.isInteger(decimals)) (0, _utils.boom)('The decimal not valid');\n    if (typeof value === 'bigint') return new Amount(BN(value * BigInt(10) ** BigInt(decimals)));\n    if (!decimals) return new Amount(BN(value));\n    return new Amount(BN(value).times(BN(10).pow(decimals)));\n  }\n  /**\n   * value without decimals\n   * @private\n   */\n\n\n  constructor(bn) {\n    _defineProperty(this, \"__isCkitAmount__\", true);\n\n    _defineProperty(this, \"raw\", void 0);\n\n    if (!bn.isInteger()) throw new Error('Amount must be an integer');\n    if (bn.lt(0)) throw new Error('Amount must cannot be a negative number');\n    this.raw = new _bignumber.BigNumber(bn);\n  }\n\n  humanize(options) {\n    const {\n      decimalPlaces = Infinity,\n      separator = true,\n      decimals = 0\n    } = options ? options : {};\n    const valWithDecimals = this.raw.times(BN(10).pow(-decimals));\n    const originDecimalPlaces = valWithDecimals.decimalPlaces();\n    const rounded = valWithDecimals.decimalPlaces(Math.min(originDecimalPlaces, decimalPlaces), _bignumber.BigNumber.ROUND_FLOOR);\n    if (separator) return rounded.toFormat();\n    return rounded.toString();\n  }\n\n  new(val) {\n    return new Amount(val);\n  }\n\n  toString(base) {\n    return this.raw.toString(base);\n  }\n\n  toHex() {\n    return '0x' + this.toString(16);\n  }\n\n  eq(val) {\n    return this.raw.eq(BN(val));\n  }\n\n  gt(val) {\n    return this.raw.gt(BN(val));\n  }\n\n  gte(val) {\n    return this.raw.gte(BN(val));\n  }\n\n  lt(val) {\n    return this.raw.lt(BN(val));\n  }\n\n  lte(val) {\n    return this.raw.lte(BN(val));\n  }\n\n  plus(val) {\n    return this.new(this.raw.plus(BN(val)));\n  }\n\n  minus(val) {\n    return this.new(this.raw.minus(BN(val)));\n  }\n\n  asBN() {\n    return new _bignumber.BigNumber(this.raw);\n  }\n\n}\n\nexports.Amount = Amount;\n\nclass CkbAmount extends Amount {\n  /**\n   * @deprecated\n   */\n  static from() {\n    throw new Error('Use the Amount.from to instead of');\n  }\n\n  static fromCkb(value) {\n    return new CkbAmount(BN(value).times(10 ** 8));\n  }\n\n  static fromShannon(value) {\n    return new CkbAmount(BN(value));\n  }\n\n  new(val) {\n    return new CkbAmount(val);\n  }\n\n  humanize(options) {\n    return super.humanize({ ...options,\n      decimals: 8\n    });\n  }\n\n}\n\nexports.CkbAmount = CkbAmount;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getCellDeps = getCellDeps;\nexports.nets = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\n// TODO\n//  unipass is not open source at this stage,\n//  there is only some sample code, when unipass is open source, you need to replace these codes\nconst nets = [// {\n//   name: '本地',\n//   url: 'http://localhost:3000/'\n// },\n{\n  name: 'dev',\n  url: 'https://id.unipass.vip',\n  model: 1\n}, {\n  name: 'Aggron-Preview',\n  url: 'https://t.unipass.xyz',\n  model: 0\n}, {\n  name: 'Lina-Preview',\n  url: 'https://rc.unipass.xyz',\n  model: 0\n}, {\n  name: 'Lina',\n  url: 'https://unipass.xyz'\n}];\nexports.nets = nets;\nconst AggronCellDeps = [new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0x04a1ac7fe15e454741d3c5c9a409efb9a967714ad2f530870514417978a9f655', '0x0')), new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0x3d41e1c543f0fddcbb17157d15a2845d7c5fb0363561cd8f50ecd0e118b34f84', '0x0')), new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0xd346695aa3293a84e9f985448668e9692892c959e7e83d6d8042e59c08b8cf5c', '0x0'))];\nconst LinaCellDeps = [new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0x825e0e2f8c15a4740fb0043116e8aa4e664c2e6a41c79df71ba29c48a7a0ea62', '0x0')), new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0xf247a0e9dfe9d559ad8486428987071b65d441568075465c2810409e889f4081', '0x0')), new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0x1196caaf9e45f1959ea3583f92914ee8306d42e27152f7068f9eeb52ac23eeae', '0x0'))];\n\nfunction getCellDeps(isLina = false) {\n  let data = AggronCellDeps;\n  if (isLina) data = LinaCellDeps;\n  return data;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TransferCkbBuilder = void 0;\n\nvar _errors = require(\"../errors\");\n\nvar _AbstractTransactionBuilder = require(\"./AbstractTransactionBuilder\");\n\nvar _TransferCkbPwBuilder = require(\"./pw/TransferCkbPwBuilder\");\n\n// just for testing case, do not use it\nclass TransferCkbBuilder extends _AbstractTransactionBuilder.AbstractTransactionBuilder {\n  constructor(options, provider, sender) {\n    super();\n    this.options = options;\n    this.provider = provider;\n    this.sender = sender;\n  }\n\n  async build() {\n    const transferToSelf = this.options.recipients.some(item => item.recipient === this.sender && item.capacityPolicy === 'findAcp');\n    if (transferToSelf) throw new _errors.RecipientSameWithSenderError({\n      address: this.sender\n    });\n    const builder = new _TransferCkbPwBuilder.TransferCkbPwBuilder(this.options, this.provider, this.sender);\n    return builder.build();\n  }\n\n}\n\nexports.TransferCkbBuilder = TransferCkbBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TransferCkbPwBuilder = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _errors = require(\"../../errors\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./AbstractPwSenderBuilder\");\n\nclass TransferCkbPwBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider, sender) {\n    super(provider);\n    this.options = options;\n    this.sender = sender;\n  }\n\n  async build() {\n    const recipientCreatedCells = this.options.recipients.filter(item => item.capacityPolicy === 'createCell').map(item => new _pwCore.Cell(new _pwCore.Amount(item.amount, 0), _pw.Pw.toPwScript(this.provider.parseToScript(item.recipient))));\n    const acpOptions = this.options.recipients.filter(item => item.capacityPolicy === 'findAcp');\n    const recipientAcpCells$ = (0, _rxjs.from)(acpOptions).pipe((0, _rxjs.mergeMap)(async item => {\n      const resolveds = await this.provider.collectCkbLiveCells(item.recipient, '0');\n      const resolved = resolveds[0];\n      if (!resolved) throw new _errors.NoAvailableCellError({\n        lock: this.provider.parseToScript(item.recipient)\n      }); // increase capacity\n\n      const cell = _pw.Pw.toPwCell(resolved);\n\n      cell.capacity = cell.capacity.add(new _pwCore.Amount(item.amount, 0));\n      return cell;\n    }), (0, _rxjs.toArray)());\n    const recipientAcpCells = await (0, _rxjs.lastValueFrom)(recipientAcpCells$);\n    const createdCapacity = recipientCreatedCells.reduce((totalCapacity, cell) => totalCapacity.add(cell.capacity), _pwCore.Amount.ZERO);\n    const injectedAcpCapacity = acpOptions.reduce((totalCapacity, item) => totalCapacity.add(new _pwCore.Amount(item.amount, 0)), _pwCore.Amount.ZERO);\n    const senderOutpoints = await this.provider.collectCkbLiveCells(this.sender, injectedAcpCapacity.add(createdCapacity) // 61 ckb to ensure change cell capacity is enough\n    .add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfLockOnlyCell)()))) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1')).toHexString());\n    const senderCells = senderOutpoints.map(_pw.Pw.toPwCell);\n\n    if (!senderCells.length || !senderCells[0]) {\n      throw new _errors.NoAvailableCellError({\n        lock: this.provider.parseToScript(this.sender)\n      });\n    } // accumulate all sender capacity into one cell\n\n\n    const senderOutput = senderCells[0];\n    senderOutput.capacity = senderCells.reduce((acc, cell) => acc.add(cell.capacity), new _pwCore.Amount('0', 0));\n    const inputCells = [...senderCells, ...recipientAcpCells];\n    const outputs = [senderOutput, ...recipientAcpCells, ...recipientCreatedCells];\n    const tx = new _pwCore.Transaction(new _pwCore.RawTransaction(inputCells, outputs, await this.getCellDepsByCells(inputCells, outputs)), [this.getWitnessPlaceholder(this.sender)]);\n    const fee = TransferCkbPwBuilder.calcFee(tx);\n    senderOutput.capacity = senderOutput.capacity.sub(createdCapacity).sub(injectedAcpCapacity).sub(fee);\n    return tx;\n  }\n\n}\n\nexports.TransferCkbPwBuilder = TransferCkbPwBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MintSudtBuilder = void 0;\n\nvar _errors = require(\"../errors\");\n\nvar _AbstractTransactionBuilder = require(\"./AbstractTransactionBuilder\");\n\nvar _MintSudtPwBuilder = require(\"./pw/MintSudtPwBuilder\");\n\nclass MintSudtBuilder extends _AbstractTransactionBuilder.AbstractTransactionBuilder {\n  constructor(options, provider, sender) {\n    super();\n    this.options = options;\n    this.provider = provider;\n    this.sender = sender;\n  }\n\n  async buildPwTransaction() {\n    const builder = new _MintSudtPwBuilder.NonAcpPwMintBuilder(this.options, this.provider, this.sender);\n    return await builder.build();\n  }\n\n  async build() {\n    const mintToSelf = this.options.recipients.some(item => item.recipient === this.sender && item.capacityPolicy !== 'createCell');\n    if (mintToSelf) throw new _errors.RecipientSameWithSenderError({\n      address: this.sender\n    });\n    return this.buildPwTransaction();\n  }\n\n}\n\nexports.MintSudtBuilder = MintSudtBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NonAcpPwMintBuilder = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _errors = require(\"../../errors\");\n\nvar _helpers = require(\"../../helpers\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./AbstractPwSenderBuilder\");\n\nclass NonAcpPwMintBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider, issuerAddress) {\n    super(provider);\n    this.options = options;\n    this.issuerAddress = issuerAddress;\n  }\n\n  async build() {\n    const senderMintedUdtType = this.provider.newSudtScript(this.issuerAddress); // capacity provided by issuer\n\n    const createdRecipientCells = this.options.recipients.filter(item => item.capacityPolicy === 'createCell').map(item => {\n      var _item$sudt;\n\n      const recipientLockArgsBytesLen = (this.provider.parseToScript(item.recipient).args.length - 2) / 2;\n      return new _pwCore.Cell(new _pwCore.Amount(String((0, _helpers.BN)(item.additionalCapacity || 0)), 0).add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfSudt)(recipientLockArgsBytesLen)))), _pw.Pw.toPwScript(this.provider.parseToScript(item.recipient)), // recipient lock\n      _pw.Pw.toPwScript((_item$sudt = item.sudt) !== null && _item$sudt !== void 0 ? _item$sudt : senderMintedUdtType), // issued sudt type\n      undefined, new _pwCore.Amount(item.amount, 0).toUInt128LE());\n    }); // capacity provided by recipient\n\n    const resolvedFindAcpCells = this.options.recipients.filter(item => item.capacityPolicy === 'findAcp');\n    const foundRecipientCells$ = (0, _rxjs.from)(resolvedFindAcpCells).pipe( // collect the udt cell from recipients, throw an error if no udt cell is found\n    (0, _rxjs.mergeMap)(async item => {\n      var _item$sudt2;\n\n      const resolved = (await this.provider.collectUdtCells(item.recipient, (_item$sudt2 = item.sudt) !== null && _item$sudt2 !== void 0 ? _item$sudt2 : senderMintedUdtType, '0'))[0];\n\n      if (!resolved) {\n        throw new _errors.NoAvailableCellError({\n          lock: this.provider.parseToScript(item.recipient),\n          type: senderMintedUdtType\n        });\n      }\n\n      const cell = _pw.Pw.toPwCell(resolved);\n\n      cell.capacity = cell.capacity.add(new _pwCore.Amount(item.additionalCapacity || '0', 0));\n      cell.setSUDTAmount(cell.getSUDTAmount().add(new _pwCore.Amount(item.amount, 0)));\n      return cell;\n    }, 5), (0, _rxjs.toArray)());\n    const foundRecipientCells = await (0, _rxjs.lastValueFrom)(foundRecipientCells$);\n    const createdRecipientCellsCapacity = createdRecipientCells.reduce((sum, createdCell) => sum.add(createdCell.capacity), _pwCore.Amount.ZERO);\n    const foundRecipientCellsAdditionalCapacity = resolvedFindAcpCells.reduce((sum, foundCell) => sum.add(new _pwCore.Amount(foundCell.additionalCapacity || '0', 0)), _pwCore.Amount.ZERO);\n    const neededCapacityFromIssuer = createdRecipientCellsCapacity.add(foundRecipientCellsAdditionalCapacity) // additional 61 ckb to ensure capacity is enough for change cell\n    .add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfLockOnlyCell)()))) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1'));\n    const issuerOutpoints = await this.provider.collectCkbLiveCells(this.issuerAddress, neededCapacityFromIssuer.toHexString());\n    const issuerCells = issuerOutpoints.map(_pw.Pw.toPwCell); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n    const issuerOutput = issuerCells[0].clone();\n    issuerOutput.capacity = issuerCells.reduce((sum, inputCell) => sum.add(inputCell.capacity), _pwCore.Amount.ZERO);\n    const inputCells = [...issuerCells, ...foundRecipientCells];\n    const outputs = [issuerOutput, ...createdRecipientCells, ...foundRecipientCells];\n    const rawTx = new _pwCore.RawTransaction(inputCells, outputs, await this.getCellDepsByCells(inputCells, outputs));\n    const tx = new _pwCore.Transaction(rawTx, [this.getWitnessPlaceholder(this.issuerAddress)]);\n\n    const fee = _pwCore.Builder.calcFee(tx, Number(this.provider.config.MIN_FEE_RATE));\n\n    issuerOutput.capacity = issuerOutput.capacity.sub(fee).sub(createdRecipientCellsCapacity).sub(foundRecipientCellsAdditionalCapacity);\n    return tx;\n  }\n\n}\n\nexports.NonAcpPwMintBuilder = NonAcpPwMintBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _CreateRcUdtInfoCellBuilder = require(\"./CreateRcUdtInfoCellBuilder\");\n\nObject.keys(_CreateRcUdtInfoCellBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _CreateRcUdtInfoCellBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _CreateRcUdtInfoCellBuilder[key];\n    }\n  });\n});\n\nvar _MintRcUdtBuilder = require(\"./MintRcUdtBuilder\");\n\nObject.keys(_MintRcUdtBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _MintRcUdtBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _MintRcUdtBuilder[key];\n    }\n  });\n});\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nObject.keys(_rcLock).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _rcLock[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _rcLock[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CreateRcUdtInfoCellBuilder = void 0;\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _AbstractTransactionBuilder = require(\"../AbstractTransactionBuilder\");\n\nvar _CreateRcUdtInfoCellPwBuilder = require(\"./CreateRcUdtInfoCellPwBuilder\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * ```yaml\n * Data:\n *  - <1 byte version>\n *  - <16 bytes current supply>\n *  - <16 bytes max supply>\n *  - <32 bytes sUDT script hash>\n *  - info: molecule table\n *  - name: bytes\n *  - symbol: bytes\n *  - decimals: u8\n *  - description: bytes\n * Type: <Info Cell type ID>\n * Lock: <RC Lock Script 1>\n *  code_hash: RC Lock\n *  args: <flag: 1> <Eth pubkey hash> <RC lock flags: 8> <Info Cell Type Script Hash>\n * ```\n */\nclass CreateRcUdtInfoCellBuilder extends _AbstractTransactionBuilder.AbstractTransactionBuilder {\n  constructor(options, provider) {\n    super();\n    this.options = options;\n    this.provider = provider;\n\n    _defineProperty(this, \"builtTransaction\", undefined);\n  }\n\n  async build() {\n    this.builtTransaction = await new _CreateRcUdtInfoCellPwBuilder.CreateRcUdtInfoCellPwBuilder(this.options, this.provider).build();\n    return this.builtTransaction;\n  }\n  /**\n   * the type hash is used as udt id\n   */\n\n\n  getTypeHash() {\n    if (!this.builtTransaction) throw new Error('Transaction is not built yet');\n    const rcUdtInfoCell = this.builtTransaction.raw.outputs[0];\n    (0, _utils.invariant)(rcUdtInfoCell && rcUdtInfoCell.type);\n    return rcUdtInfoCell.type.toHash();\n  }\n\n  getIssuerLockHash() {\n    if (!this.builtTransaction) throw new Error('Transaction is not built yet');\n    const rcUdtInfoCell = this.builtTransaction.raw.outputs[0];\n    (0, _utils.invariant)(rcUdtInfoCell && rcUdtInfoCell.type);\n    return rcUdtInfoCell.lock.toHash();\n  }\n\n}\n\nexports.CreateRcUdtInfoCellBuilder = CreateRcUdtInfoCellBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CreateRcUdtInfoCellPwBuilder = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _dist = require(\"@ckitjs/easy-byte/dist\");\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nvar _jsbi = _interopRequireDefault(require(\"jsbi\"));\n\nvar _helpers = require(\"../../helpers\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"../pw/AbstractPwSenderBuilder\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass CreateRcUdtInfoCellPwBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider) {\n    super(provider);\n    this.options = options;\n    this.provider = provider;\n  }\n\n  async build() {\n    const {\n      sudtInfo,\n      rcIdentity\n    } = this.options;\n    const provider = this.provider;\n    const udtInfo = (0, _rcLock.SerializeUdtInfo)({\n      name: _ckbJsToolkit.Reader.fromRawString(sudtInfo.name).toArrayBuffer(),\n      symbol: _ckbJsToolkit.Reader.fromRawString(sudtInfo.symbol).toArrayBuffer(),\n      decimals: sudtInfo.decimals,\n      description: _ckbJsToolkit.Reader.fromRawString(sudtInfo.description).toArrayBuffer()\n    });\n    const rcUdtInfoCellSize = (0, _builderUtils.byteLenOfRcCell)(21\n    /*rc identity*/\n    + 1\n    /*rc flag*/\n    + 32\n    /*typeid script hash*/\n    , 32, 1\n    /*version*/\n    + 16\n    /*current supply*/\n    + 16\n    /*max supply*/\n    + 32\n    /* sudt script hash*/\n    + udtInfo.byteLength\n    /*udt info molecule table*/\n    );\n    const ownerRcLock = provider.newScript('RC_LOCK', _utils.bytes.concat(rcIdentity.flag, rcIdentity.pubkeyHash, 0));\n    const ownerRcAddress = provider.parseToAddress(ownerRcLock);\n    const senderOutpoints = await provider.collectCkbLiveCells(ownerRcAddress, _helpers.CkbAmount.fromCkb((0, _builderUtils.byteLenOfRcCell)(21\n    /*rc identity*/\n    + 1\n    /*rc flag*/\n    , 0, 0) + // owner live cell\n    rcUdtInfoCellSize + // udt cell\n    1 // tx fee\n    ).toHex());\n    (0, _utils.invariant)(senderOutpoints[0]);\n\n    const typeIdScript = _pw.Pw.toPwScript(provider.generateTypeIdScript({\n      previous_output: senderOutpoints[0].out_point,\n      since: '0x0'\n    }, '0x0'));\n\n    const rcLockScript = _pw.Pw.toPwScript(provider.newScript('RC_LOCK', _utils.bytes.concat(rcIdentity.flag, rcIdentity.pubkeyHash, '08'\n    /*supply flag: 0b100*/\n    , typeIdScript.toHash())));\n\n    const rcInfoCell = new _pwCore.Cell(new _pwCore.Amount(String(rcUdtInfoCellSize), 8), rcLockScript, typeIdScript, undefined, _utils.bytes.concat((0, _dist.formatByteLike)(_rcLock.OmniSupplyOutputData.encode({\n      version: 0,\n      current_supply: _jsbi.default.BigInt(0),\n      max_supply: _jsbi.default.BigInt(sudtInfo.maxSupply),\n      sudt_script_hash: _base.utils.computeScriptHash(provider.newSudtScript(_pw.Pw.fromPwScript(rcLockScript)))\n    })), (0, _dist.formatByteLike)(new Uint8Array(udtInfo))));\n    const senderCells = senderOutpoints.map(_pw.Pw.toPwCell);\n    const senderOutput = senderCells[0];\n    (0, _utils.invariant)(senderOutput);\n    senderOutput.capacity = senderCells.reduce((acc, next) => acc.add(next.capacity), new _pwCore.Amount('0'));\n    const rawTransaction = new _pwCore.RawTransaction(senderCells, [rcInfoCell, senderOutput], await this.getCellDepsByCells(senderCells, [rcInfoCell, senderOutput]));\n    const tx = new _pwCore.Transaction(rawTransaction, [this.getWitnessPlaceholder(provider.parseToAddress(provider.newScript('RC_LOCK')))]);\n    const fee = CreateRcUdtInfoCellPwBuilder.calcFee(tx);\n    senderOutput.capacity = senderOutput.capacity.sub(new _pwCore.Amount(String(rcUdtInfoCellSize), 8)).sub(fee);\n    return tx;\n  }\n\n}\n\nexports.CreateRcUdtInfoCellPwBuilder = CreateRcUdtInfoCellPwBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MintRcUdtBuilder = void 0;\n\nvar _AbstractTransactionBuilder = require(\"../AbstractTransactionBuilder\");\n\nvar _MintRcUdtPwBuilder = require(\"./MintRcUdtPwBuilder\");\n\n/**\n * Mint sUDT with RC-Supply-Lock, the capacity provider which is a rc-lock with {@link https://github.com/XuJiandong/docs-bank/blob/master/rc_lock.md#identity RcIdentity},\n */\nclass MintRcUdtBuilder extends _AbstractTransactionBuilder.AbstractTransactionBuilder {\n  constructor(options, provider) {\n    super();\n    this.options = options;\n    this.provider = provider;\n  }\n\n  build() {\n    return new _MintRcUdtPwBuilder.MintRcUdtPwBuilder(this.options, this.provider).build();\n  }\n\n}\n\nexports.MintRcUdtBuilder = MintRcUdtBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MintRcUdtPwBuilder = void 0;\n\nvar _easyByte = require(\"@ckitjs/easy-byte\");\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _jsbi = _interopRequireDefault(require(\"jsbi\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _errors = require(\"../../errors\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _utils2 = require(\"../../utils\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"../pw/AbstractPwSenderBuilder\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass MintRcUdtPwBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider) {\n    super(provider);\n    this.options = options;\n    this.provider = provider;\n  }\n\n  async determineFindOrCreate() {\n    const helper = new _rcLock.RcSupplyLockHelper(this.provider.mercury, {\n      rcLock: this.provider.newScriptTemplate('RC_LOCK'),\n      sudtType: this.provider.newScriptTemplate('SUDT')\n    });\n    const resolvedInfoCells = await helper.listCreatedInfoCells(this.options);\n    const rcUdtInfoCell = (0, _utils2.nonNullable)(resolvedInfoCells[0]);\n    const udtType = this.provider.newSudtScript(this.provider.parseToAddress(rcUdtInfoCell.output.lock)); // recipients -> [findOrCreate, findAcp + createCell]\n\n    const [findOrCreatePolicies, alreadyDetermined] = (0, _lodash.partition)(this.options.recipients, item => item.capacityPolicy === 'findOrCreate'); // findOrCreate -> {'addr1': [option1, option2], 'addr2': [option3]}\n\n    const groupByRecipient = (0, _lodash.groupBy)(findOrCreatePolicies, item => item.recipient); // {'addr1': [option1, option2], 'addr2': [option1]} -> [ merge(option1, option2), merge(option3) ]\n\n    const mergedFindOrCreatePolicies = (0, _lodash.map)(groupByRecipient, items => items.reduce((left, right) => ({ ...left,\n      amount: new _pwCore.Amount(left.amount, 0).add(new _pwCore.Amount(right.amount, 0)).toHexString(),\n      additionalCapacity: new _pwCore.Amount(left.additionalCapacity || '0', 0).add(new _pwCore.Amount(right.additionalCapacity || '0', 0)).toHexString()\n    })));\n    const recipients = (0, _rxjs.from)(mergedFindOrCreatePolicies).pipe((0, _rxjs.mergeMap)(item => this.provider.collectUdtCells(item.recipient, udtType, '0').then(cells => ({ ...item,\n      capacityPolicy: cells.length > 0 ? 'findAcp' : 'createCell'\n    })), 5), (0, _rxjs.toArray)());\n    const determinedFindOrUpdatePolicies = await (0, _rxjs.lastValueFrom)(recipients);\n    return determinedFindOrUpdatePolicies.concat(alreadyDetermined);\n  }\n\n  async build() {\n    this.options = { ...this.options,\n      recipients: await this.determineFindOrCreate()\n    };\n    const helper = new _rcLock.RcSupplyLockHelper(this.provider.mercury, {\n      rcLock: this.provider.newScriptTemplate('RC_LOCK'),\n      sudtType: this.provider.newScriptTemplate('SUDT')\n    });\n    const resolvedInfoCells = await helper.listCreatedInfoCells(this.options);\n    const rcUdtInfoCell = (0, _utils2.nonNullable)(resolvedInfoCells[0]);\n\n    const {\n      rc_identity_flag,\n      rc_identity_pubkey_hash\n    } = _rcLock.RcSupplyLockArgs.decode((0, _easyByte.toBuffer)(rcUdtInfoCell.output.lock.args));\n\n    const infoCell = _pw.Pw.toPwCell(rcUdtInfoCell);\n\n    const capacityProviderAddress = this.provider.parseToAddress(this.provider.newScript('RC_LOCK', (0, _easyByte.formatByteLike)(_rcLock.RcIdentityLockArgs.encode({\n      rc_identity_flag,\n      rc_identity_pubkey_hash,\n      rc_lock_flag: 0\n      /* owner mode */\n\n    }), {\n      pad0x: true\n    })));\n    const udtType = this.provider.newSudtScript(this.provider.parseToAddress(rcUdtInfoCell.output.lock)); // capacity provided by issuer\n\n    const createdRecipientCells = this.options.recipients.filter(item => item.capacityPolicy === 'createCell').map(item => new _pwCore.Cell(new _pwCore.Amount(String(item.additionalCapacity || 0), 0).add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfSudt)()))), _pw.Pw.toPwScript(this.provider.parseToScript(item.recipient)), // recipient lock\n    _pw.Pw.toPwScript(udtType), // issued sudt type\n    undefined, new _pwCore.Amount(item.amount, 0).toUInt128LE())); // capacity provided by recipient\n\n    const resolvedFindAcpCells = this.options.recipients.filter(item => item.capacityPolicy === 'findAcp');\n    const foundRecipientCells$ = (0, _rxjs.from)(resolvedFindAcpCells).pipe( // collect the udt cell from recipients, throw an error if no udt cell is found\n    (0, _rxjs.mergeMap)(async item => {\n      const resolved = (await this.provider.collectUdtCells(item.recipient, udtType, '0'))[0];\n\n      if (!resolved) {\n        throw new _errors.NoAvailableCellError({\n          lock: this.provider.parseToScript(item.recipient),\n          type: udtType\n        });\n      }\n\n      const cell = _pw.Pw.toPwCell(resolved);\n\n      cell.capacity = cell.capacity.add(new _pwCore.Amount(item.additionalCapacity || '0', 0));\n      cell.setSUDTAmount(cell.getSUDTAmount().add(new _pwCore.Amount(item.amount, 0)));\n      return cell;\n    }, 5), (0, _rxjs.toArray)());\n    const foundRecipientCells = await (0, _rxjs.lastValueFrom)(foundRecipientCells$); // occupied + additional\n\n    const createdRecipientCellsCapacity = createdRecipientCells.reduce((sum, createdCell) => sum.add(createdCell.capacity), _pwCore.Amount.ZERO);\n    const foundRecipientCellsAdditionalCapacity = resolvedFindAcpCells.reduce((sum, foundCell) => sum.add(new _pwCore.Amount(foundCell.additionalCapacity || '0', 0)), _pwCore.Amount.ZERO);\n\n    const neededCapacityFromIssuer = _pwCore.Amount.ZERO // createCell pocily needed capcacity\n    .add(createdRecipientCellsCapacity) // findAcp policy needed additional capacity\n    .add(foundRecipientCellsAdditionalCapacity) // additional rc-lock script occupied ckb to ensure capacity is enough for change cell\n    .add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfLockOnlyCell)(_rcLock.RcIdentityLockArgs.byteWidth)))) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1'));\n\n    const issuerOutpoints = await this.provider.collectCkbLiveCells(capacityProviderAddress, neededCapacityFromIssuer.toHexString());\n    const senderCells = issuerOutpoints.map(_pw.Pw.toPwCell); // sender change cell\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n    const senderOutput = senderCells[0].clone();\n    senderOutput.capacity = senderCells.reduce((sum, inputCell) => sum.add(inputCell.capacity), _pwCore.Amount.ZERO); // modify current_supply\n\n    const mintedSudtAmount = this.options.recipients.reduce((acc, recipient) => _jsbi.default.add(acc, _jsbi.default.BigInt(recipient.amount)), _jsbi.default.BigInt(0));\n    const dataBuf = (0, _easyByte.toBuffer)(infoCell.getHexData());\n\n    const decoded = _rcLock.OmniSupplyOutputData.decode(dataBuf);\n\n    const encoded = _rcLock.OmniSupplyOutputData.encode({ ...decoded,\n      current_supply: _jsbi.default.add(decoded.current_supply, mintedSudtAmount)\n    });\n\n    dataBuf.write(encoded.toString('hex'), 'hex');\n    infoCell.setHexData(_utils.bytes.toHex(dataBuf));\n    const inputCells = [infoCell, ...senderCells, ...foundRecipientCells];\n    const rawTx = new _pwCore.RawTransaction(inputCells, [infoCell, senderOutput, ...createdRecipientCells, ...foundRecipientCells], await this.getCellDepsByCells(inputCells, [infoCell, senderOutput, ...createdRecipientCells, ...foundRecipientCells]));\n    const tx = new _pwCore.Transaction(rawTx, [this.getWitnessPlaceholder(capacityProviderAddress), // info lock\n    this.getWitnessPlaceholder(capacityProviderAddress) // capacity provider lock\n    ]);\n\n    const fee = _pwCore.Builder.calcFee(tx, Number(this.provider.config.MIN_FEE_RATE));\n\n    senderOutput.capacity = senderOutput.capacity.sub(fee).sub(createdRecipientCellsCapacity).sub(foundRecipientCellsAdditionalCapacity);\n    return tx;\n  }\n\n}\n\nexports.MintRcUdtPwBuilder = MintRcUdtPwBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ChequeDepositBuilder = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _pw = require(\"../helpers/pw\");\n\nvar _utils = require(\"../utils\");\n\nvar _builderUtils = require(\"./builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./pw/AbstractPwSenderBuilder\");\n\n/**\n * ```yaml\n * Lock:\n *  code_hash: <cheque_cell_lock_script>\n *  hash_type: type\n *  args:  <receiver_lock_hash[:20]> | <sender_lock_hash[:20]>\n * ```\n */\nclass ChequeDepositBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider) {\n    super(provider);\n    this.options = options;\n    const {\n      receiver,\n      sender,\n      skipCheck\n    } = options;\n    if (skipCheck === true) return;\n    (0, _utils.asserts)(provider.isTemplateOf('SECP256K1_BLAKE160', receiver), 'receiver must be a SECP256K1_BLAKE160 script');\n    (0, _utils.asserts)(provider.isTemplateOf('SECP256K1_BLAKE160', sender) || provider.isTemplateOf('RC_LOCK', sender), 'sender must be a SECP256K1_BLAKE160 script or a RC_LOCK script');\n  }\n\n  async build() {\n    const {\n      amount,\n      receiver,\n      sender,\n      sudt\n    } = this.options;\n    const receiverLock = this.provider.parseToScript(receiver);\n    const senderLock = this.provider.parseToScript(sender);\n\n    const receiverLockHash = _base.utils.computeScriptHash(receiverLock).slice(2, 42);\n\n    const senderLockHash = _base.utils.computeScriptHash(senderLock).slice(2, 42);\n\n    const chequeLock = this.provider.newScript('CHEQUE', `0x${receiverLockHash}${senderLockHash}`);\n    const chequeOccupied = (0, _builderUtils.occupiedShannon)((0, _builderUtils.byteLenOfChequeCell)());\n\n    const chequeCell = _pw.Pw.toPwCell({\n      data: (0, _pwCore.toBigUInt128LE)(amount),\n      cell_output: {\n        capacity: chequeOccupied,\n        lock: chequeLock,\n        type: sudt\n      }\n    });\n\n    const changeNeededCapacity = new _pwCore.Amount(chequeOccupied, 0) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1')) // capacity for change cell\n    .add(new _pwCore.Amount((0, _builderUtils.byteLenOfLockOnlyCell)((0, _pwCore.hexDataOccupiedBytes)(senderLock.args)).toString()));\n    const collectedSudtCells = (await this.provider.collectUdtCells(this.options.sender, sudt, amount)).map(_pw.Pw.toPwCell);\n    const collectedSudtCapacityAndAmount = collectedSudtCells.reduce((acc, cell) => {\n      return {\n        ckb: acc.ckb.add(cell.capacity),\n        sudt: acc.sudt.add(cell.getSUDTAmount())\n      };\n    }, {\n      ckb: _pwCore.Amount.ZERO,\n      sudt: _pwCore.Amount.ZERO\n    });\n    const sudtChangeCell = new _pwCore.Cell(new _pwCore.Amount((0, _builderUtils.byteLenOfSudt)((0, _pwCore.hexDataOccupiedBytes)(senderLock.args)).toString()), _pw.Pw.toPwScript(senderLock), _pw.Pw.toPwScript(sudt), undefined, collectedSudtCapacityAndAmount.sudt.sub(new _pwCore.Amount(amount, 0)).toUInt128LE());\n    const [collectedLockOnlyCells, capacityChangeCell] = await (async () => {\n      const isCollectedSudtEnoughForChangeCell = collectedSudtCapacityAndAmount.ckb.sub(sudtChangeCell.capacity).gte(changeNeededCapacity);\n\n      if (isCollectedSudtEnoughForChangeCell) {\n        return [[], new _pwCore.Cell(collectedSudtCapacityAndAmount.ckb.sub(sudtChangeCell.capacity), _pw.Pw.toPwScript(senderLock))];\n      }\n\n      const lockOnlyCells = (await this.provider.collectCkbLiveCells(sender, changeNeededCapacity.toHexString())).map(_pw.Pw.toPwCell);\n      return [lockOnlyCells, new _pwCore.Cell( // capacity(collectedLockOnly) + capacity(sudtChangeRemain)\n      lockOnlyCells.reduce((acc, cell) => acc.add(cell.capacity), _pwCore.Amount.ZERO).add(collectedSudtCapacityAndAmount.ckb.sub(sudtChangeCell.capacity)).sub(chequeCell.capacity), _pw.Pw.toPwScript(senderLock))];\n    })();\n    const inputCells = [...collectedSudtCells, ...collectedLockOnlyCells];\n    const outputCells = [chequeCell, sudtChangeCell, capacityChangeCell];\n    const tx = new _pwCore.Transaction(new _pwCore.RawTransaction(inputCells, outputCells, await this.getCellDepsByCells(inputCells, outputCells)), [this.getWitnessPlaceholder(sender)]);\n\n    const fee = _pwCore.Builder.calcFee(tx, Number(this.provider.config.MIN_FEE_RATE));\n\n    capacityChangeCell.capacity = capacityChangeCell.capacity.sub(fee);\n    return tx;\n  }\n\n}\n\nexports.ChequeDepositBuilder = ChequeDepositBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ChequeClaimBuilder = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _pw = require(\"../helpers/pw\");\n\nvar _builderUtils = require(\"./builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./pw/AbstractPwSenderBuilder\");\n\nclass ChequeClaimBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider) {\n    super(provider);\n    this.options = options;\n  }\n\n  async build() {\n    const {\n      sender,\n      receiver,\n      sudt\n    } = this.options;\n    const senderLock = this.provider.parseToScript(sender);\n    const receiverLock = this.provider.parseToScript(receiver);\n    const searchKey = {\n      script: this.provider.newScript('CHEQUE', `0x${_base.utils.computeScriptHash(receiverLock).slice(2, 42)}${_base.utils.computeScriptHash(senderLock).slice(2, 42)}`),\n      ...(sudt ? {\n        filter: {\n          script: sudt\n        }\n      } : {}),\n      script_type: 'lock'\n    };\n    const unclaimedCells = await this.provider.collectCells({\n      searchKey\n    }, // claim up to 1000 cells at a time\n    cells => cells.length <= 1000);\n    const [claimedSudtCell] = (0, _builderUtils.ejectExtraCapacity)({\n      cell: (0, _builderUtils.mergeSudtCells)({\n        cells: unclaimedCells,\n        lock: receiverLock\n      }),\n      lock: receiverLock\n    });\n    const claimedEmptyChequeCell = unclaimedCells.map(cell => ({ ...cell,\n      cell_output: { ...cell.cell_output,\n        type: undefined,\n        lock: senderLock\n      },\n      data: '0x'\n    }));\n    const inputCapacityCells = await this.provider.collectLockOnlyCells(receiverLock, new _pwCore.Amount(claimedSudtCell.cell_output.capacity, 0) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1')).add(new _pwCore.Amount((0, _builderUtils.byteLenOfLockOnlyCell)((0, _builderUtils.byteLenOfHexData)(receiverLock.args)).toString())).toHexString());\n\n    const changeCell = _pw.Pw.toPwCell((0, _builderUtils.mergeLockOnlyCells)(inputCapacityCells));\n\n    const tx = new _pwCore.Transaction(new _pwCore.RawTransaction([...inputCapacityCells.map(_pw.Pw.toPwCell), ...unclaimedCells.map(_pw.Pw.toPwCell)], [...claimedEmptyChequeCell.map(_pw.Pw.toPwCell), _pw.Pw.toPwCell(claimedSudtCell), changeCell], await this.getCellDepsByCells([...inputCapacityCells.map(_pw.Pw.toPwCell), ...unclaimedCells.map(_pw.Pw.toPwCell)], [...claimedEmptyChequeCell.map(_pw.Pw.toPwCell), _pw.Pw.toPwCell(claimedSudtCell), changeCell])), [this.getWitnessPlaceholder(receiver)]);\n\n    const fee = _pwCore.Builder.calcFee(tx, Number(this.provider.config.MIN_FEE_RATE));\n\n    changeCell.capacity = changeCell.capacity.sub(_pw.Pw.toPwCell(claimedSudtCell).capacity).sub(fee);\n    return tx;\n  }\n\n}\n\nexports.ChequeClaimBuilder = ChequeClaimBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ChequeWithdrawBuilder = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _helpers = require(\"@ckb-lumos/helpers\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _helpers2 = require(\"../helpers\");\n\nvar _pw = require(\"../helpers/pw\");\n\nvar _utils2 = require(\"../utils\");\n\nvar _builderUtils = require(\"./builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./pw/AbstractPwSenderBuilder\");\n\nclass ChequeWithdrawBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider) {\n    super(provider);\n    this.options = options;\n  }\n\n  async build() {\n    const {\n      sender,\n      receiver,\n      sudt\n    } = this.options;\n    const provider = this.provider;\n    const senderLock = provider.parseToScript(sender);\n    const receiverLock = provider.parseToScript(receiver);\n    const searchKey = {\n      script: provider.newScript('CHEQUE', `0x${_base.utils.computeScriptHash(receiverLock).slice(2, 42)}${_base.utils.computeScriptHash(senderLock).slice(2, 42)}`),\n      ...(sudt ? {\n        filter: {\n          script: sudt\n        }\n      } : {}),\n      script_type: 'lock'\n    };\n    const unwithdrawnCells = await provider.collectCells({\n      searchKey\n    }, cells => cells.length <= 1000);\n    const currEpoch = await provider.rpc.get_current_epoch();\n    const validEpoch = Number(currEpoch.number) - 6;\n    const validWithdrawCells = [];\n    const req = [];\n\n    for (const cell of unwithdrawnCells) {\n      req.push({\n        method: 'get_header_by_number',\n        params: cell.block_number\n      });\n    }\n\n    const result = await this.provider.batchRequestCkb(req);\n\n    for (let i = 0; i < result.length; i++) {\n      const epoch = Number('0x' + (0, _utils2.nonNullable)(result[i]).epoch.substring(9));\n      if (epoch < validEpoch) validWithdrawCells.push((0, _utils2.nonNullable)(unwithdrawnCells[i]));\n    }\n\n    if (validWithdrawCells.length === 0) throw new Error('No valid cheque to withdraw');\n    let withdrawnChangeCapacity = (0, _helpers2.BN)(0);\n    let extraNeededCapacity = (0, _helpers2.BN)(0);\n    const withdrawnSudtCells = validWithdrawCells.map(function (cell) {\n      const sudtCell = { ...cell,\n        cell_output: { ...cell.cell_output,\n          lock: senderLock\n        }\n      };\n\n      const sudtCapacity = _utils.bytes.toHex((0, _helpers.minimalCellCapacity)(sudtCell));\n\n      withdrawnChangeCapacity = withdrawnChangeCapacity.plus((0, _helpers2.BN)(cell.cell_output.capacity).minus(sudtCapacity));\n      return { ...cell,\n        cell_output: { ...cell.cell_output,\n          lock: senderLock,\n          capacity: sudtCapacity\n        }\n      };\n    });\n    const withdrawnChangeCell = {\n      data: '0x',\n      cell_output: {\n        capacity: '0x0',\n        lock: senderLock,\n        type: undefined\n      }\n    };\n    const minimalCapacity = (0, _helpers.minimalCellCapacity)(withdrawnChangeCell);\n\n    if (withdrawnChangeCapacity.toNumber() < minimalCapacity) {\n      withdrawnChangeCell.cell_output.capacity = _utils.bytes.toHex(minimalCapacity);\n      extraNeededCapacity = extraNeededCapacity.plus((0, _helpers2.BN)(minimalCapacity).minus(withdrawnChangeCapacity));\n    } else {\n      withdrawnChangeCell.cell_output.capacity = _utils.bytes.toHex(withdrawnChangeCapacity);\n    }\n\n    const inputCapacityCells = await provider.collectLockOnlyCells(senderLock, new _pwCore.Amount(_utils.bytes.toHex(extraNeededCapacity), 0).add(new _pwCore.Amount('1')).add(new _pwCore.Amount((0, _builderUtils.byteLenOfLockOnlyCell)((0, _builderUtils.byteLenOfHexData)(receiverLock.args)).toString())).toHexString());\n\n    const changeCell = _pw.Pw.toPwCell((0, _builderUtils.mergeLockOnlyCells)(inputCapacityCells));\n\n    const inputSince = _base.since.generateSince({\n      relative: true,\n      type: 'epochNumber',\n      value: {\n        number: 6,\n        length: 0,\n        index: 0\n      }\n    });\n\n    const rawTx = new _pwCore.RawTransaction([...inputCapacityCells.map(_pw.Pw.toPwCell), ...validWithdrawCells.map(_pw.Pw.toPwCell)], [...withdrawnSudtCells.map(_pw.Pw.toPwCell), _pw.Pw.toPwCell(withdrawnChangeCell), changeCell], await this.getCellDepsByCells([...inputCapacityCells.map(_pw.Pw.toPwCell), ...validWithdrawCells.map(_pw.Pw.toPwCell)], [...withdrawnSudtCells.map(_pw.Pw.toPwCell), _pw.Pw.toPwCell(withdrawnChangeCell), changeCell]));\n    rawTx.inputs = rawTx.inputCells.map(function (cell) {\n      const cellInput = (0, _utils2.nonNullable)(cell.toCellInput());\n      const script = {\n        code_hash: cell.lock.codeHash,\n        hash_type: cell.lock.hashType,\n        args: cell.lock.args\n      };\n\n      if (provider.isTemplateOf('CHEQUE', script)) {\n        return new _pwCore.CellInput(cellInput.previousOutput, inputSince);\n      } else {\n        return new _pwCore.CellInput(cellInput.previousOutput, '0x0');\n      }\n    });\n    const tx = new _pwCore.Transaction(rawTx, [this.getWitnessPlaceholder(sender)]);\n\n    const fee = _pwCore.Builder.calcFee(tx, Number(provider.config.MIN_FEE_RATE));\n\n    changeCell.capacity = changeCell.capacity.sub(fee).sub(new _pwCore.Amount(_utils.bytes.toHex(extraNeededCapacity), 0));\n    return tx;\n  }\n\n}\n\nexports.ChequeWithdrawBuilder = ChequeWithdrawBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ExchangeSudtForCkbBuilder = void 0;\n\nvar _helpers = require(\"@ckb-lumos/helpers\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _bignumber = require(\"bignumber.js\");\n\nvar _pw = require(\"../helpers/pw\");\n\nvar _AbstractPwSenderBuilder = require(\"./pw/AbstractPwSenderBuilder\");\n\nvar _errors = require(\"../errors\");\n\nconst feeCkb = new _pwCore.Amount('1', _pwCore.AmountUnit.ckb);\n\nclass ExchangeSudtForCkbBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider) {\n    super(provider);\n    this.options = options;\n    this.provider = provider;\n  }\n  /*\n    inputs\n      - exchangeProviderCells\n          - capacity: exchangeCkbSum\n          - data.amount: exchangeSudtSum\n      - sudtCells\n          - capacity: sudtCkbSum\n          - data.amount: sudtSum\n    outputs\n      - exchangeProviderCell\n          - capacity: exchangeCkbSum - ckbAmountForRecipient - fee\n          - data.amount: exchangeSudtSum + sudtAmountForExchange\n      - sudtCell\n          - capacity: sudtCkbSum\n          - data.amount: sudtSum - sudtAmountForExchange - sudtAmountForRecipient\n      - recipientCell\n          - capacity: ckbAmountForRecipient\n          - data.amount: sudtAmountForRecipient\n  */\n\n\n  async build() {\n    const inExchangeProviderCells = await this.collectExchangeProviderCells(this.calcMinExchangeProviderCkb());\n    const inSudtCells = await this.collectSudtCells(this.calcNeededSudtAmount());\n    const outExchangeCell = this.createOutExchangeCell(inExchangeProviderCells);\n    const outSudtCell = this.createOutSudtCell(inSudtCells);\n    const outRecipientCell = this.createOutRecipientCell();\n    const inputs = [...inExchangeProviderCells, ...inSudtCells];\n    const outputs = [outExchangeCell, outSudtCell, outRecipientCell];\n    const cellDeps = await this.getCellDepsByCells(inputs, outputs);\n    const rawTx = new _pwCore.RawTransaction(inputs, outputs, cellDeps);\n    const tx = new _pwCore.Transaction(rawTx, this.createWitness(inExchangeProviderCells, inSudtCells));\n\n    const fee = _pwCore.Builder.calcFee(tx, Number(this.provider.config.MIN_FEE_RATE));\n\n    outExchangeCell.capacity = outExchangeCell.capacity.sub(fee);\n    this.checkTransaction(tx);\n    return tx;\n  }\n\n  async collectSudtCells(neededSudtAmount) {\n    const sudtOutpoints = await this.provider.collectUdtCells(this.options.sudtSender, this.options.sudt, neededSudtAmount.toHexString());\n    const inSudtCells = sudtOutpoints.map(_pw.Pw.toPwCell);\n    return inSudtCells;\n  }\n\n  async collectExchangeProviderCells(minimalCapacity) {\n    let inExchangeProviderCells = [];\n    let lock;\n\n    if (typeof this.options.exchangeProvider === 'string') {\n      lock = this.provider.parseToScript(this.options.exchangeProvider);\n      const searchKey = {\n        script: lock,\n        script_type: 'lock',\n        filter: {\n          script: this.options.sudt\n        }\n      };\n      const exchangeOutputs = await this.provider.collectCells({\n        searchKey\n      }, cells => cells.reduce((sum, cell) => sum.add(new _pwCore.Amount(cell.cell_output.capacity)), _pwCore.Amount.ZERO).lt(minimalCapacity), {\n        inclusive: true\n      });\n      inExchangeProviderCells = exchangeOutputs.map(_pw.Pw.toPwCell);\n    } else {\n      lock = this.options.exchangeProvider[0].cell_output.lock;\n      inExchangeProviderCells = this.options.exchangeProvider.map(_pw.Pw.toPwCell);\n    }\n\n    const inExchangeProviderCkbSum = inExchangeProviderCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n\n    if (inExchangeProviderCkbSum.lt(minimalCapacity)) {\n      throw new _errors.NoEnoughCkbError({\n        lock,\n        expected: minimalCapacity.toString(),\n        actual: inExchangeProviderCkbSum.toString()\n      });\n    }\n\n    return inExchangeProviderCells;\n  }\n\n  createOutExchangeCell(inExchangeProviderCells) {\n    const outExchangeCell = inExchangeProviderCells[0].clone();\n    const [inExchangeProviderCkbSum, inExchangeProviderSudtSum] = this.calcCkbAndSudtSum(inExchangeProviderCells);\n    const ckbAmountForRecipient = new _pwCore.Amount(new _bignumber.BigNumber(this.options.ckbAmountForRecipient).toString(), _pwCore.AmountUnit.shannon);\n    outExchangeCell.capacity = inExchangeProviderCkbSum.sub(ckbAmountForRecipient);\n    const sudtAmountForExchange = new _pwCore.Amount(new _bignumber.BigNumber(this.options.sudtAmountForExchange).toString(), _pwCore.AmountUnit.shannon);\n    outExchangeCell.setSUDTAmount(inExchangeProviderSudtSum.add(sudtAmountForExchange));\n    return outExchangeCell;\n  }\n\n  createOutSudtCell(inSudtCells) {\n    const outSudtCell = inSudtCells[0].clone();\n    const [inCkbSum, inSudtSum] = this.calcCkbAndSudtSum(inSudtCells);\n    outSudtCell.capacity = inCkbSum;\n    outSudtCell.setSUDTAmount(inSudtSum.sub(this.calcNeededSudtAmount()));\n    return outSudtCell;\n  }\n\n  createOutRecipientCell() {\n    const ckbAmountForRecipient = new _pwCore.Amount(new _bignumber.BigNumber(this.options.ckbAmountForRecipient).toString(), _pwCore.AmountUnit.shannon);\n    const outRecipientCell = new _pwCore.Cell(ckbAmountForRecipient, _pw.Pw.toPwScript(this.provider.parseToScript(this.options.exchangeRecipient)), _pw.Pw.toPwScript(this.options.sudt));\n    const sudtAmountForRecipient = new _pwCore.Amount(new _bignumber.BigNumber(this.options.sudtAmountForRecipient).toString(), _pwCore.AmountUnit.shannon);\n    outRecipientCell.setSUDTAmount(sudtAmountForRecipient);\n    return outRecipientCell;\n  }\n\n  createWitness(firstInputs, secondInputs) {\n    const witness = [];\n\n    if (typeof this.options.exchangeProvider === 'string') {\n      firstInputs.map(() => witness.push(this.getWitnessPlaceholder(this.options.exchangeProvider)));\n    } else {\n      const cell = this.options.exchangeProvider[0];\n      firstInputs.map(() => witness.push(this.getWitnessPlaceholder(this.provider.parseToAddress(cell.cell_output.lock))));\n    }\n\n    secondInputs.map(() => witness.push(this.getWitnessPlaceholder(this.options.sudtSender)));\n    return witness;\n  }\n\n  calcMinExchangeProviderCkb() {\n    let lock;\n\n    if (typeof this.options.exchangeProvider === 'string') {\n      lock = this.provider.parseToScript(this.options.exchangeProvider);\n    } else {\n      const cell = this.options.exchangeProvider[0];\n      lock = cell.cell_output.lock;\n    }\n\n    const exchangeProviderCell = {\n      cell_output: {\n        capacity: '0x0',\n        lock: lock,\n        type: this.options.sudt\n      },\n      data: new _pwCore.Amount('0').toUInt128LE()\n    };\n    const ckbAmountForRecipient = new _pwCore.Amount(new _bignumber.BigNumber(this.options.ckbAmountForRecipient).toString(), _pwCore.AmountUnit.shannon);\n    const ckbAmount = ckbAmountForRecipient.add(new _pwCore.Amount((0, _helpers.minimalCellCapacity)(exchangeProviderCell).toString(), _pwCore.AmountUnit.shannon));\n    return ckbAmount.add(feeCkb);\n  }\n\n  calcNeededSudtAmount() {\n    const sudtAmountForExchange = new _pwCore.Amount(new _bignumber.BigNumber(this.options.sudtAmountForExchange).toString(), _pwCore.AmountUnit.shannon);\n    const sudtAmountForRecipient = new _pwCore.Amount(new _bignumber.BigNumber(this.options.sudtAmountForRecipient).toString(), _pwCore.AmountUnit.shannon);\n    return sudtAmountForExchange.add(sudtAmountForRecipient);\n  }\n\n  calcCkbAndSudtSum(cells) {\n    const [ckbSum, sudtSum] = cells.reduce(([cellCapacity, sudtAmount], input) => {\n      cellCapacity = cellCapacity.add(input.capacity);\n      sudtAmount = sudtAmount.add(input.getSUDTAmount());\n      return [cellCapacity, sudtAmount];\n    }, [_pwCore.Amount.ZERO, _pwCore.Amount.ZERO]);\n    return [ckbSum, sudtSum];\n  }\n\n  checkTransaction(tx) {\n    const inputs = tx.raw.inputCells;\n    const outputs = tx.raw.outputs;\n    this.checkCellsCapacity(inputs);\n    this.checkCellsCapacity(outputs);\n    const [inputCkbSum, inputSudtSum] = this.calcCkbAndSudtSum(inputs);\n    const [outputCkbSum, outputSudtSum] = this.calcCkbAndSudtSum(outputs);\n\n    if (inputCkbSum.lt(outputCkbSum)) {\n      throw new Error(`Sum(inputs.capacity) < Sum(outputs.capacity)! \\\n                       Sum(inputs.capacity): ${inputCkbSum}, Sum(outputs.capacity): ${outputCkbSum}`);\n    }\n\n    if (inputSudtSum.lt(outputSudtSum)) {\n      throw new Error(`Sum(inputs.sudt) < Sum(outputs.sudt)! \\\n                       Sum(inputs.sudt): ${inputSudtSum}, Sum(outputs.sudt): ${outputSudtSum}`);\n    }\n  }\n\n  checkCellsCapacity(cells) {\n    for (const cell of cells) {\n      const minCapacity = new _pwCore.Amount((0, _pwCore.cellOccupiedBytes)(cell).toString(), _pwCore.AmountUnit.ckb);\n\n      if (minCapacity.gt(cell.capacity)) {\n        throw new Error(`Capacity of the cell is too small! Capacity: ${cell.capacity}, Occupied bytes: ${minCapacity}`);\n      }\n    }\n  }\n\n}\n\nexports.ExchangeSudtForCkbBuilder = ExchangeSudtForCkbBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PwAdapterSigner = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _pw = require(\"../../helpers/pw\");\n\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nconst emptySig = '';\n\nclass PwAdapterSigner {\n  constructor(rawSigner, provider, hasher = new _pwCore.Blake2bHasher()) {\n    this.rawSigner = rawSigner;\n    this.provider = provider;\n    this.hasher = hasher;\n  }\n\n  async signMessages(messages) {\n    const sigs = [];\n\n    const signerLock = _pw.Pw.toPwScript(this.provider.parseToScript(await this.rawSigner.getAddress()));\n\n    for (const item of messages) {\n      if (item.lock.codeHash !== signerLock.codeHash || item.lock.hashType !== signerLock.hashType || item.lock.args.substring(0, 40) !== signerLock.args.substring(0, 40)) {\n        sigs.push(emptySig);\n        continue;\n      }\n\n      const sig = await this.rawSigner.signMessage(item.message);\n      sigs.push(sig);\n    }\n\n    return sigs;\n  }\n\n  async sign(tx) {\n    const messages = this.toMessages(tx);\n    const witnesses = await this.signMessages(messages);\n\n    for (let i = 0; i < messages.length; i++) {\n      const {\n        index\n      } = messages[i];\n\n      if (index < tx.witnessArgs.length && witnesses[i] != emptySig && typeof tx.witnessArgs[index] !== 'string') {\n        witnesses[i] = new _pwCore.Reader((0, _pwCore.SerializeWitnessArgs)(_pwCore.normalizers.NormalizeWitnessArgs({ ...tx.witnessArgs[index],\n          lock: witnesses[i]\n        }))).serializeJson();\n      }\n    }\n\n    tx = FillSignedWitnesses(tx, messages, witnesses);\n    return tx;\n  }\n\n  toMessages(tx) {\n    tx.validate();\n\n    if (tx.raw.inputs.length !== tx.raw.inputCells.length) {\n      throw new Error('Input number does not match!');\n    }\n\n    const txHash = new _pwCore.Blake2bHasher().hash(new _pwCore.Reader((0, _pwCore.SerializeRawTransaction)(_pwCore.normalizers.NormalizeRawTransaction(_pwCore.transformers.TransformRawTransaction(tx.raw)))));\n    const messages = [];\n    const used = tx.raw.inputs.map(_input => false);\n\n    for (let i = 0; i < tx.raw.inputs.length; i++) {\n      if (used[i] || tx.witnesses[i] === '0x') {\n        continue;\n      }\n\n      if (i >= tx.witnesses.length) {\n        throw new Error(`Input ${i} starts a new script group, but witness is missing!`);\n      }\n\n      used[i] = true;\n      this.hasher.update(txHash);\n      const firstWitness = new _pwCore.Reader(tx.witnesses[i]);\n      this.hasher.update(serializeBigInt(firstWitness.length()));\n      this.hasher.update(firstWitness);\n\n      for (let j = i + 1; j < tx.raw.inputs.length && j < tx.witnesses.length; j++) {\n        if (tx.raw.inputCells[i].lock.sameWith(tx.raw.inputCells[j].lock)) {\n          used[j] = true;\n          const currentWitness = new _pwCore.Reader(tx.witnesses[j]);\n          this.hasher.update(serializeBigInt(currentWitness.length()));\n          this.hasher.update(currentWitness);\n        }\n      }\n\n      messages.push({\n        index: i,\n        message: this.hasher.digest().serializeJson(),\n        // hex string\n        lock: tx.raw.inputCells[i].lock\n      });\n      this.hasher.reset();\n    }\n\n    return messages;\n  }\n\n}\n\nexports.PwAdapterSigner = PwAdapterSigner;\n\nfunction FillSignedWitnesses(tx, messages, witnesses) {\n  if (messages.length !== witnesses.length) {\n    throw new Error('Invalid number of witnesses!');\n  }\n\n  for (let i = 0; i < messages.length; i++) {\n    if (witnesses[i] === emptySig) {\n      continue;\n    }\n\n    tx.witnesses[messages[i].index] = witnesses[i];\n  }\n\n  return tx;\n}\n\nfunction serializeBigInt(i) {\n  const view = new DataView(new ArrayBuffer(8));\n  view.setUint32(0, i, true);\n  return view.buffer;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Secp256k1Signer = exports.Secp256k1Wallet = void 0;\n\nvar _hd = require(\"@ckb-lumos/hd\");\n\nvar _base = require(\"@ckitjs/base\");\n\nvar _AbstractSingleEntrySigner = require(\"./AbstractSingleEntrySigner\");\n\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\n\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\n\nvar _privateKey = /*#__PURE__*/new WeakMap();\n\nclass Secp256k1Wallet extends _base.AbstractWallet {\n  constructor(privateKey, provider, lockConfig) {\n    super();\n    this.provider = provider;\n    this.lockConfig = lockConfig;\n\n    _privateKey.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    this.setDescriptor({\n      features: ['issue-sudt']\n    });\n\n    _classPrivateFieldSet(this, _privateKey, privateKey);\n  }\n\n  async tryConnect() {\n    return new Secp256k1Signer(_classPrivateFieldGet(this, _privateKey), this.provider, this.lockConfig);\n  }\n\n}\n\nexports.Secp256k1Wallet = Secp256k1Wallet;\n\nvar _privateKey2 = /*#__PURE__*/new WeakMap();\n\nclass Secp256k1Signer extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  static privateKeyToBlake160(privateKey) {\n    return _hd.key.privateKeyToBlake160(privateKey);\n  }\n\n  constructor(privateKey, provider, lockConfig) {\n    super({\n      provider: provider\n    });\n    this.provider = provider;\n    this.lockConfig = lockConfig;\n\n    _privateKey2.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _privateKey2, privateKey);\n  }\n\n  getAddress() {\n    return this.provider.parseToAddress({ ...this.lockConfig,\n      args: Secp256k1Signer.privateKeyToBlake160(_classPrivateFieldGet(this, _privateKey2))\n    });\n  }\n\n  signMessage(message) {\n    const signature = _hd.key.signRecoverable(message, _classPrivateFieldGet(this, _privateKey2));\n\n    return Promise.resolve(signature);\n  }\n\n}\n\nexports.Secp256k1Signer = Secp256k1Signer;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UnipassWallet = void 0;\n\nvar _base = require(\"@ckitjs/base\");\n\nvar _AbstractSingleEntrySigner = require(\"./AbstractSingleEntrySigner\");\n\nvar _UnipassAdapter = require(\"./unipass/UnipassAdapter\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass UnipassWallet extends _base.AbstractWallet {\n  constructor(provider, adapterConfig) {\n    super();\n    this.provider = provider;\n\n    _defineProperty(this, \"adapter\", void 0);\n\n    this.setDescriptor({\n      name: 'UnipassWallet',\n      description: 'Interacting with CKB via an Email',\n      features: ['acp']\n    });\n    this.adapter = new _UnipassAdapter.UnipassRedirectAdapter(adapterConfig !== null && adapterConfig !== void 0 ? adapterConfig : {});\n  }\n\n  async tryConnect() {\n    const unipassLockArgs = await this.adapter.getLockArgs();\n    const provider = this.provider;\n\n    const getAddress = () => {\n      return Promise.resolve(provider.parseToAddress(provider.newScript('UNIPASS', unipassLockArgs)));\n    };\n\n    const signMessage = message => {\n      return Promise.resolve(this.adapter.sign(message));\n    };\n\n    return new class extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n      getAddress() {\n        return getAddress();\n      }\n\n      signMessage(message) {\n        return signMessage(message);\n      }\n\n      seal(tx) {\n        return super.seal(tx);\n      }\n\n    }({\n      provider: this.provider\n    });\n  }\n\n}\n\nexports.UnipassWallet = UnipassWallet;\n\n_defineProperty(UnipassWallet, \"UnipassRedirectAdapter\", _UnipassAdapter.UnipassRedirectAdapter);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pubkeyToLockArgs = pubkeyToLockArgs;\nexports.getRetFromSearchParams = getRetFromSearchParams;\nexports.redirect = redirect;\nexports.UnipassRedirectAdapter = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _utils = require(\"../../utils\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction isUnipassLoginData(x) {\n  if (typeof x !== 'object' || x === null) return false;\n  return 'email' in x && 'pubkey' in x;\n}\n\nfunction isUnipassSigData(x) {\n  if (typeof x !== 'object' || x === null) return false;\n  return 'sig' in x && 'pubkey' in x;\n}\n\nfunction pubkeyToLockArgs(pubkey) {\n  return _base.utils.ckbHash((0, _utils.hexToBytes)(pubkey).buffer).serializeJson().slice(0, 42);\n}\n\nfunction getRetFromSearchParams(check, replace = false) {\n  const searchParams = new URLSearchParams(location.search.slice(1));\n  const json = searchParams.get('unipass_ret');\n  if (!json) return undefined;\n  const res = JSON.parse(json);\n  if (!check(res.data)) return undefined;\n  if (res.code !== 200) throw new Error(res.info || 'Unknown error when connecting to UniPass');\n  searchParams.delete('unipass_ret');\n  const {\n    pathname,\n    host,\n    protocol\n  } = window.location;\n  const qs = searchParams.toString();\n  const newUrl = `${protocol}//${host}${pathname}${qs ? `?${qs}` : ''}`;\n  if (replace) window.history.replaceState({\n    path: newUrl\n  }, '', newUrl);\n  return res.data;\n}\n\nasync function redirect(href) {\n  window.location.href = href; // wait 60s to avoid error before redirect\n\n  return new Promise(resolve => setTimeout(resolve, 60 * 1000));\n}\n\nclass UnipassRedirectAdapter {\n  constructor(options) {\n    var _options$host, _options$loginDataCac;\n\n    _defineProperty(this, \"config\", void 0);\n\n    this.config = {\n      host: (_options$host = options.host) !== null && _options$host !== void 0 ? _options$host : 'https://t.unipass.xyz',\n      loginDataCacheKey: (_options$loginDataCac = options.loginDataCacheKey) !== null && _options$loginDataCac !== void 0 ? _options$loginDataCac : '__unipass__'\n    };\n  }\n  /**\n   * check is logged, if `unipass_ret` is found, it will clear the `unipass_ret` and save the unipass login data to cache\n   */\n\n\n  saveLoginInfo() {\n    this.getLoginDataFromUrl() && this.getLoginDataFromCache();\n  }\n\n  hasLoginInfo() {\n    return !!getRetFromSearchParams(isUnipassLoginData);\n  }\n\n  hasSigData() {\n    return !!getRetFromSearchParams(isUnipassSigData);\n  }\n  /**\n   * get unipass lock_args. If it is not retrieved from the cache or url, it will redirect to the unipass page\n   */\n\n\n  async getLockArgs() {\n    var _ref, _this$getLoginDataFro;\n\n    const loginData = (_ref = (_this$getLoginDataFro = this.getLoginDataFromCache()) !== null && _this$getLoginDataFro !== void 0 ? _this$getLoginDataFro : this.getLoginDataFromUrl()) !== null && _ref !== void 0 ? _ref : await this.redirectToLogin();\n    return pubkeyToLockArgs(loginData.pubkey);\n  }\n\n  sign(message) {\n    var _this$getSignatureFro;\n\n    return Promise.resolve((_this$getSignatureFro = this.getSignatureFromUrl()) !== null && _this$getSignatureFro !== void 0 ? _this$getSignatureFro : this.redirectToSign(message));\n  }\n\n  redirectToLogin() {\n    const loginUrl = this.generateUnipassNewUrl(this.config.host, 'login', {\n      success_url: window.location.href\n    });\n    return redirect(loginUrl);\n  }\n\n  redirectToSign(message) {\n    var _this$getLoginDataFro2;\n\n    const pubkey = (_this$getLoginDataFro2 = this.getLoginDataFromCache()) === null || _this$getLoginDataFro2 === void 0 ? void 0 : _this$getLoginDataFro2.pubkey;\n    if (!pubkey) throw new Error('UniPass should login before sign');\n    const signUrl = this.generateUnipassNewUrl(this.config.host, 'sign', {\n      success_url: window.location.href,\n      pubkey,\n      message\n    });\n    return redirect(signUrl);\n  }\n\n  saveLoginDataToCache(data) {\n    localStorage.setItem(this.config.loginDataCacheKey, JSON.stringify(data));\n  }\n\n  getLoginDataFromCache() {\n    const serialized = localStorage.getItem(this.config.loginDataCacheKey);\n    if (serialized == null) return;\n    return JSON.parse(serialized);\n  }\n\n  getLoginDataFromUrl() {\n    const loginData = getRetFromSearchParams(isUnipassLoginData, true);\n    if (!loginData) return;\n    this.saveLoginDataToCache(loginData);\n    return loginData;\n  }\n\n  getSignatureFromUrl() {\n    const signature = getRetFromSearchParams(isUnipassSigData, true);\n    if (!signature) return; // FIXME comment meaning for the 0x01\n\n    return '0x01' + signature.sig.replace('0x', '');\n  }\n\n  generateUnipassNewUrl(host, action, params) {\n    const urlObj = new URL(`${host}/${action.toLowerCase()}`);\n    Object.entries(params).forEach(([key, val]) => urlObj.searchParams.set(key, val));\n    return urlObj.href;\n  }\n\n}\n\nexports.UnipassRedirectAdapter = UnipassRedirectAdapter;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RcAcpPwSigner = exports.RcAcpWallet = exports.RcPwSigner = exports.RcOwnerWallet = void 0;\n\nvar _base = require(\"@ckitjs/base\");\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nvar _AbstractSingleEntrySigner = require(\"./AbstractSingleEntrySigner\");\n\nvar _PwWallet = require(\"./PwWallet\");\n\n/**\n * The RC wallet now only supported Eth identity via MetaMask\n */\nclass RcOwnerWallet extends _base.AbstractWallet {\n  constructor(provider) {\n    super();\n    this.provider = provider;\n    this.setDescriptor({\n      name: 'RcWallet(Non-ACP)',\n      features: this.describeFeatures()\n    });\n  }\n\n  describeFeatures() {\n    return ['issue-sudt'];\n  }\n\n  getRcSigner(ethProvider) {\n    return new RcPwSigner(this.provider, ethProvider);\n  }\n\n  async tryConnect() {\n    const ethProvider = await (0, _PwWallet.detect)();\n    const rcSigner = this.getRcSigner(ethProvider); // request to connect to MetaMask if never been connected\n\n    if (!ethProvider.selectedAddress) {\n      await ethProvider.request({\n        method: 'eth_requestAccounts'\n      });\n    }\n\n    ethProvider.addListener('accountsChanged', signer => {\n      if (signer && signer.length > 0) {\n        super.emitChangedSigner(rcSigner);\n        return;\n      }\n\n      super.emitConnectStatusChanged('disconnected');\n    });\n    return rcSigner;\n  }\n\n}\n\nexports.RcOwnerWallet = RcOwnerWallet;\n\nclass RcPwSigner extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(provider, ethProvider) {\n    super({\n      provider\n    });\n    this.provider = provider;\n    this.ethProvider = ethProvider;\n  }\n\n  getAddress() {\n    const rcOwnerLockArgs = _utils.bytes.toHex(_rcLock.RcIdentityLockArgs.encode({\n      rc_identity_flag: _rcLock.RcIdentityFlag.ETH,\n      rc_identity_pubkey_hash: this.ethProvider.selectedAddress,\n      rc_lock_flag: 0\n    }));\n\n    return this.provider.parseToAddress(this.provider.newScript('RC_LOCK', rcOwnerLockArgs));\n  }\n\n  getRcIdentity() {\n    return {\n      flag: _rcLock.RcIdentityFlag.ETH,\n      pubkeyHash: this.ethProvider.selectedAddress\n    };\n  }\n\n  async personalSign(message) {\n    const from = this.ethProvider.selectedAddress;\n    return this.ethProvider.request({\n      method: 'personal_sign',\n      params: [from, message]\n    });\n  }\n\n  async signMessage(message) {\n    const signedMessage = await this.personalSign(message);\n    let v = Number.parseInt(signedMessage.slice(-2), 16);\n    if (v >= 27) v -= 27;\n    const signature = '0x' + signedMessage.slice(2, -2) + v.toString(16).padStart(2, '0');\n    return Promise.resolve(new _ckbJsToolkit.Reader((0, _rcLock.SerializeRcLockWitnessLock)({\n      signature: new _ckbJsToolkit.Reader(signature)\n    })).serializeJson());\n  }\n\n}\n\nexports.RcPwSigner = RcPwSigner;\n\nclass RcAcpWallet extends RcOwnerWallet {\n  constructor(provider) {\n    super(provider);\n    this.provider = provider;\n    this.setDescriptor({\n      name: 'RcWallet(ACP)',\n      features: this.describeFeatures()\n    });\n  }\n\n  describeFeatures() {\n    return [];\n  }\n\n  getRcSigner(ethProvider) {\n    return new RcAcpPwSigner(this.provider, ethProvider);\n  }\n\n}\n\nexports.RcAcpWallet = RcAcpWallet;\n\nclass RcAcpPwSigner extends RcPwSigner {\n  constructor(provider, ethProvider) {\n    super(provider, ethProvider);\n  }\n\n  getAddress() {\n    const rcOwnerLockArgs = _utils.bytes.toHex(_rcLock.RcIdentityAcpLockArgs.encode({\n      rc_identity_flag: _rcLock.RcIdentityFlag.ETH,\n      rc_identity_pubkey_hash: this.ethProvider.selectedAddress,\n      rc_lock_flag: _rcLock.RcLockFlag.ACP_MASK,\n      rc_lock_acp_minimum_ckb: 0,\n      rc_lock_acp_minimum_udt: 0\n    }));\n\n    return this.provider.parseToAddress(this.provider.newScript('RC_LOCK', rcOwnerLockArgs));\n  }\n\n}\n\nexports.RcAcpPwSigner = RcAcpPwSigner;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MercuryProvider = require(\"./mercury/MercuryProvider\");\n\nObject.keys(_MercuryProvider).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _MercuryProvider[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _MercuryProvider[key];\n    }\n  });\n});\n\nvar _CkitProvider = require(\"./CkitProvider\");\n\nObject.keys(_CkitProvider).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _CkitProvider[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _CkitProvider[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.unimplemented = unimplemented;\nexports.asyncSleep = asyncSleep;\nexports.randomHexString = randomHexString;\nexports.nonNullable = nonNullable;\nexports.bytesToHex = bytesToHex;\nexports.hexToBytes = hexToBytes;\nexports.boom = boom;\nexports.asserts = asserts;\n\nfunction unimplemented() {\n  throw new Error('unimplemented');\n}\n\nfunction asyncSleep(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n/**\n *\n * @param lengthWithOut0x expected length does not contain the beginning 0x\n * @example\n * ```ts\n * randomHexString(1); // 0xa\n * randomHexString(1); // 0x2\n * randomHexString(2); // 0xf8\n * ```\n */\n\n\nfunction randomHexString(lengthWithOut0x) {\n  return '0x' + [...Array(lengthWithOut0x)].map(() => Math.floor(Math.random() * 16).toString(16)).join('');\n}\n\nfunction nonNullable(x) {\n  if (x == null) throw new Error('Null check failed');\n  return x;\n}\n\nfunction bytesToHex(bytes) {\n  return `0x${[...bytes].map(b => b.toString(16).padStart(2, '0')).join('')}`;\n}\n\nfunction hexToBytes(hex) {\n  hex = hex.startsWith('0x') ? hex.slice(2) : hex;\n  const match = hex.match(/.{1,2}/g);\n  if (!match) throw new Error(`cannot parse ${hex} into Uint8Array`);\n  return Uint8Array.from(match.map(byte => parseInt(byte, 16)));\n}\n\nfunction boom(message) {\n  throw new Error(message);\n}\n\nfunction asserts(condition, err) {\n  if (condition) return;\n\n  if (typeof err === 'function') {\n    throw err();\n  }\n\n  if (typeof err === 'string') boom(err);\n  if (err instanceof Error) throw err;\n  boom();\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DefaultOutPointProvider = exports.BaseCellOutPointProvider = void 0;\n\nvar _rpc = require(\"@ckb-lumos/rpc\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass BaseCellOutPointProvider {\n  constructor(config, rpcUrl = 'http://127.0.0.1:8114', upgradableScripts = ['RC_LOCK']) {\n    _defineProperty(this, \"config\", void 0);\n\n    _defineProperty(this, \"rpc\", void 0);\n\n    _defineProperty(this, \"rpcUrl\", void 0);\n\n    _defineProperty(this, \"upgradableScripts\", void 0);\n\n    this.config = config;\n    this.rpcUrl = rpcUrl;\n    this.rpc = new _rpc.RPC(rpcUrl);\n    this.upgradableScripts = upgradableScripts;\n  }\n\n  async getTypeIdByOutPoint(outPoint) {\n    var _liveCellTx$transacti;\n\n    const liveCellTx = await this.rpc.get_transaction(outPoint.tx_hash);\n    const type = liveCellTx === null || liveCellTx === void 0 ? void 0 : (_liveCellTx$transacti = liveCellTx.transaction.outputs[Number(outPoint.index)]) === null || _liveCellTx$transacti === void 0 ? void 0 : _liveCellTx$transacti.type;\n    if (type === undefined) throw new Error(`Can't find the typeId in tx ${outPoint.tx_hash}, index ${outPoint.index}`);\n    return type;\n  }\n\n  async checkConfigByKey(configKey) {\n    const scriptConfig = this.config.SCRIPTS[configKey];\n\n    if (!scriptConfig) {\n      throw new Error(`Cannot find the config by key: ${configKey}, maybe configKey is wrong or provider is not initialied`);\n    }\n\n    const checkConfigResult = {\n      shouldReturnOriginalOutput: true,\n      originalOutPoint: {\n        tx_hash: scriptConfig.TX_HASH,\n        index: scriptConfig.INDEX\n      }\n    };\n\n    if (this.upgradableScripts.includes(configKey)) {\n      const depCellStatus = await this.rpc.get_live_cell(checkConfigResult.originalOutPoint, false);\n\n      if (depCellStatus.status !== 'live') {\n        checkConfigResult.shouldReturnOriginalOutput = false;\n      }\n    }\n\n    return checkConfigResult;\n  }\n\n}\n\nexports.BaseCellOutPointProvider = BaseCellOutPointProvider;\n\nclass DefaultOutPointProvider extends BaseCellOutPointProvider {\n  getScriptDep(configKey) {\n    const scriptConfig = this.config.SCRIPTS[configKey];\n    if (!scriptConfig) return undefined;\n    return {\n      tx_hash: scriptConfig.TX_HASH,\n      index: scriptConfig.INDEX\n    };\n  }\n\n}\n\nexports.DefaultOutPointProvider = DefaultOutPointProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LatestOutPointProvider = void 0;\n\nvar _ = require(\".\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass LatestOutPointProvider extends _.BaseCellOutPointProvider {\n  constructor(config, rpcUrl = 'http://127.0.0.1:8114', indexerUrl = 'http://127.0.0.1:8116') {\n    super(config, rpcUrl);\n\n    _defineProperty(this, \"mercuryClient\", void 0);\n\n    this.mercuryClient = new _.MercuryClient(indexerUrl);\n  }\n\n  async getScriptDep(configKey) {\n    const {\n      shouldReturnOriginalOutput,\n      originalOutPoint\n    } = await this.checkConfigByKey(configKey);\n    if (shouldReturnOriginalOutput) return originalOutPoint;\n    const type = await this.getTypeIdByOutPoint(originalOutPoint);\n    const {\n      objects: cells\n    } = await this.mercuryClient.get_cells({\n      search_key: {\n        script: type,\n        script_type: 'type'\n      }\n    });\n\n    if (cells[0]) {\n      return cells[0].out_point;\n    }\n\n    return undefined;\n  }\n\n}\n\nexports.LatestOutPointProvider = LatestOutPointProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StaticFutureOutPointProvider = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _ = require(\".\");\n\nclass StaticFutureOutPointProvider extends _.BaseCellOutPointProvider {\n  async getScriptDep(configKey) {\n    const {\n      shouldReturnOriginalOutput,\n      originalOutPoint\n    } = await this.checkConfigByKey(configKey);\n    if (shouldReturnOriginalOutput) return originalOutPoint;\n    const type = await this.getTypeIdByOutPoint(originalOutPoint);\n    const futureScripts = {\n      RC_LOCK: {\n        CODE_HASH: '0xb91e81f5f817e901c4a3bca9e108417dbcc2e34ebf720d24327a1a97a3e22ad8',\n        HASH_TYPE: 'type',\n        TX_HASH: 'FUTURE_RC_LOCK_TX_HASH',\n        INDEX: '0x1',\n        DEP_TYPE: 'code'\n      }\n    };\n    const scriptConfigs = Object.values(futureScripts);\n    const index = scriptConfigs.findIndex(scriptConfig => (scriptConfig === null || scriptConfig === void 0 ? void 0 : scriptConfig.CODE_HASH) === _base.utils.computeScriptHash(type) && (scriptConfig === null || scriptConfig === void 0 ? void 0 : scriptConfig.HASH_TYPE) === type.hash_type);\n    const found = scriptConfigs[index];\n    if (!found) return undefined;\n    return {\n      tx_hash: found.TX_HASH,\n      index: found.INDEX\n    };\n  }\n\n}\n\nexports.StaticFutureOutPointProvider = StaticFutureOutPointProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MercuryCellProvider = void 0;\n\nclass MercuryCellProvider {\n  constructor(mercury) {\n    this.mercury = mercury;\n  }\n\n  collector(queries) {\n    const {\n      lock,\n      type\n    } = queries;\n    let searchKey;\n\n    if (lock !== undefined) {\n      searchKey = {\n        script: lock,\n        script_type: 'lock'\n      };\n\n      if (type != undefined && type !== 'empty') {\n        searchKey.filter = {\n          script: type\n        };\n      }\n    } else {\n      if (type != undefined && type != 'empty') {\n        searchKey = {\n          script: type,\n          script_type: 'type'\n        };\n      } else {\n        throw new Error(`should specify either type or lock in queries, queries now: ${JSON.stringify(queries)}`);\n      }\n    }\n\n    const queryData = queries.data || '0x';\n    const mercury = this.mercury;\n    return {\n      collect() {\n        return {\n          async *[Symbol.asyncIterator]() {\n            const sizeLimit = 100;\n\n            for (;;) {\n              const res = await mercury.get_cells({\n                search_key: searchKey\n              });\n              const liveCells = res.objects;\n\n              for (const cell of liveCells) {\n                if (queryData === 'any' || queryData === cell.output_data) {\n                  yield {\n                    cell_output: cell.output,\n                    data: cell.output_data,\n                    out_point: cell.out_point,\n                    block_number: cell.block_number\n                  };\n                }\n              }\n\n              if (liveCells.length < sizeLimit) {\n                break;\n              }\n            }\n          }\n\n        };\n      }\n\n    };\n  }\n\n}\n\nexports.MercuryCellProvider = MercuryCellProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CkitProvider = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _MercuryProvider = require(\"./mercury/MercuryProvider\");\n\nclass CkitProvider extends _MercuryProvider.MercuryProvider {\n  get config() {\n    return super.config;\n  }\n\n  init(config) {\n    return super.init(config);\n  }\n\n  getScriptConfig(key) {\n    const scriptConfig = super.getScriptConfig(key);\n    if (!scriptConfig) throw new Error(`cannot find the ${key} script config, maybe init failed`);\n    return scriptConfig;\n  }\n\n  newScript(configKey, args = '0x') {\n    const script = super.newScript(configKey, args);\n    if (!script) throw new Error(`cannot find the ${configKey} script config, maybe init failed`);\n    return script;\n  }\n\n  newScriptTemplate(configKey) {\n    const template = this.newScript(configKey);\n    return {\n      code_hash: template.code_hash,\n      hash_type: template.hash_type\n    };\n  }\n\n  newSudtScript(issuer) {\n    const issuerLockHash = typeof issuer === 'string' ? _base.utils.computeScriptHash(this.parseToScript(issuer)) : _base.utils.computeScriptHash(issuer);\n    return this.newScript('SUDT', issuerLockHash);\n  }\n\n  isTemplateOf(key, scriptLice) {\n    const script = typeof scriptLice === 'string' ? this.parseToScript(scriptLice) : scriptLice;\n    const scriptConfig = this.getScriptConfig(key);\n    return scriptConfig.CODE_HASH === script.code_hash && scriptConfig.HASH_TYPE === script.hash_type;\n  }\n\n}\n\nexports.CkitProvider = CkitProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.predefined = void 0;\n\nvar Aggron = _interopRequireWildcard(require(\"./aggron\"));\n\nvar Lina = _interopRequireWildcard(require(\"./lina\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst AggronCkitConfig = {\n  PREFIX: 'ckt',\n  SCRIPTS: Aggron.SCRIPTS\n};\nconst LinaCkitConfig = {\n  PREFIX: 'ckb',\n  SCRIPTS: Lina.SCRIPTS\n};\nconst predefined = {\n  Aggron: AggronCkitConfig,\n  Lina: LinaCkitConfig\n};\nexports.predefined = predefined;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SCRIPTS = void 0;\n\nvar _configManager = require(\"@ckb-lumos/config-manager\");\n\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nconst SCRIPTS = {\n  SECP256K1_BLAKE160: _configManager.predefined.AGGRON4.SCRIPTS.SECP256K1_BLAKE160,\n  ANYONE_CAN_PAY: _configManager.predefined.AGGRON4.SCRIPTS.ANYONE_CAN_PAY,\n  SUDT: _configManager.predefined.AGGRON4.SCRIPTS.SUDT,\n\n  /**\n   * @deprecated replace with rc-lock\n   */\n  PW_ANYONE_CAN_PAY: {\n    CODE_HASH: '0x093ba9759e1c4a79dd81b0a50de83ab108ffe4eb983b05637bf1f5c1834f31eb',\n    HASH_TYPE: 'data',\n    TX_HASH: '0x834d1827950545da5cca779903ca8268aecbc7bfadb1d1cc18ba90f3b312cd41',\n    INDEX: '0x2',\n    DEP_TYPE: 'code'\n  },\n\n  /**\n   * @deprecated replace with rc-lock\n   */\n  PW_NON_ANYONE_CAN_PAY: {\n    CODE_HASH: '0x87366c3678f14ccbd6647386a18e05ae27c97978d4a6952fb5820cc698263835',\n    HASH_TYPE: 'data',\n    TX_HASH: '0x834d1827950545da5cca779903ca8268aecbc7bfadb1d1cc18ba90f3b312cd41',\n    INDEX: '0x3',\n    DEP_TYPE: 'code'\n  },\n  UNIPASS: {\n    INDEX: '0x0',\n    TX_HASH: '0x03dd2a5594ed2d79196b396c83534e050ba0ad07fa5c1cd61a7094f9fb60a592',\n    DEP_TYPE: 'code',\n    CODE_HASH: '0x124a60cd799e1fbca664196de46b3f7f0ecb7138133dcaea4893c51df5b02be6',\n    HASH_TYPE: 'type'\n  },\n  RC_LOCK: {\n    CODE_HASH: '0x79f90bb5e892d80dd213439eeab551120eb417678824f282b4ffb5f21bad2e1e',\n    HASH_TYPE: 'type',\n    TX_HASH: '0x9154df4f7336402114d04495175b37390ce86a4906d2d4001cf02c3e6d97f39c',\n    INDEX: '0x0',\n    DEP_TYPE: 'code'\n  },\n  CHEQUE: {\n    CODE_HASH: '0x60d5f39efce409c587cb9ea359cefdead650ca128f0bd9cb3855348f98c70d5b',\n    HASH_TYPE: 'type',\n    TX_HASH: '0x7f96858be0a9d584b4a9ea190e0420835156a6010a5fde15ffcdc9d9c721ccab',\n    INDEX: '0x0',\n    DEP_TYPE: 'dep_group'\n  }\n};\nexports.SCRIPTS = SCRIPTS;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SCRIPTS = void 0;\n\nvar _configManager = require(\"@ckb-lumos/config-manager\");\n\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nconst SCRIPTS = {\n  SECP256K1_BLAKE160: _configManager.predefined.LINA.SCRIPTS.SECP256K1_BLAKE160,\n  ANYONE_CAN_PAY: _configManager.predefined.LINA.SCRIPTS.ANYONE_CAN_PAY,\n  SUDT: _configManager.predefined.LINA.SCRIPTS.SUDT,\n\n  /**\n   * @deprecated the pw-lock would be replace with rc-lock\n   */\n  PW_ANYONE_CAN_PAY: {\n    CODE_HASH: '0x',\n    HASH_TYPE: 'data',\n    TX_HASH: '0x',\n    INDEX: '0x',\n    DEP_TYPE: 'code'\n  },\n\n  /**\n   * @deprecated the pw-lock would be replace with rc-lock\n   */\n  PW_NON_ANYONE_CAN_PAY: {\n    CODE_HASH: '0x',\n    HASH_TYPE: 'data',\n    TX_HASH: '0x',\n    INDEX: '0x',\n    DEP_TYPE: 'code'\n  },\n  UNIPASS: {\n    INDEX: '0x0',\n    TX_HASH: '0x825e0e2f8c15a4740fb0043116e8aa4e664c2e6a41c79df71ba29c48a7a0ea62',\n    DEP_TYPE: 'code',\n    CODE_HASH: '0x614d40a86e1b29a8f4d8d93b9f3b390bf740803fa19a69f1c95716e029ea09b3',\n    HASH_TYPE: 'type'\n  },\n  RC_LOCK: {\n    CODE_HASH: '0x9f3aeaf2fc439549cbc870c653374943af96a0658bd6b51be8d8983183e6f52f',\n    HASH_TYPE: 'type',\n    TX_HASH: '0xaa8ab7e97ed6a268be5d7e26d63d115fa77230e51ae437fc532988dd0c3ce10a',\n    INDEX: '0x1',\n    DEP_TYPE: 'code'\n  },\n  CHEQUE: {\n    CODE_HASH: '0xe4d4ecc6e5f9a059bf2f7a82cca292083aebc0c421566a52484fe2ec51a9fb0c',\n    HASH_TYPE: 'type',\n    TX_HASH: '0x04632cc459459cf5c9d384b43dee3e36f542a464bdd4127be7d6618ac6f8d268',\n    INDEX: '0x0',\n    DEP_TYPE: 'dep_group'\n  }\n};\nexports.SCRIPTS = SCRIPTS;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"debug\", {\n  enumerable: true,\n  get: function () {\n    return _debug.debug;\n  }\n});\nObject.defineProperty(exports, \"createDebugger\", {\n  enumerable: true,\n  get: function () {\n    return _debug.createDebugger;\n  }\n});\nObject.defineProperty(exports, \"invariant\", {\n  enumerable: true,\n  get: function () {\n    return _invariant.invariant;\n  }\n});\nObject.defineProperty(exports, \"unimplemented\", {\n  enumerable: true,\n  get: function () {\n    return _assertion.unimplemented;\n  }\n});\nexports.bytes = void 0;\n\nvar _debug = require(\"./debug\");\n\nvar _invariant = require(\"./invariant\");\n\nvar _assertion = require(\"./assertion\");\n\nvar _bytes = _interopRequireWildcard(require(\"./bytes\"));\n\nexports.bytes = _bytes;\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }","import { CkitInitOptions, predefined } from '@ckitjs/ckit';\nimport { useLocalStorage } from '@rehooks/local-storage';\nimport { useMemo } from 'react';\n\nexport interface LocalConfig {\n  ckitConfig: CkitInitOptions;\n  mecuryRPC: string;\n  ckbRPC: string;\n  nervosExploreTxUrlPrefix: string;\n  nervosExploreAddressUrlPrefix: string;\n  nervosExploreSudtUrlPrefix: string;\n}\n\n// TODO remove random when predefined config is ready\nexport function useConfigStorage(): [LocalConfig, (newValue: LocalConfig) => void, () => void] {\n  const initialConfig = useMemo<LocalConfig>(() => {\n    // TODO check network first\n    const ckitConfig: CkitInitOptions = predefined.Aggron;\n    const mecuryRPC = 'https://testnet.ckb.dev/indexer';\n    const ckbRPC = 'https://testnet.ckb.dev/rpc';\n    const nervosExploreTxUrlPrefix = 'https://explorer.nervos.org/aggron/transaction/';\n    const nervosExploreAddressUrlPrefix = 'https://explorer.nervos.org/aggron/address/';\n    const nervosExploreSudtUrlPrefix = 'https://explorer.nervos.org/aggron/sudt/';\n    return {\n      ckitConfig: ckitConfig,\n      mecuryRPC: mecuryRPC,\n      ckbRPC: ckbRPC,\n      nervosExploreTxUrlPrefix: nervosExploreTxUrlPrefix,\n      nervosExploreAddressUrlPrefix: nervosExploreAddressUrlPrefix,\n      nervosExploreSudtUrlPrefix: nervosExploreSudtUrlPrefix,\n    };\n  }, []);\n\n  return useLocalStorage<LocalConfig>('localConfig', initialConfig);\n}\n","import { CkitProvider } from '@ckitjs/ckit';\nimport { useEffect, useState } from 'react';\nimport { createContainer } from 'unstated-next';\nimport { useConfigStorage } from 'hooks/useConfigStorage';\n\nexport const CkitProviderContainer = createContainer<CkitProvider | undefined>(() => {\n  const [ckitProvider, setCkitProvider] = useState<CkitProvider>();\n  const [localConfig] = useConfigStorage();\n  useEffect(() => {\n    const provider = new CkitProvider(localConfig.mecuryRPC, localConfig.ckbRPC);\n    void provider.init({ ...localConfig.ckitConfig }).then(() => setCkitProvider(provider));\n  }, [localConfig]);\n\n  return ckitProvider;\n});\n\nexport function useProvider(): CkitProvider {\n  const provider = CkitProviderContainer.useContainer();\n\n  if (!provider) throw new Error('Cannot find provider, make suer useProvider in CkitProviderContainer');\n\n  return provider;\n}\n","import { CkitProvider, NonAcpPwLockWallet } from '@ckitjs/ckit';\nimport { makeObservable, observable } from 'mobx';\n\nexport class ObservableNonAcpPwLockWallet extends NonAcpPwLockWallet {\n  constructor(ckitProvider: CkitProvider) {\n    super(ckitProvider);\n    this.setDescriptor({ name: 'MetaMask(Non-ACP)' });\n    makeObservable(this, {\n      connectStatus: observable,\n      signer: observable,\n    });\n  }\n}\n","import { CkitProvider, AcpPwLockWallet } from '@ckitjs/ckit';\nimport { makeObservable, observable } from 'mobx';\n\nexport class ObservableAcpPwLockWallet extends AcpPwLockWallet {\n  constructor(ckitProvider: CkitProvider) {\n    super(ckitProvider);\n    this.setDescriptor({ name: 'MetaMask(ACP)' });\n    makeObservable(this, {\n      connectStatus: observable,\n      signer: observable,\n    });\n  }\n}\n","import { UnipassWallet, CkitProvider } from '@ckitjs/ckit';\nimport { makeObservable, observable } from 'mobx';\n\nexport class ObservableUnipassWallet extends UnipassWallet {\n  constructor(provider: CkitProvider) {\n    super(provider);\n    this.setDescriptor({ name: 'UniPass' });\n    makeObservable(this, {\n      connectStatus: observable,\n      signer: observable,\n    });\n  }\n}\n","import { CkitProvider, RcOwnerWallet } from '@ckitjs/ckit';\nimport { makeObservable, observable } from 'mobx';\n\nexport class ObservableOmnilockWallet extends RcOwnerWallet {\n  constructor(provider: CkitProvider) {\n    super(provider);\n    this.setDescriptor({ name: 'MetaMask(Omnilock Non-ACP)' });\n    makeObservable(this, {\n      connectStatus: observable,\n      signer: observable,\n    });\n  }\n}\n","import { CkitProvider, RcAcpWallet } from '@ckitjs/ckit';\nimport { makeObservable, observable } from 'mobx';\n\nexport class ObservableAcpOmnilockWallet extends RcAcpWallet {\n  constructor(provider: CkitProvider) {\n    super(provider);\n    this.setDescriptor({ name: 'MetaMask(Omnilock Acp)' });\n    makeObservable(this, {\n      connectStatus: observable,\n      signer: observable,\n    });\n  }\n}\n","import { AbstractWallet, ConnectStatus } from '@ckitjs/ckit';\nimport { useLocalStorage } from '@rehooks/local-storage';\nimport { autorun, runInAction } from 'mobx';\nimport { useLocalObservable } from 'mobx-react-lite';\nimport { useCallback, useEffect, useState } from 'react';\nimport { createContainer } from 'unstated-next';\nimport { CkitProviderContainer } from '../CkitProviderContainer';\nimport {\n  ObservableAcpPwLockWallet,\n  ObservableNonAcpPwLockWallet,\n  ObservableUnipassWallet,\n  ObservableOmnilockWallet,\n  ObservableAcpOmnilockWallet,\n} from 'wallets';\n\nexport interface WalletConnectError {\n  error: Error;\n  index: number;\n}\n\nfunction useWallet() {\n  const ckitProvider = CkitProviderContainer.useContainer();\n  const [currentWalletName, setCurrentWalletName] = useLocalStorage<string | null>('currentWalletName');\n\n  // TODO refactor to Wallets class\n  const wallets = useLocalObservable<AbstractWallet[]>(() => []);\n  const [signerAddress, setSignerAddress] = useState<string>();\n  const [error, setError] = useState<WalletConnectError | null>(null);\n  const [visible, setVisible] = useState(false);\n  const [isInitialized, setIsInitialized] = useState(false);\n\n  const setModalVisible = useCallback((visible: boolean) => {\n    setVisible(visible);\n    setError(null);\n  }, []);\n\n  useEffect(() => {\n    if (!ckitProvider) return;\n    // when the provider has changed, wallets should be construct with the new provider\n    runInAction(() => {\n      wallets.splice(0);\n      wallets.push(\n        new ObservableUnipassWallet(ckitProvider),\n        new ObservableOmnilockWallet(ckitProvider),\n        new ObservableAcpOmnilockWallet(ckitProvider),\n      );\n      wallets.find((value) => value.descriptor.name === currentWalletName)?.connect();\n    });\n  }, [ckitProvider]);\n\n  useEffect(\n    () =>\n      autorun(() => {\n        if (!wallets) return;\n        wallets.forEach((wallet, index) => {\n          const onConnectStatusChanged = (connectStatus: ConnectStatus) => {\n            if (connectStatus === 'disconnected') {\n              const remainConnectedWallet = wallets.find((w) => w.connectStatus === 'connected');\n              if (!remainConnectedWallet) {\n                setCurrentWalletName(null);\n              } else {\n                setCurrentWalletName(remainConnectedWallet.descriptor.name);\n              }\n            }\n            if (connectStatus === 'connected') {\n              setModalVisible(false);\n              const connectedWallet = wallets.find((w) => w.descriptor.name === wallet.descriptor.name);\n              if (!connectedWallet) {\n                throw new Error('exception: wallet could not be found');\n              } else {\n                setCurrentWalletName(connectedWallet.descriptor.name);\n              }\n            }\n          };\n          wallet.on('connectStatusChanged', onConnectStatusChanged);\n          wallet.on('error', (err) =>\n            setError({\n              error: err as Error,\n              index: index,\n            }),\n          );\n        });\n      }),\n    [setModalVisible, wallets],\n  );\n\n  const currentWallet = wallets.find((value) => value.descriptor.name === currentWalletName);\n\n  useEffect(() => {\n    autorun(() => {\n      setSignerAddress(undefined);\n      const wallet = wallets.find((value) => value.descriptor.name === currentWalletName);\n      void Promise.resolve(wallet?.signer?.getAddress()).then((address) => {\n        setSignerAddress(address);\n        setIsInitialized(true);\n      });\n    });\n  }, [currentWalletName]);\n\n  return {\n    isInitialized,\n    wallets,\n    currentWallet,\n    setCurrentWalletName,\n    signerAddress,\n    error,\n    setError,\n    visible,\n    setModalVisible,\n  };\n}\n\nexport const WalletContainer = createContainer(useWallet);\n\nexport const displayWalletName = (name: string | undefined): string => {\n  return name || 'unknown';\n};\n","import { UnipassWallet } from '@ckitjs/ckit';\nimport { useLocalStorage } from '@rehooks/local-storage';\n\ninterface UnipassContext {\n  shouldLogin: boolean;\n  cacheLogin: () => void;\n  shouldSendTx: boolean;\n  cacheTx: (tx: string | null) => void;\n  clearTx: () => void;\n  cachedTx: string | null;\n}\n\nexport function useUnipass(): UnipassContext {\n  const [cachedTx, cacheTx] = useLocalStorage<string | null>('unipassTx');\n  const adapter = new UnipassWallet.UnipassRedirectAdapter({ host: 'https://unipass.xyz' }); // TODO  use the config\n  return {\n    shouldLogin: adapter.hasLoginInfo(),\n    cacheLogin: () => adapter.saveLoginInfo(),\n    shouldSendTx: adapter.hasSigData(),\n    cacheTx,\n    clearTx: () => cacheTx(null),\n    cachedTx,\n  };\n}\n","import { BigNumber } from 'bignumber.js';\n\nexport class AssetAmount {\n  rawAmount: BigNumber;\n  decimals: number;\n\n  constructor(rawAmount: string | BigNumber, decimals: number) {\n    this.rawAmount = new BigNumber(rawAmount);\n    this.decimals = decimals;\n  }\n\n  static fromRaw(rawAmount: string, decimals: number): AssetAmount {\n    return new AssetAmount(rawAmount, decimals);\n  }\n\n  static fromHumanize(humanizeAmount: string, decimals: number): AssetAmount {\n    const rawAmount = new BigNumber(humanizeAmount).times(10 ** decimals);\n    return new AssetAmount(rawAmount, decimals);\n  }\n\n  toRawString(): string {\n    return this.rawAmount.toString();\n  }\n\n  toHexString(): string {\n    return '0x' + this.rawAmount.toString(16);\n  }\n\n  toHumanizeString(): string {\n    const humanizeAmount = this.rawAmount.times(10 ** -this.decimals);\n    const originDecimalPlaces = humanizeAmount.decimalPlaces();\n    const rounded = humanizeAmount.decimalPlaces(originDecimalPlaces, BigNumber.ROUND_FLOOR);\n    return rounded.toFormat().toString();\n  }\n}\n","export * from './AssetAmount';\n\nexport function hasProp<O, K extends string | number | symbol>(obj: O, key: K): obj is Record<K, unknown> & O {\n  return obj != null && typeof obj === 'object' && key in obj;\n}\n\nexport function truncateMiddle(str: string, start: number, end = start): string {\n  if (!start || !end || start <= 0 || end <= 0) throw new Error('start or end is invalid');\n  if (str.length <= start + end) return str;\n  return str.slice(0, start) + '...' + str.slice(-end);\n}\n\nconst HEX_REGEX = /^0[xX][0-9a-fA-F]*$/;\n\nexport function isValidHexString(value: string): boolean {\n  return HEX_REGEX.test(value);\n}\n","import { Hash } from '@ckb-lumos/base';\nimport { AbstractTransactionBuilder, CkitProvider, EntrySigner } from '@ckitjs/ckit';\nimport { Transaction } from '@lay2/pw-core';\nimport { Modal } from 'antd';\nimport React from 'react';\nimport { useMutation, UseMutationResult } from 'react-query';\nimport { useConfigStorage } from './useConfigStorage';\nimport { useUnipass } from './useUnipass';\nimport { CkitProviderContainer, WalletContainer } from 'containers';\nimport { hasProp } from 'utils';\n\ntype SendTransactionOption = Transaction | ((provider: CkitProvider, signer: EntrySigner) => Promise<Transaction>);\n\nexport function useSendTransaction(): UseMutationResult<{ txHash: Hash }, unknown, SendTransactionOption> {\n  const ckitProvider = CkitProviderContainer.useContainer();\n  const { currentWallet } = WalletContainer.useContainer();\n  const [localConfig] = useConfigStorage();\n  const { cacheTx, clearTx } = useUnipass();\n\n  return useMutation(\n    async (option: SendTransactionOption) => {\n      if (!currentWallet?.signer) throw new Error('exception: signer undefined');\n      if (!ckitProvider) throw new Error('exception: ckitProvider undefined');\n\n      const tx = typeof option === 'function' ? await option(ckitProvider, currentWallet.signer) : option;\n      if (currentWallet.descriptor.name === 'UniPass') {\n        const serializedTx = AbstractTransactionBuilder.serde.serialize(tx);\n        cacheTx(JSON.stringify(serializedTx));\n      }\n      const txHash = await ckitProvider.sendTransaction(await currentWallet.signer.seal(tx));\n      if (currentWallet.descriptor.name === 'UniPass') {\n        clearTx();\n      }\n      return { txHash: txHash };\n    },\n    {\n      onSuccess({ txHash }) {\n        const href = localConfig.nervosExploreTxUrlPrefix + txHash;\n        Modal.success({\n          title: 'Tx sent',\n          content: (\n            <p>\n              The transaction was sent, check it in&nbsp;\n              <a href={href} target=\"_blank\" rel=\"noreferrer\">\n                explorer\n              </a>\n              <details>\n                <summary>transaction id</summary>\n                {txHash}\n              </details>\n            </p>\n          ),\n        });\n      },\n      onError(error) {\n        const errorMsg: string = hasProp(error, 'message') ? String(error.message) : 'Unknown error';\n        Modal.error({ title: 'Tx failed', content: errorMsg, width: 360 });\n      },\n    },\n  );\n}\n","import { AbstractTransactionBuilder } from '@ckitjs/ckit';\nimport { Transaction } from '@lay2/pw-core';\nimport { Spin } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { WalletContainer } from 'containers';\nimport { useSendTransaction } from 'hooks/useSendTransaction';\nimport { useUnipass } from 'hooks/useUnipass';\n\nexport const OnIncomplete: React.FC = ({ children }) => {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const { isInitialized, setCurrentWalletName } = WalletContainer.useContainer();\n  const { mutateAsync: sendTransaction } = useSendTransaction();\n  const { shouldLogin, cacheLogin, shouldSendTx, cachedTx } = useUnipass();\n\n  useEffect(() => {\n    void (async () => {\n      if (shouldLogin) {\n        setCurrentWalletName('UniPass');\n        cacheLogin();\n      }\n\n      if (shouldSendTx) {\n        if (!isInitialized) return;\n        if (!cachedTx) throw new Error('Could not find transaction to send');\n        const txToSend = AbstractTransactionBuilder.serde.deserialize(cachedTx);\n        await sendTransaction(txToSend as Transaction).catch(() => setIsLoaded(true));\n      }\n\n      setIsLoaded(true);\n    })();\n  }, [isInitialized]);\n\n  if (!isLoaded) return <Spin />;\n  return <>{children}</>;\n};\n","import styled from 'styled-components';\n\nexport const StyledCardWrapper = styled.div`\n  width: 360px;\n  padding: 24px;\n  margin-bottom: 48px;\n  border-radius: 16px;\n  background: #fff;\n  box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.08);\n`;\n","import { CheckCircleTwoTone } from '@ant-design/icons';\nimport { Button, Space } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport { displayWalletName, WalletContainer } from 'containers/WalletContainer';\n\nexport const WalletConnectFC: React.FC = () => {\n  const { currentWallet, setModalVisible } = WalletContainer.useContainer();\n\n  if (currentWallet) {\n    return (\n      <Button size=\"small\" onClick={() => setModalVisible(true)}>\n        <Space>\n          {displayWalletName(currentWallet.descriptor.name)}\n          <CheckCircleTwoTone />\n        </Space>\n      </Button>\n    );\n  }\n\n  return (\n    <Button size=\"small\" type=\"primary\" onClick={() => setModalVisible(true)}>\n      Connect\n    </Button>\n  );\n};\n\nexport const WalletConnect = observer(WalletConnectFC);\n","import { Address, HexNumber } from '@ckb-lumos/base';\nimport { RecipientOptions, helpers, MintSudtBuilder, CkitProvider, EntrySigner } from '@ckitjs/ckit';\nimport { useMutation, UseMutationResult } from 'react-query';\nimport { useSendTransaction } from './useSendTransaction';\n\nexport interface SendIssueTxInput {\n  recipient: Address;\n  amount: HexNumber;\n  operationKind: 'invite' | 'issue';\n  policy?: 'createCell' | 'findAcp';\n}\n\nexport function useSendIssueTx(): UseMutationResult<unknown, unknown, SendIssueTxInput> {\n  const { mutateAsync: sendTransaction } = useSendTransaction();\n\n  return useMutation(['sendIssueTx'], async (input: SendIssueTxInput) => {\n    const buildTx = async (provider: CkitProvider, signer: EntrySigner) => {\n      const recipientsParams: RecipientOptions = {\n        capacityPolicy: input.policy,\n        recipient: input.recipient,\n        amount: input.amount,\n      };\n      if (input.operationKind === 'invite') {\n        recipientsParams.capacityPolicy = 'createCell';\n        recipientsParams.additionalCapacity = helpers.CkbAmount.fromCkb(1).toHex();\n        recipientsParams.amount = '0';\n      } else {\n        recipientsParams.capacityPolicy = input.policy || 'findAcp';\n      }\n      const txBuilder = new MintSudtBuilder({ recipients: [recipientsParams] }, provider, await signer.getAddress());\n      return txBuilder.build();\n    };\n\n    await sendTransaction(buildTx);\n  });\n}\n","import { CkbTypeScript } from '@ckitjs/base';\nimport { useLocalStorage } from '@rehooks/local-storage';\nimport { useCallback, useMemo } from 'react';\n\nexport interface AssetMeta {\n  symbol: string;\n  decimal: number;\n  script?: CkbTypeScript;\n}\n\nexport function useAssetMetaStorage(): { assetsMeta: AssetMeta[]; addAssetMeta: (newValue: AssetMeta) => void } {\n  const initialAssetMeta = useMemo<AssetMeta[]>(() => [{ symbol: 'ckb', decimal: 8 }], []);\n  const [assetsMeta, setAssetsMeta] = useLocalStorage<AssetMeta[]>('assetMeta', initialAssetMeta);\n  const addAssetMeta = useCallback(\n    (newValue: AssetMeta) => {\n      setAssetsMeta(assetsMeta.concat(newValue));\n    },\n    [assetsMeta, setAssetsMeta],\n  );\n  return { assetsMeta, addAssetMeta };\n}\n","import { Address, Script } from '@ckb-lumos/base';\nimport { useCallback } from 'react';\nimport { useProvider } from 'containers';\nimport { AssetAmount } from 'utils';\nimport { toBuffer } from '@ckitjs/easy-byte';\nimport { RcLockFlag, RcIdentityLockArgs } from '@ckitjs/rc-lock';\n\ninterface ValidationHelper {\n  validateCkbAddress: (value: Address) => string | undefined;\n  validateInviteAddress: (value: Address, sudtScript: Script) => Promise<string | undefined>;\n  validateIssueAcpAddress: (value: Address, sudtScript: Script) => Promise<string | undefined>;\n  validateTransferAddress: (value: Address, sudtScript: Script) => Promise<string | undefined>;\n  validateAmount: (amount: string, decimal: number) => string | undefined;\n}\n\nexport function useFormValidate(): ValidationHelper {\n  const provider = useProvider();\n\n  const validateCkbAddress = useCallback(\n    (value: Address) => {\n      try {\n        provider.parseToScript(value);\n      } catch (e) {\n        return 'invalid ckb address';\n      }\n    },\n    [provider],\n  );\n\n  // TODO refactor with ScriptManager\n  const isLockscriptACP = useCallback(\n    (script: Script) => {\n      const scripts = provider.config.SCRIPTS;\n      return (\n        script.code_hash === scripts.ANYONE_CAN_PAY.CODE_HASH ||\n        script.code_hash === scripts.PW_ANYONE_CAN_PAY.CODE_HASH ||\n        script.code_hash === scripts.UNIPASS.CODE_HASH ||\n        (script.code_hash === scripts.RC_LOCK.CODE_HASH && checkRcLockFlag(script.args, RcLockFlag.ACP_MASK))\n      );\n    },\n    [provider],\n  );\n\n  const checkRcLockFlag = (args: string, flag: RcLockFlag) => {\n    const argsBytes = toBuffer(args);\n\n    return !!(RcIdentityLockArgs.decode(argsBytes).rc_lock_flag & flag);\n  };\n\n  const validateACPAddress = useCallback(\n    (value: Address) => {\n      const error = validateCkbAddress(value);\n      if (error) return error;\n      if (!isLockscriptACP(provider.parseToScript(value))) return 'address not anyone can pay';\n    },\n    [provider, validateCkbAddress, isLockscriptACP],\n  );\n\n  const validateInviteAddress = useCallback(\n    async (value: Address, sudtScript: Script) => {\n      const error = validateACPAddress(value);\n      if (error) return error;\n      const sudtCells = await provider.collectUdtCells(value, sudtScript, '0');\n      if (sudtCells.length > 0) return 'user already invited';\n    },\n    [provider, validateACPAddress],\n  );\n\n  const validateIssueAcpAddress = useCallback(\n    async (value: Address, sudtScript: Script) => {\n      const error = validateACPAddress(value);\n      if (error) return error;\n      const sudtCells = await provider.collectUdtCells(value, sudtScript, '0');\n      if (sudtCells.length === 0) return 'please invite first';\n    },\n    [provider, validateACPAddress],\n  );\n\n  const validateTransferAddress = useCallback(\n    async (value: Address, sudtScript: Script) => {\n      const error = validateACPAddress(value);\n      if (error) return error;\n      const sudtCells = await provider.collectUdtCells(value, sudtScript, '0');\n      if (sudtCells.length === 0) return 'no available acp sudt cell for recipient';\n    },\n    [provider, validateACPAddress],\n  );\n\n  const validateAmount = useCallback((amount: string, decimal: number) => {\n    const assetAmount = AssetAmount.fromHumanize(amount, decimal);\n    if (assetAmount.rawAmount.isNaN()) return 'invalid number';\n    if (assetAmount.rawAmount.lt(1)) return 'at least issue one token';\n  }, []);\n\n  return {\n    validateCkbAddress,\n    validateInviteAddress,\n    validateIssueAcpAddress,\n    validateTransferAddress,\n    validateAmount,\n  };\n}\n","import { Button, Col, Empty, Row, Tooltip, Typography } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { WalletContainer } from 'containers/WalletContainer';\nimport { useConfigStorage } from 'hooks';\nimport { truncateMiddle } from 'utils';\n\nexport const WalletChange = observer(() => {\n  const { signerAddress, setModalVisible } = WalletContainer.useContainer();\n  const [localConfig] = useConfigStorage();\n  if (!signerAddress) return <Empty />;\n  const truncatedAddress = truncateMiddle(signerAddress, 8);\n  const href = localConfig.nervosExploreAddressUrlPrefix + signerAddress;\n  return (\n    <div style={{ marginTop: '32px', marginBottom: '32px' }}>\n      <Row>\n        <Col span={8} offset={6}>\n          <div style={{ textAlign: 'center' }}>\n            <Tooltip title={<AddressTip copyable>{signerAddress}</AddressTip>}>\n              <a href={href} target=\"_blank\" rel=\"noreferrer\">\n                {truncatedAddress}\n              </a>\n            </Tooltip>\n          </div>\n        </Col>\n        <Col span={8} offset={2}>\n          <div style={{ float: 'right' }}>\n            <Button size=\"small\" onClick={() => setModalVisible(true)}>\n              change\n            </Button>\n          </div>\n        </Col>\n      </Row>\n    </div>\n  );\n});\n\nconst AddressTip = styled(Typography.Text)`\n  color: #ffffff;\n`;\n","import { SyncOutlined, CheckCircleTwoTone, UsbOutlined } from '@ant-design/icons';\nimport { AbstractWallet } from '@ckitjs/base';\nimport { List, Modal, Space, Typography } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { displayWalletName, WalletContainer } from 'containers/WalletContainer';\n\nconst ModalBorderWrapper = styled.div`\n  .ant-list-item {\n    padding: 4px 0;\n    margin: 4px 0;\n    border-radius: 8px;\n    border: 1px solid rgba(0, 0, 0, 0);\n\n    &:hover {\n      border: 1px solid rgba(0, 0, 0, 0.2);\n      border-radius: 8px;\n      cursor: pointer;\n    }\n  }\n`;\n\nexport const WalletList = observer(() => {\n  const { wallets, setCurrentWalletName, visible, setError, setModalVisible } = WalletContainer.useContainer();\n\n  return (\n    <Modal\n      closable\n      title={'Choose wallets'}\n      width={312}\n      visible={visible}\n      onCancel={() => setModalVisible(false)}\n      footer={null}\n    >\n      <ModalBorderWrapper>\n        <List\n          pagination={false}\n          dataSource={wallets}\n          renderItem={(item, index) => (\n            <List.Item\n              onClick={() => {\n                setError(null);\n                if (item.connectStatus === 'disconnected') {\n                  item.connect();\n                }\n                if (item.connectStatus === 'connected') {\n                  setCurrentWalletName(item.descriptor.name);\n                  setModalVisible(false);\n                }\n              }}\n            >\n              <WalletListItem wallet={item} index={index} />\n            </List.Item>\n          )}\n        />\n      </ModalBorderWrapper>\n    </Modal>\n  );\n});\n\nexport interface WalletListItemProps {\n  wallet: AbstractWallet;\n  index: number;\n}\n\nexport const WalletListItem = observer((props: WalletListItemProps) => {\n  const { wallet, index } = props;\n  const { error } = WalletContainer.useContainer();\n  if (wallet.connectStatus === 'disconnected') {\n    return (\n      <div>\n        <Space>\n          {displayWalletName(wallet.descriptor.name)}\n          <UsbOutlined />\n        </Space>\n        {error && error.index === index && <Typography.Text type=\"danger\"> {error.error.message}</Typography.Text>}\n      </div>\n    );\n  }\n  if (wallet.connectStatus === 'connecting') {\n    return (\n      <div>\n        <Space>\n          {displayWalletName(wallet.descriptor.name)}\n          <SyncOutlined spin />\n        </Space>\n      </div>\n    );\n  }\n  return (\n    <div>\n      <Space>\n        {displayWalletName(wallet.descriptor.name)}\n        <CheckCircleTwoTone />\n      </Space>\n    </div>\n  );\n});\n","import { Typography, Row, Col } from 'antd';\nimport React from 'react';\nimport { StyledCardWrapper } from 'components/Styled';\nimport { WalletList, WalletChange, WalletConnect } from 'components/Wallet';\n\nexport const AccountView: React.FC = () => {\n  return (\n    <StyledCardWrapper>\n      <div style={{ marginBottom: '24px' }}>\n        <Row>\n          <Col span={12}>\n            <Typography.Title level={3}> Account </Typography.Title>\n          </Col>\n          <Col span={12}>\n            <div style={{ float: 'right', paddingTop: '5px' }}>\n              <WalletConnect />\n            </div>\n          </Col>\n        </Row>\n      </div>\n      <WalletList />\n      <WalletChange />\n    </StyledCardWrapper>\n  );\n};\n","import { LoadingOutlined } from '@ant-design/icons';\nimport { Typography } from 'antd';\nimport React from 'react';\nimport { useQuery } from 'react-query';\nimport { CkitProviderContainer, WalletContainer } from 'containers';\nimport { AssetMeta } from 'hooks';\nimport { AssetAmount } from 'utils';\n\ntype AssetBalanceProps = Pick<AssetMeta, 'decimal'> & { script: AssetMeta['script'] };\n\nexport const AssetBalance: React.FC<AssetBalanceProps> = (props) => {\n  const { script, decimal } = props;\n  const ckitProvider = CkitProviderContainer.useContainer();\n  const { signerAddress } = WalletContainer.useContainer();\n  const query = useQuery(\n    ['queryBalance', { script: script, address: signerAddress }],\n    () => {\n      if (!ckitProvider || !signerAddress) throw new Error('exception: signer should exist');\n      if (script) {\n        return ckitProvider.getUdtBalance(signerAddress, script);\n      }\n      return ckitProvider.getCkbLiveCellsBalance(signerAddress);\n    },\n    {\n      enabled: !!signerAddress,\n    },\n  );\n  if (query.isError) {\n    return <Typography.Text type=\"danger\">error</Typography.Text>;\n  }\n  if (query.data) {\n    return <Typography.Text>{AssetAmount.fromRaw(query.data, decimal).toHumanizeString()}</Typography.Text>;\n  }\n  return <LoadingOutlined />;\n};\n","import { Address, HexNumber } from '@ckb-lumos/base';\nimport { CkbTypeScript } from '@ckitjs/base';\nimport { Button, Col, Input, Modal, Row, Typography, Select } from 'antd';\nimport { useFormik } from 'formik';\nimport React, { useCallback, useMemo, useState } from 'react';\nimport { useQuery } from 'react-query';\nimport { CkitProviderContainer, WalletContainer } from 'containers';\nimport { AssetMeta, useFormValidate, useSendIssueTx, useSendTransferTx } from 'hooks';\nimport { AssetAmount } from 'utils';\n\ntype AssetMetaProps = Pick<AssetMeta, 'symbol' | 'decimal'> & { script: AssetMeta['script'] };\n\nexport const SendButton: React.FC<AssetMetaProps> = (props) => {\n  const { script, decimal } = props;\n  const [visible, setVisible] = useState<boolean>(false);\n  const provider = CkitProviderContainer.useContainer();\n  const { signerAddress } = WalletContainer.useContainer();\n\n  const issuableSudtScript = useMemo<CkbTypeScript>(() => {\n    if (!provider) throw new Error('excepiton: provider undefined');\n    if (!signerAddress) throw new Error('excepiton: signerAddress undefined');\n    return provider.newSudtScript(signerAddress);\n  }, [provider, signerAddress]);\n\n  const isMint =\n    props.script?.code_hash === issuableSudtScript.code_hash &&\n    props.script.hash_type === issuableSudtScript.hash_type &&\n    props.script.args === issuableSudtScript.args;\n\n  const buttonContent = isMint ? 'mint' : 'send';\n\n  const query = useQuery(\n    ['queryBalance', { script: script, address: signerAddress }],\n    () => {\n      if (!provider || !signerAddress) throw new Error('exception: signer should exist');\n      if (script) {\n        return provider.getUdtBalance(signerAddress, script);\n      }\n      return provider.getCkbLiveCellsBalance(signerAddress);\n    },\n    {\n      enabled: !!signerAddress,\n    },\n  );\n\n  const disabled =\n    !isMint &&\n    (query.isLoading || query.isError || !query.data || AssetAmount.fromRaw(query.data, decimal).rawAmount.eq(0));\n\n  return (\n    <div>\n      <Button type=\"link\" disabled={disabled} onClick={() => setVisible(true)}>\n        {buttonContent}\n      </Button>\n      <ModalForm visible={visible} setVisible={setVisible} assetMeta={props} isMint={isMint} />\n    </div>\n  );\n};\n\ninterface ModalFormProps {\n  visible: boolean;\n  setVisible: (visible: boolean) => void;\n  assetMeta: AssetMetaProps;\n  isMint: boolean;\n}\n\ninterface ModalFormValues {\n  policy: 'findAcp' | 'createCell';\n  recipient: Address;\n  amount: HexNumber;\n}\n\ninterface ModalFormErrors {\n  policy?: string;\n  recipient?: string;\n  amount?: string;\n}\n\nexport const ModalForm: React.FC<ModalFormProps> = (props) => {\n  const { visible, setVisible, assetMeta, isMint } = props;\n\n  const { validateCkbAddress, validateIssueAcpAddress, validateTransferAddress, validateAmount } = useFormValidate();\n  const { mutateAsync: sendTransferTransaction, isLoading: isTransferLoading } = useSendTransferTx();\n  const { mutateAsync: sendIssueTransaction, isLoading: isIssueLoading } = useSendIssueTx();\n\n  const initialValues: ModalFormValues = { policy: 'findAcp', recipient: '', amount: '' };\n  const title = (isMint ? 'Mint ' : 'Send ') + assetMeta.symbol;\n  const onSubmit = useCallback(\n    (values: ModalFormValues) => {\n      if (isMint) {\n        sendIssueTransaction({\n          policy: values.policy,\n          recipient: values.recipient,\n          amount: AssetAmount.fromHumanize(values.amount, assetMeta.decimal).toRawString(),\n          operationKind: 'issue',\n        }).then(() => setVisible(false));\n      } else {\n        sendTransferTransaction({\n          policy: values.policy,\n          recipient: values.recipient,\n          amount: AssetAmount.fromHumanize(values.amount, assetMeta.decimal).toRawString(),\n          script: assetMeta.script,\n        }).then(() => setVisible(false));\n      }\n    },\n    [isMint, sendIssueTransaction, sendTransferTransaction, assetMeta, setVisible],\n  );\n  const loading = isMint ? isIssueLoading : isTransferLoading;\n\n  const validate = async (values: ModalFormValues): Promise<ModalFormErrors> => {\n    const errors: ModalFormErrors = {};\n\n    if (isMint) {\n      // issue sudt\n      if (!assetMeta.script) throw new Error('exception: issued sudt should have script');\n\n      if (values.policy === 'findAcp') {\n        const recipientError = await validateIssueAcpAddress(values.recipient, assetMeta.script);\n        if (recipientError) errors.recipient = recipientError;\n      } else {\n        const recipientError = await validateCkbAddress(values.recipient);\n        if (recipientError) errors.recipient = recipientError;\n      }\n    } else {\n      if (assetMeta.script && values.policy === 'findAcp') {\n        // transfer sudt & use findAcp\n        const recipientError = await validateTransferAddress(values.recipient, assetMeta.script);\n        if (recipientError) errors.recipient = recipientError;\n      } else {\n        // transfer ckb\n        const recipientError = await validateCkbAddress(values.recipient);\n        if (recipientError) errors.recipient = recipientError;\n      }\n    }\n    if (!values.recipient) errors.recipient = 'recipient required';\n\n    const amountError = validateAmount(values.amount, assetMeta.decimal);\n    if (amountError) errors.amount = amountError;\n    if (!values.amount) errors.amount = 'amount required';\n\n    return errors;\n  };\n\n  const formik = useFormik({\n    initialValues,\n    validate,\n    onSubmit,\n  });\n\n  const onCancel = useCallback(() => {\n    formik.resetForm();\n    setVisible(false);\n  }, [formik, setVisible]);\n\n  return (\n    <Modal title={title} closable width={312} visible={visible} onCancel={onCancel} footer={null}>\n      <div>\n        <Row justify=\"center\" align=\"middle\">\n          <Col span={7}>\n            <label htmlFor=\"policy\">policy:</label>\n          </Col>\n          <Col span={16}>\n            <Select\n              style={{ width: '100%' }}\n              {...formik.getFieldProps('policy')}\n              onChange={(value) => formik.setFieldValue('policy', value)}\n            >\n              <Select.Option key=\"findAcp\" value=\"findAcp\">\n                findAcp\n              </Select.Option>\n              <Select.Option key=\"createCell\" value=\"createCell\">\n                createCell\n              </Select.Option>\n            </Select>\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row justify=\"center\" align=\"middle\">\n          <Col span={7}>\n            <label htmlFor=\"recipient\">recipient</label>\n          </Col>\n          <Col span={16}>\n            <Input id=\"recipient\" placeholder=\"ckb address\" {...formik.getFieldProps('recipient')} />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.recipient && formik.errors.recipient && (\n              <Typography.Text type=\"danger\">{formik.errors.recipient}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row justify=\"center\" align=\"middle\">\n          <Col span={7}>\n            <label htmlFor=\"amount\">amount:</label>\n          </Col>\n          <Col span={16}>\n            <Input id=\"amount\" {...formik.getFieldProps('amount')} />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.amount && formik.errors.amount && (\n              <Typography.Text type=\"danger\">{formik.errors.amount}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '30px', textAlign: 'center' }}>\n        <Button loading={loading} onClick={formik.submitForm}>\n          submit\n        </Button>\n      </div>\n    </Modal>\n  );\n};\n","import { Address, HexNumber } from '@ckb-lumos/base';\nimport { AcpTransferSudtBuilder, TransferCkbBuilder, CkitProvider, EntrySigner } from '@ckitjs/ckit';\nimport { useMutation, UseMutationResult } from 'react-query';\nimport { AssetMeta } from './useAssetMetaStorage';\nimport { useSendTransaction } from './useSendTransaction';\n\nexport interface SendTransferTxInput {\n  policy?: 'createCell' | 'findAcp';\n  recipient: Address;\n  amount: HexNumber;\n  script: AssetMeta['script'];\n}\n\nexport function useSendTransferTx(): UseMutationResult<unknown, unknown, SendTransferTxInput> {\n  const { mutateAsync: sendTransaction } = useSendTransaction();\n\n  return useMutation(['sendTransferTx'], async (input: SendTransferTxInput) => {\n    const buildTx = async (provider: CkitProvider, signer: EntrySigner) => {\n      if (input.script) {\n        const txBuilder = new AcpTransferSudtBuilder(\n          {\n            recipients: [\n              {\n                recipient: input.recipient,\n                sudt: input.script,\n                amount: input.amount,\n                policy: input.policy || 'findAcp',\n              },\n            ],\n          },\n          provider,\n          await signer.getAddress(),\n        );\n        return txBuilder.build();\n      } else {\n        const txBuilder = new TransferCkbBuilder(\n          {\n            recipients: [\n              { recipient: input.recipient, amount: input.amount, capacityPolicy: input.policy || 'createCell' },\n            ],\n          },\n          provider,\n          await signer.getAddress(),\n        );\n        return txBuilder.build();\n      }\n    };\n\n    await sendTransaction(buildTx);\n  });\n}\n","import { Table } from 'antd';\nimport { ColumnsType } from 'antd/lib/table';\nimport React from 'react';\nimport { AssetBalance } from './AssetBalance';\nimport { SendButton } from './SendButton';\nimport { AssetMeta, useAssetMetaStorage } from 'hooks';\n\nexport const AssetList: React.FC = () => {\n  const { assetsMeta } = useAssetMetaStorage();\n  const columns: ColumnsType<AssetMeta> = [\n    {\n      render: (value, record) => <div>{record.symbol}</div>,\n    },\n    {\n      render: (value, record) => <AssetBalance decimal={record.decimal} script={record.script} />,\n    },\n    {\n      render: (value, record) => <SendButton symbol={record.symbol} decimal={record.decimal} script={record.script} />,\n    },\n  ];\n\n  return (\n    <div>\n      <Table size=\"small\" showHeader={false} columns={columns} dataSource={assetsMeta} pagination={{ pageSize: 5 }} />\n    </div>\n  );\n};\n","import { Hash, HashType, HexString } from '@ckb-lumos/base';\nimport { Button, ButtonProps, Col, Input, InputNumber, Modal, Radio, Row, Typography } from 'antd';\nimport { useFormik } from 'formik';\nimport React, { useCallback, useState } from 'react';\nimport { AssetMeta, useAssetMetaStorage } from 'hooks';\nimport { isValidHexString } from 'utils';\n\ninterface AddAssetButtonProps extends ButtonProps {\n  initialAssetMeta?: Partial<ModalFormValues>;\n  buttonContent?: string;\n}\n\nexport const AddAssetButton: React.FC<AddAssetButtonProps> = (props) => {\n  const { initialAssetMeta, buttonContent, ...buttonProps } = props;\n  const [visible, setVisible] = useState<boolean>(false);\n  return (\n    <div>\n      <Button {...buttonProps} onClick={() => setVisible(true)}>\n        {buttonContent ? buttonContent : ''}\n      </Button>\n      <ModalForm visible={visible} setVisible={setVisible} initialAssetMeta={initialAssetMeta} />\n    </div>\n  );\n};\n\ninterface ModalFormProps {\n  visible: boolean;\n  setVisible: (visible: boolean) => void;\n  initialAssetMeta?: Partial<ModalFormValues>;\n}\n\ninterface ModalFormValues {\n  symbol: string;\n  decimal: number;\n  codeHash: Hash;\n  hashType: HashType;\n  args: HexString;\n}\n\ninterface ModalFormErrors {\n  symbol?: string;\n  decimal?: string;\n  codeHash?: string;\n  hashType?: string;\n  args?: string;\n}\n\nexport const ModalForm: React.FC<ModalFormProps> = (props) => {\n  const { visible, setVisible, initialAssetMeta } = props;\n\n  const { addAssetMeta } = useAssetMetaStorage();\n\n  const initialValues: ModalFormValues = {\n    symbol: initialAssetMeta?.symbol ? initialAssetMeta.symbol : '',\n    decimal: initialAssetMeta?.decimal ? initialAssetMeta.decimal : 8,\n    codeHash: initialAssetMeta?.codeHash ? initialAssetMeta.codeHash : '',\n    hashType: initialAssetMeta?.hashType ? initialAssetMeta.hashType : 'type',\n    args: initialAssetMeta?.args ? initialAssetMeta.args : '',\n  };\n\n  const validate = (values: ModalFormValues): ModalFormErrors => {\n    const errors: ModalFormErrors = {};\n    if (!values.symbol) {\n      errors.symbol = 'symbol required';\n    }\n    if (values.decimal <= 0) {\n      errors.decimal = 'decimal should be greater than 0';\n    }\n    if (!values.codeHash) {\n      errors.codeHash = 'code hash required';\n    } else {\n      if (!isValidHexString(values.codeHash)) {\n        errors.codeHash = 'code hash invalid hex string';\n      }\n    }\n    if (!values.args) {\n      errors.args = 'args required';\n    } else {\n      if (!isValidHexString(values.args)) {\n        errors.args = 'args invalid hex string';\n      }\n    }\n    return errors;\n  };\n\n  const formik = useFormik({\n    initialValues,\n    validate,\n    onSubmit: (values: ModalFormValues, { setSubmitting }) => {\n      const newAssetMeta: AssetMeta = {\n        symbol: values.symbol,\n        decimal: values.decimal,\n        script: {\n          code_hash: values.codeHash,\n          hash_type: values.hashType,\n          args: values.args,\n        },\n      };\n      addAssetMeta(newAssetMeta);\n      setSubmitting(false);\n      setVisible(false);\n    },\n  });\n\n  const onCancel = useCallback(() => {\n    formik.resetForm();\n    setVisible(false);\n  }, [formik, setVisible]);\n\n  return (\n    <Modal title=\"Add asset\" closable width={312} visible={visible} onCancel={onCancel} footer={null}>\n      <div>\n        <Row align=\"middle\">\n          <Col span={8}>\n            <label htmlFor=\"symbol\">symbol:</label>\n          </Col>\n          <Col span={16}>\n            <Input id=\"symbol\" {...formik.getFieldProps('symbol')} />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.symbol && formik.errors.symbol && (\n              <Typography.Text type=\"danger\">{formik.errors.symbol}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row align=\"middle\">\n          <Col span={8}>\n            <label htmlFor=\"decimal\">decimal:</label>\n          </Col>\n          <Col span={16}>\n            <InputNumber\n              id=\"decimal\"\n              onChange={(value) => {\n                void formik.setFieldValue('decimal', value, true);\n              }}\n              onBlur={formik.handleBlur}\n              value={formik.values.decimal}\n            />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.decimal && formik.errors.decimal && (\n              <Typography.Text type=\"danger\">{formik.errors.decimal}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row align=\"middle\">\n          <Col span={8}>\n            <label htmlFor=\"codeHash\">code hash:</label>\n          </Col>\n          <Col span={16}>\n            <Input id=\"codeHash\" {...formik.getFieldProps('codeHash')} />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.codeHash && formik.errors.codeHash && (\n              <Typography.Text type=\"danger\">{formik.errors.codeHash}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row align=\"middle\">\n          <Col span={8}>\n            <label htmlFor=\"hashType\">hash type:</label>\n          </Col>\n          <Col span={16}>\n            <Radio.Group id=\"hashType\" name=\"hashType\" onChange={formik.handleChange} value={formik.values.hashType}>\n              <Radio value=\"type\">type</Radio>\n              <Radio value=\"data\">data</Radio>\n            </Radio.Group>\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.hashType && formik.errors.hashType && (\n              <Typography.Text type=\"danger\">{formik.errors.hashType}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row align=\"middle\">\n          <Col span={8}>\n            <label htmlFor=\"args\">args:</label>\n          </Col>\n          <Col span={16}>\n            <Input id=\"args\" {...formik.getFieldProps('args')} />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.args && formik.errors.args && (\n              <Typography.Text type=\"danger\">{formik.errors.args}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '36px', textAlign: 'center' }}>\n        <Button onClick={formik.submitForm}>submit</Button>\n      </div>\n    </Modal>\n  );\n};\n","import { PlusCircleOutlined } from '@ant-design/icons';\nimport { Col, Empty, Row, Typography } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport { AddAssetButton, AssetList } from 'components/Assets';\nimport { StyledCardWrapper } from 'components/Styled';\nimport { WalletContainer } from 'containers/WalletContainer';\n\nexport const AssetsView: React.FC = observer(() => {\n  const { signerAddress } = WalletContainer.useContainer();\n  return (\n    <div>\n      <StyledCardWrapper>\n        <div style={{ marginBottom: '12px' }}>\n          <Row>\n            <Col span={12}>\n              <Typography.Title level={3}> Asset </Typography.Title>\n            </Col>\n            <Col span={12}>\n              <div style={{ float: 'right' }}>\n                {signerAddress && (\n                  <AddAssetButton type=\"link\" size=\"large\" icon={<PlusCircleOutlined style={{ fontSize: '24px' }} />} />\n                )}\n              </div>\n            </Col>\n          </Row>\n        </div>\n        <div>\n          {signerAddress && <AssetList />}\n          {!signerAddress && <Empty />}\n        </div>\n      </StyledCardWrapper>\n    </div>\n  );\n});\n","import { utils } from '@ckb-lumos/base';\nimport { CkbTypeScript } from '@ckitjs/base';\nimport { Tooltip, Typography, Row, Col } from 'antd';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { useConfigStorage } from 'hooks';\nimport { truncateMiddle } from 'utils';\n\ninterface AssetMetaDisplayProps {\n  symbol: string;\n  decimal: string;\n  script: CkbTypeScript;\n}\n\nexport const AssetMetaDisplay: React.FC<AssetMetaDisplayProps> = (props) => {\n  const { symbol, decimal, script } = props;\n  const [localConfig] = useConfigStorage();\n  const scriptHash = utils.computeScriptHash(script);\n\n  return (\n    <div style={{ marginTop: '24px' }}>\n      <Row>\n        <Col span={7} offset={3}>\n          <Typography.Text>symbol:</Typography.Text>\n        </Col>\n        <Col span={14}>\n          <Typography.Text>{symbol}</Typography.Text>\n        </Col>\n      </Row>\n      <Row style={{ marginTop: '8px' }}>\n        <Col span={7} offset={3}>\n          <Typography.Text>decimal:</Typography.Text>\n        </Col>\n        <Col span={14}>\n          <Typography.Text>{decimal}</Typography.Text>\n        </Col>\n      </Row>\n      <Row style={{ marginTop: '8px' }}>\n        <Col span={7} offset={3}>\n          <Typography.Text>script hash:</Typography.Text>\n        </Col>\n        <Col span={14}>\n          <Tooltip title={<ScriptTip copyable>{JSON.stringify(script)}</ScriptTip>}>\n            <Typography.Link\n              href={localConfig.nervosExploreSudtUrlPrefix + scriptHash}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              {truncateMiddle(scriptHash, 8)}\n            </Typography.Link>\n          </Tooltip>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nconst ScriptTip = styled(Typography.Text)`\n  color: #ffffff;\n`;\n","import { Address, HexNumber } from '@ckb-lumos/base';\nimport { Button, Col, Input, Modal, Row, Typography, Select } from 'antd';\nimport { useFormik } from 'formik';\nimport { observer } from 'mobx-react-lite';\nimport React, { useCallback, useState } from 'react';\nimport { AssetMeta, useFormValidate, useSendIssueTx } from 'hooks';\nimport { AssetAmount } from 'utils';\n\ntype OperationKind = 'invite' | 'issue';\n\ninterface IssueOperationProps {\n  assetMeta: AssetMeta;\n}\n\nexport const IssueOperation = observer((props: IssueOperationProps) => {\n  const { assetMeta } = props;\n  const [visible, setVisible] = useState<boolean>(false);\n  const [operationKind, setOperationKind] = useState<OperationKind>('invite');\n\n  const onClickInvite = () => {\n    setOperationKind('invite');\n    setVisible(true);\n  };\n  const onClickIssue = () => {\n    setOperationKind('issue');\n    setVisible(true);\n  };\n\n  return (\n    <div style={{ marginBottom: '12px' }}>\n      <Row>\n        <Col span={4} offset={4}>\n          <Button onClick={onClickInvite}>invite</Button>\n        </Col>\n        <Col span={4} offset={8}>\n          <Button onClick={onClickIssue}>issue</Button>\n        </Col>\n      </Row>\n      <ModalForm visible={visible} setVisible={setVisible} operationKind={operationKind} assetMeta={assetMeta} />\n    </div>\n  );\n});\n\ninterface ModalFormProps {\n  visible: boolean;\n  setVisible: (visible: boolean) => void;\n  operationKind: OperationKind;\n  assetMeta: AssetMeta;\n}\n\ninterface ModalFormValues {\n  inviteRecipient: Address;\n  issueRecipient: Address;\n  issuePolicy: 'findAcp' | 'createCell';\n  amount: HexNumber;\n}\n\ninterface ModalFormErrors {\n  inviteRecipient?: string;\n  issueRecipient?: string;\n  amount?: string;\n}\n\nexport const ModalForm: React.FC<ModalFormProps> = (props) => {\n  const { visible, setVisible, operationKind, assetMeta } = props;\n\n  const { validateInviteAddress, validateIssueAcpAddress, validateAmount } = useFormValidate();\n  const { mutateAsync: sendIssueTransaction, isLoading: isIssueLoading } = useSendIssueTx();\n\n  const initialValues: ModalFormValues = {\n    inviteRecipient: '',\n    issueRecipient: '',\n    amount: '',\n    issuePolicy: 'findAcp',\n  };\n  const title = operationKind === 'invite' ? 'Invite user' : 'Issue ' + assetMeta.symbol;\n  const recipientFieldDisplayName = operationKind === 'invite' ? 'user:' : 'recipient:';\n\n  const validate = async (values: ModalFormValues): Promise<ModalFormErrors> => {\n    if (!assetMeta.script) throw new Error('exception: issued sudt should have script');\n    const errors: ModalFormErrors = {};\n\n    if (operationKind === 'invite') {\n      if (!values.inviteRecipient) {\n        errors.inviteRecipient = 'recipient required';\n      } else {\n        const error = await validateInviteAddress(values.inviteRecipient, assetMeta.script);\n        if (error) errors.inviteRecipient = error;\n      }\n    }\n\n    if (operationKind === 'issue') {\n      if (!values.issueRecipient) {\n        errors.issueRecipient = 'recipient required';\n      } else if (values.issuePolicy === 'findAcp') {\n        const recipientError = await validateIssueAcpAddress(values.issueRecipient, assetMeta.script);\n        if (recipientError) errors.issueRecipient = recipientError;\n      } else {\n        const recipientError = await validateInviteAddress(values.issueRecipient, assetMeta.script);\n        if (recipientError) errors.issueRecipient = recipientError;\n      }\n      if (!values.amount) {\n        errors.amount = 'amount required';\n      } else {\n        const amountError = validateAmount(values.amount, assetMeta.decimal);\n        if (amountError) errors.amount = amountError;\n      }\n    }\n\n    return errors;\n  };\n\n  const formik = useFormik({\n    initialValues,\n    validate,\n    onSubmit: (values: ModalFormValues) => {\n      sendIssueTransaction({\n        recipient: operationKind === 'issue' ? values.issueRecipient : values.inviteRecipient,\n        amount: AssetAmount.fromHumanize(values.amount, assetMeta.decimal).toRawString(),\n        operationKind: operationKind,\n        policy: values.issuePolicy,\n      }).then(() => setVisible(false));\n    },\n  });\n\n  const onCancel = useCallback(() => {\n    formik.resetForm();\n    setVisible(false);\n  }, [formik, setVisible]);\n\n  return (\n    <Modal title={title} closable width={312} visible={visible} onCancel={onCancel} footer={null}>\n      {operationKind === 'invite' && (\n        <div>\n          <Row justify=\"center\" align=\"middle\">\n            <Col span={4}>\n              <label htmlFor=\"inviteRecipient\">{recipientFieldDisplayName}</label>\n            </Col>\n            <Col span={16}>\n              <Input id=\"inviteRecipient\" placeholder=\"ckb address\" {...formik.getFieldProps('inviteRecipient')} />\n            </Col>\n          </Row>\n          <Row>\n            <Col offset={6}>\n              {formik.touched.inviteRecipient && formik.errors.inviteRecipient && (\n                <Typography.Text type=\"danger\">{formik.errors.inviteRecipient}</Typography.Text>\n              )}\n            </Col>\n          </Row>\n        </div>\n      )}\n\n      {operationKind === 'issue' && (\n        <div>\n          <div>\n            <Row justify=\"center\" align=\"middle\">\n              <Col span={7}>\n                <label htmlFor=\"issuePolicy\">policy:</label>\n              </Col>\n              <Col span={16}>\n                <Select\n                  style={{ width: '100%' }}\n                  {...formik.getFieldProps('issuePolicy')}\n                  onChange={(value) => formik.setFieldValue('issuePolicy', value)}\n                >\n                  <Select.Option key=\"findAcp\" value=\"findAcp\">\n                    findAcp\n                  </Select.Option>\n                  <Select.Option key=\"createCell\" value=\"createCell\">\n                    createCell\n                  </Select.Option>\n                </Select>\n              </Col>\n            </Row>\n          </div>\n\n          <div style={{ marginTop: '24px' }}>\n            <Row justify=\"center\" align=\"middle\">\n              <Col span={7}>\n                <label htmlFor=\"issueRecipient\">{recipientFieldDisplayName}</label>\n              </Col>\n              <Col span={16}>\n                <Input id=\"issueRecipient\" placeholder=\"ckb address\" {...formik.getFieldProps('issueRecipient')} />\n              </Col>\n            </Row>\n            <Row>\n              <Col offset={8}>\n                {formik.touched.issueRecipient && formik.errors.issueRecipient && (\n                  <Typography.Text type=\"danger\">{formik.errors.issueRecipient}</Typography.Text>\n                )}\n              </Col>\n            </Row>\n          </div>\n\n          <div style={{ marginTop: '24px' }}>\n            <Row justify=\"center\" align=\"middle\">\n              <Col span={7}>\n                <label htmlFor=\"amount\">amount:</label>\n              </Col>\n              <Col span={16}>\n                <Input id=\"amount\" {...formik.getFieldProps('amount')} />\n              </Col>\n            </Row>\n            <Row>\n              <Col offset={8}>\n                {formik.touched.amount && formik.errors.amount && (\n                  <Typography.Text type=\"danger\">{formik.errors.amount}</Typography.Text>\n                )}\n              </Col>\n            </Row>\n          </div>\n        </div>\n      )}\n\n      <div style={{ marginTop: '30px', textAlign: 'center' }}>\n        <Button loading={isIssueLoading} onClick={formik.submitForm}>\n          submit\n        </Button>\n      </div>\n    </Modal>\n  );\n};\n","import { CkbTypeScript } from '@ckitjs/base';\nimport React, { useMemo } from 'react';\nimport { AddAssetButton } from '../Assets';\nimport { AssetMetaDisplay } from './AssetMetaDisplay';\nimport { IssueOperation } from './IssueOperation';\nimport { CkitProviderContainer } from 'containers';\nimport { AssetMeta, useAssetMetaStorage } from 'hooks';\n\ninterface IssueAreaProps {\n  issuerAddress: string;\n}\n\nexport const IssueArea: React.FC<IssueAreaProps> = (props) => {\n  const { issuerAddress } = props;\n  const provider = CkitProviderContainer.useContainer();\n  const { assetsMeta } = useAssetMetaStorage();\n\n  const udtScript = useMemo<CkbTypeScript>(() => {\n    if (!provider) throw new Error('excepiton: provider undefined');\n    return provider.newSudtScript(issuerAddress);\n  }, [provider, issuerAddress]);\n\n  const assetMeta = useMemo<AssetMeta | undefined>(() => {\n    return assetsMeta.find(\n      (value) =>\n        value.script?.hash_type === udtScript.hash_type &&\n        value.script.code_hash === udtScript.code_hash &&\n        value.script.args === udtScript.args,\n    );\n  }, [udtScript, assetsMeta]);\n\n  const symbol = assetMeta ? assetMeta.symbol : '?';\n  const decimal = assetMeta ? assetMeta.decimal.toString() : '?';\n\n  return (\n    <>\n      <AssetMetaDisplay symbol={symbol} decimal={decimal} script={udtScript} />\n      <div style={{ marginTop: '36px', textAlign: 'center' }}>\n        {!assetMeta && (\n          <AddAssetButton\n            type=\"primary\"\n            buttonContent=\"Add asset info\"\n            initialAssetMeta={{\n              codeHash: udtScript.code_hash,\n              hashType: udtScript.hash_type,\n              args: udtScript.args,\n            }}\n          />\n        )}\n        {assetMeta && <IssueOperation assetMeta={assetMeta} />}\n      </div>\n    </>\n  );\n};\n","import { Empty, Typography } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport { IssueArea } from 'components/Issue';\nimport { StyledCardWrapper } from 'components/Styled';\nimport { WalletContainer } from 'containers/WalletContainer';\n\nexport const IssueView: React.FC = observer(() => {\n  const { currentWallet, signerAddress } = WalletContainer.useContainer();\n  const isSupportIssue = currentWallet?.checkSupported('issue-sudt');\n\n  return (\n    <div>\n      {isSupportIssue && (\n        <StyledCardWrapper>\n          <div>\n            <Typography.Title level={3}> Issue </Typography.Title>\n          </div>\n          {!signerAddress && <Empty />}\n          {signerAddress && <IssueArea issuerAddress={signerAddress} />}\n        </StyledCardWrapper>\n      )}\n    </div>\n  );\n});\n","import React from 'react';\nimport styled from 'styled-components';\nimport { AccountView } from './Account';\nimport { AssetsView } from './Assets';\nimport { IssueView } from './Issue';\n\nexport const AppView: React.FC = () => {\n  return (\n    <BodyWrapper>\n      <div className=\"app\">\n        <AccountView />\n        <IssueView />\n        <AssetsView />\n      </div>\n    </BodyWrapper>\n  );\n};\n\nconst BodyWrapper = styled.div`\n  padding-bottom: 32px;\n  min-height: 100vh;\n  background: linear-gradient(111.44deg, #a6ded2 0%, #8c99c2 100%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n","import React from 'react';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { OnIncomplete } from 'components/OnLoaded';\nimport { CkitProviderContainer, WalletContainer } from 'containers';\nimport { AppView } from 'views';\nimport './App.less';\n\nconst App: React.FC = () => {\n  const queryClient = new QueryClient();\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <CkitProviderContainer.Provider>\n        <WalletContainer.Provider>\n          <OnIncomplete>\n            <AppView />\n          </OnIncomplete>\n        </WalletContainer.Provider>\n      </CkitProviderContainer.Provider>\n    </QueryClientProvider>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    void import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RecipientSameWithSenderError = exports.NoEnoughUdtError = exports.NoEnoughCkbError = exports.NoAvailableCellError = exports.CkitError = void 0;\n\nclass CkitError extends Error {\n  constructor(metadata, message) {\n    super(message);\n    this.metadata = metadata;\n  }\n\n}\n\nexports.CkitError = CkitError;\n\nclass NoAvailableCellError extends CkitError {\n  constructor(metadata, message = 'Cannot find available cell') {\n    super(metadata, message);\n  }\n\n}\n\nexports.NoAvailableCellError = NoAvailableCellError;\n\nclass NoEnoughCkbError extends CkitError {\n  constructor(metadata, message = `Ckb is not enough, expected minimal amount: ${metadata.expected}, actual: ${metadata.actual}`) {\n    super(metadata, message);\n  }\n\n}\n\nexports.NoEnoughCkbError = NoEnoughCkbError;\n\nclass NoEnoughUdtError extends CkitError {\n  constructor(metadata, message = `Udt is not enough, expected minimal amount: ${metadata.expected}, actual: ${metadata.actual}`) {\n    super(metadata, message);\n  }\n\n}\n\nexports.NoEnoughUdtError = NoEnoughUdtError;\n\nclass RecipientSameWithSenderError extends CkitError {\n  constructor(metadata, message = `The recipient and sender cannot be the same one`) {\n    super(metadata, message);\n  }\n\n}\n\nexports.RecipientSameWithSenderError = RecipientSameWithSenderError;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractPwSenderBuilder = void 0;\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nvar _lodash = require(\"lodash\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _utils = require(\"../../utils\");\n\nvar _config = require(\"../unipass/config\");\n\nclass AbstractPwSenderBuilder extends _pwCore.Builder {\n  constructor(provider) {\n    super(Number(provider.config.MIN_FEE_RATE));\n    this.provider = provider;\n  }\n\n  async getCellDepByKey(key) {\n    if (key === 'RC_LOCK') {\n      return [_pw.Pw.toPwCellDep(await this.provider.getCellDep('RC_LOCK')), _pw.Pw.toPwCellDep(await this.provider.getCellDep('SECP256K1_BLAKE160'))];\n    }\n\n    if (key === 'SUDT') return [_pw.Pw.toPwCellDep(await this.provider.getCellDep('SUDT'))];\n\n    if (key === 'ANYONE_CAN_PAY') {\n      return [_pw.Pw.toPwCellDep(await this.provider.getCellDep('ANYONE_CAN_PAY')), _pw.Pw.toPwCellDep(await this.provider.getCellDep('SECP256K1_BLAKE160'))];\n    }\n\n    if (key === 'UNIPASS') return (0, _config.getCellDeps)(this.provider.config.PREFIX === 'ckb');\n\n    if (key === 'PW_ANYONE_CAN_PAY') {\n      return [_pw.Pw.toPwCellDep(await this.provider.getCellDep('PW_ANYONE_CAN_PAY')), _pw.Pw.toPwCellDep(await this.provider.getCellDep('SECP256K1_BLAKE160'))];\n    }\n\n    if (key === 'PW_NON_ANYONE_CAN_PAY') {\n      return [_pw.Pw.toPwCellDep(await this.provider.getCellDep('PW_NON_ANYONE_CAN_PAY')), _pw.Pw.toPwCellDep(await this.provider.getCellDep('SECP256K1_BLAKE160'))];\n    }\n\n    if (key === 'SECP256K1_BLAKE160') {\n      return [_pw.Pw.toPwCellDep(await this.provider.getCellDep('SECP256K1_BLAKE160'))];\n    }\n\n    if (key === 'CHEQUE') {\n      return [_pw.Pw.toPwCellDep(await this.provider.getCellDep('CHEQUE'))];\n    }\n\n    return [];\n  }\n\n  async getCellDepByScript(script) {\n    // typeid script has no deps\n    if (script.code_hash === '0x00000000000000000000000000000000000000000000000000545950455f4944') return [];\n\n    const keyToTemplate = () => {\n      const foundEntry = Object.entries(this.provider.config.SCRIPTS).find(([, config]) => {\n        return config.CODE_HASH === script.code_hash && config.HASH_TYPE === script.hash_type;\n      });\n      if (foundEntry) return foundEntry[0];\n      return undefined;\n    };\n\n    const key = keyToTemplate();\n    if (!key) throw new Error(`Unknown script, code_hash: ${script.code_hash}, hash_type: ${script.hash_type}`);\n    return await this.getCellDepByKey(key);\n  }\n\n  async getCellDeps(scripts = []) {\n    const promises = scripts.map(script => this.getCellDepByScript(script));\n    const resolved = await Promise.all(promises);\n    return (0, _lodash.uniqWith)((0, _lodash.flatMap)(resolved), (dep1, dep2) => dep1.sameWith(dep2));\n  }\n\n  async getCellDepsByCells(inputCells, outputCells) {\n    const inputLockAndTypeScripts = inputCells.flatMap(cell => cell.type ? [cell.lock.serializeJson(), cell.type.serializeJson()] : [cell.lock.serializeJson()]);\n    const outputTypeScripts = outputCells.flatMap(cell => cell.type ? [cell.type.serializeJson()] : []);\n    return await this.getCellDeps(inputLockAndTypeScripts.concat(outputTypeScripts));\n  } // TODO refactor to ConfigManager\n\n\n  getWitnessPlaceholder(address) {\n    const isTemplateOf = (key, address) => {\n      const script = this.provider.parseToScript(address);\n      const scriptConfig = this.provider.getScriptConfig(key);\n      return scriptConfig.CODE_HASH === script.code_hash && scriptConfig.HASH_TYPE === script.hash_type;\n    };\n\n    if (isTemplateOf('SECP256K1_BLAKE160', address)) {\n      return {\n        lock: '0x' + '0'.repeat(130),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('PW_NON_ANYONE_CAN_PAY', address)) {\n      return {\n        lock: '0x' + '0'.repeat(132),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('PW_NON_ANYONE_CAN_PAY', address)) {\n      return {\n        lock: '0x' + '0'.repeat(132),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('ANYONE_CAN_PAY', address)) {\n      return {\n        lock: '0x' + '0'.repeat(130),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('UNIPASS', address)) {\n      return {\n        lock: '0x' + '0'.repeat(2082),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('RC_LOCK', address)) {\n      const byteLength = (0, _rcLock.SerializeRcLockWitnessLock)({\n        signature: new _ckbJsToolkit.Reader('0x' + '0'.repeat(130))\n      }).byteLength;\n      return {\n        lock: '0x' + '0'.repeat(byteLength * 2),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    (0, _utils.boom)(`Unsupported lock ${address}`);\n  }\n\n}\n\nexports.AbstractPwSenderBuilder = AbstractPwSenderBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  SerializeRcLockWitnessLock: true,\n  SerializeUdtInfo: true,\n  UdtInfo: true\n};\nObject.defineProperty(exports, \"SerializeRcLockWitnessLock\", {\n  enumerable: true,\n  get: function () {\n    return _rcLock.SerializeRcLockWitnessLock;\n  }\n});\nObject.defineProperty(exports, \"SerializeUdtInfo\", {\n  enumerable: true,\n  get: function () {\n    return _rc_udt_info.SerializeUdtInfo;\n  }\n});\nObject.defineProperty(exports, \"UdtInfo\", {\n  enumerable: true,\n  get: function () {\n    return _rc_udt_info.UdtInfo;\n  }\n});\n\nvar _rcLock = require(\"./generated/rc-lock\");\n\nvar _rc_udt_info = require(\"./generated/rc_udt_info\");\n\nvar _rc = require(\"./rc\");\n\nObject.keys(_rc).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _rc[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _rc[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.byteLenOfSudt = byteLenOfSudt;\nexports.byteLenOfLockOnlyCell = byteLenOfLockOnlyCell;\nexports.byteLenOfRcCell = byteLenOfRcCell;\nexports.byteLenOfChequeCell = byteLenOfChequeCell;\nexports.occupiedShannon = occupiedShannon;\nexports.byteLenOfHexData = byteLenOfHexData;\nexports.toBigUint128LE = toBigUint128LE;\nexports.readBigUint128LE = readBigUint128LE;\nexports.mergeSudtCells = mergeSudtCells;\nexports.mergeLockOnlyCells = mergeLockOnlyCells;\nexports.ejectExtraCapacity = ejectExtraCapacity;\nexports.pipe = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _helpers = require(\"@ckb-lumos/helpers\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _helpers2 = require(\"../helpers\");\n\nfunction byteLenOfSudt(lockArgsByteLen = 20) {\n  return 8\n  /* capacity: u64 */\n  +\n  /* lock script */\n  32\n  /* code_hash: U256 */\n  + lockArgsByteLen + 1\n  /* hash_type: u8 */\n  +\n  /* type script */\n  32\n  /* code_hash: U256 */\n  + 32\n  /* args: U256, issuer lock hash */\n  + 1\n  /* hash_type: u8 */\n  +\n  /* output_data */\n  16\n  /* data: u128, amount, little-endian */\n  ;\n}\n\nfunction byteLenOfLockOnlyCell(lockArgsByteLen = 20) {\n  // prettier-ignore\n  return 8\n  /* capacity: u64 */\n  + 32\n  /* code_hash: U256 */\n  + lockArgsByteLen + 1\n  /* hash_type: u8 */\n  ;\n}\n/**\n *  * Data:\n *  - <1 byte version>\n *  - <16 bytes current supply>\n *  - <16 bytes max supply>\n *  - <32 bytes sUDT script hash>\n *  - info: molecule table\n *  - name: bytes\n *  - symbol: bytes\n *  - decimals: u32\n *  - description: bytes\n * Type: <Info Cell type ID>\n * Lock: <RC Lock Script 1>\n *  code_hash: RC Lock\n *  args: <flag: 1> <Eth pubkey hash> <RC lock flags: 8> <Info Cell Type Script Hash>\n * ```\n */\n\n\nfunction byteLenOfRcCell(lockArgsByteLen, typeArgsByteLen, dataLen) {\n  const typeScriptLen = typeArgsByteLen ? 32\n  /* code_hash: U256 */\n  + typeArgsByteLen\n  /* args: U256, issuer lock hash */\n  + 1\n  /* hash_type: u8 */\n  : 0; // prettier-ignore\n\n  return 8\n  /*capacity: u64*/\n  +\n  /* lock script */\n  32\n  /* code_hash: U256 */\n  + lockArgsByteLen + 1\n  /* hash_type: u8 */\n  +\n  /* type script */\n  typeScriptLen +\n  /* output_data */\n  dataLen\n  /* data: u128, amount, little-endian */\n  ;\n}\n\nfunction byteLenOfChequeCell(dataLen = 16\n/* u128 */\n) {\n  return 8\n  /*capacity: u64*/\n  +\n  /* lock script */\n  32\n  /* code_hash: U256 */\n  + 40\n  /* receiver_lock_hash[:20]+sender_lock_hash[:20] */\n  + 1\n  /* hash_type: u8 */\n  +\n  /* type script */\n  32\n  /* code_hash: U256 */\n  + 32\n  /* issuer lock hash */\n  + 1\n  /* hash_type: u8 */\n  + dataLen;\n}\n\nfunction occupiedShannon(byteLen) {\n  return '0x' + (byteLen * 10 ** 8).toString(16);\n}\n\nfunction byteLenOfHexData(data) {\n  return data.startsWith('0x') ? data.slice(2).length / 2 : data.length / 2;\n} // function compose<X1, Y1>(fn1: (x: X1) => Y1): (x: X1) => Y1;\n// function compose<X1, Y1, Y2>(fn1: (x: X1) => Y1, fn2: (x: Y1) => Y2): (x: X1) => Y2;\n// function compose<X1, Y1, Y2, Y3>(fn1: (x: X1) => Y1, fn2: (x: Y1) => Y2, fn3: (x: Y2) => Y3): (x: X1) => Y3;\n// // prettier-ignore\n// function compose<X1, Y1, Y2, Y3, Y4>( fn1: (x: X1) => Y1, fn2: (x: Y1) => Y2, fn3: (x: Y2) => Y3, fn4: (x: Y3) => Y4): (x: X1) => Y4;\n// export function compose() {\n// }\n\n\nconst pipe = (...fn) => {\n  return fn.reduce((fx, fg) => arg => fg(fx(arg)));\n};\n\nexports.pipe = pipe;\npipe(byteLenOfHexData, num => num.toString(16), x => Number(x), x => x.toFixed(3), x => x.toUpperCase());\n\nfunction toBigUint128LE(x) {\n  return _base.utils.toBigUInt128LE(BigInt(x.toString()));\n}\n\nfunction readBigUint128LE(hex) {\n  return (0, _helpers2.BN)(_base.utils.readBigUInt128LE(hex));\n}\n\nfunction mergeSudtCells({\n  cells,\n  lock\n}) {\n  if (!cells[0]) throw new Error('cells is empty');\n  const [capacity, amount] = cells.reduce(([totalCapacity, totalAmount], cell) => {\n    return [totalCapacity.plus(cell.cell_output.capacity), totalAmount.plus(readBigUint128LE(cell.data))];\n  }, [(0, _helpers2.BN)(0)\n  /* capacity */\n  , (0, _helpers2.BN)(0)\n  /* sudt amount */\n  ]);\n  lock = lock || cells[0].cell_output.lock;\n  return { ...cells[0],\n    cell_output: {\n      capacity: _utils.bytes.toHex(capacity),\n      lock,\n      type: cells[0].cell_output.type\n    },\n    data: toBigUint128LE(amount)\n  };\n}\n\nfunction mergeLockOnlyCells(cells) {\n  if (!cells[0]) throw new Error('cells is empty');\n  const totalCapacity = cells.reduce((total, cell) => total.plus(cell.cell_output.capacity), (0, _helpers2.BN)(0));\n  return { ...cells[0],\n    cell_output: { ...cells[0].cell_output,\n      capacity: _utils.bytes.toHex(totalCapacity)\n    }\n  };\n}\n\nfunction ejectExtraCapacity({\n  cell,\n  lock\n}) {\n  const refinedCell = { ...cell,\n    cell_output: { ...cell.cell_output,\n      lock\n    }\n  };\n\n  const refinedCapacity = _utils.bytes.toHex((0, _helpers.minimalCellCapacity)(refinedCell));\n\n  return [{ ...cell,\n    cell_output: { ...cell.cell_output,\n      capacity: refinedCapacity\n    }\n  }, {\n    data: '0x',\n    cell_output: {\n      capacity: _utils.bytes.toHex((0, _helpers2.BN)(cell.cell_output.capacity).minus(refinedCapacity)),\n      lock\n    }\n  }];\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"ScriptManager\", {\n  enumerable: true,\n  get: function () {\n    return _ScriptManager.ScriptManager;\n  }\n});\nObject.defineProperty(exports, \"AbstractProvider\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractProvider.AbstractProvider;\n  }\n});\nObject.defineProperty(exports, \"AbstractWallet\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractWallet.AbstractWallet;\n  }\n});\n\nvar _ScriptManager = require(\"./ScriptManager\");\n\nvar _AbstractProvider = require(\"./AbstractProvider\");\n\nvar _AbstractWallet = require(\"./AbstractWallet\");","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractTransactionBuilder = void 0;\n\nvar _pw = require(\"../helpers/pw\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// TODO migrate to mercury mode\nclass AbstractTransactionBuilder {\n  serialize(tx) {\n    return AbstractTransactionBuilder.serde.serialize(tx);\n  }\n\n}\n\nexports.AbstractTransactionBuilder = AbstractTransactionBuilder;\n\n_defineProperty(AbstractTransactionBuilder, \"serde\", {\n  serialize(deserialized) {\n    return (0, _pw.serialize)(deserialized);\n  },\n\n  deserialize(serialized) {\n    return (0, _pw.deserialize)(serialized);\n  }\n\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Amount = require(\"./Amount\");\n\nObject.keys(_Amount).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _Amount[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _Amount[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractSingleEntrySigner = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _PwAdapterSigner = require(\"./pw/PwAdapterSigner\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass AbstractSingleEntrySigner {\n  constructor(options) {\n    var _options$hasher;\n\n    _defineProperty(this, \"adapter\", void 0);\n\n    const hasher = (_options$hasher = options.hasher) !== null && _options$hasher !== void 0 ? _options$hasher : new _pwCore.Blake2bHasher();\n    this.adapter = new _PwAdapterSigner.PwAdapterSigner(this, options.provider, hasher);\n  }\n\n  async partialSeal(tx) {\n    return await this.adapter.sign(tx);\n  } // TODO refactor to sig entry to adapt mercury\n\n  /**\n   *\n   * @param tx the tx is actually PwTransaction, but may change in the future in order to migrate to mercury\n   */\n\n\n  async seal(tx) {\n    const signed = await this.adapter.sign(tx);\n    return _pwCore.transformers.TransformTransaction(signed);\n  }\n\n}\n\nexports.AbstractSingleEntrySigner = AbstractSingleEntrySigner;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = require(\"./utils\");\n\nObject.keys(_utils).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _utils[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _utils[key];\n    }\n  });\n});\n\nvar _struct = require(\"./struct\");\n\nObject.keys(_struct).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _struct[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _struct[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.detect = detect;\nexports.hashMessage = hashMessage;\nexports.InternalNonAcpPwLockSigner = exports.NonAcpPwLockWallet = exports.AcpPwLockWallet = void 0;\n\nvar _hd = require(\"@ckb-lumos/hd\");\n\nvar _base = require(\"@ckitjs/base\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _detectProvider = _interopRequireDefault(require(\"@metamask/detect-provider\"));\n\nvar _secp256k = require(\"secp256k1\");\n\nvar _utils = require(\"../utils\");\n\nvar _AbstractSingleEntrySigner = require(\"./AbstractSingleEntrySigner\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\n\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction detect() {\n  return (0, _detectProvider.default)().then(() => window.ethereum);\n}\n\nclass AbstractPwWallet extends _base.AbstractWallet {\n  constructor(ckitProvider) {\n    super();\n    this.ckitProvider = ckitProvider;\n\n    _defineProperty(this, \"listener\", addresses => {\n      if (!Array.isArray(addresses)) return;\n\n      if (addresses.length === 0) {\n        this.emitConnectStatusChanged('disconnected');\n        return;\n      }\n\n      this.emitChangedSigner(this.produceSigner());\n    });\n\n    this.setDescriptor({\n      features: this.describeFeatures(),\n      description: 'Interacting with CKB via MetaMask',\n      name: 'NonAcpPwLockWallet'\n    });\n  }\n\n  disconnect() {\n    void detect().then(ethProvider => ethProvider.removeEventListener('accountsChanged', this.listener)).then(() => super.disconnect());\n  }\n\n  async tryConnect() {\n    const ethProvider = await detect();\n    ethProvider.addListener('accountsChanged', this.listener);\n    return ethProvider.enable().then(() => this.produceSigner());\n  }\n\n}\n\nclass AbstractPwSigner extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(ckitProvider) {\n    super({\n      provider: ckitProvider\n    });\n    this.ckitProvider = ckitProvider;\n  }\n\n  async signMessage(message) {\n    const ethereumProvider = await detect();\n    const from = ethereumProvider.selectedAddress;\n    const result = await ethereumProvider.request({\n      method: 'personal_sign',\n      params: [from, message]\n    });\n    let v = Number.parseInt(result.slice(-2), 16);\n    if (v >= 27) v -= 27;\n    return '0x' + _pwCore.Platform.eth.toString(16).padStart(2, '0') + result.slice(2, -2) + v.toString(16).padStart(2, '0');\n  }\n\n}\n\nclass AcpPwLockWallet extends AbstractPwWallet {\n  produceSigner() {\n    return new class extends AbstractPwSigner {\n      async getAddress() {\n        const config = this.ckitProvider.getScriptConfig('PW_ANYONE_CAN_PAY');\n        return this.ckitProvider.parseToAddress({\n          hash_type: config.HASH_TYPE,\n          args: (await detect()).selectedAddress,\n          code_hash: config.CODE_HASH\n        });\n      }\n\n    }(this.ckitProvider);\n  }\n\n  describeFeatures() {\n    return ['acp'];\n  }\n\n}\n\nexports.AcpPwLockWallet = AcpPwLockWallet;\n\nclass NonAcpPwLockWallet extends AbstractPwWallet {\n  produceSigner() {\n    return new class extends AbstractPwSigner {\n      async getAddress() {\n        const config = this.ckitProvider.getScriptConfig('PW_NON_ANYONE_CAN_PAY');\n        return this.ckitProvider.parseToAddress({\n          hash_type: config.HASH_TYPE,\n          args: (await detect()).selectedAddress,\n          code_hash: config.CODE_HASH\n        });\n      }\n\n    }(this.ckitProvider);\n  }\n\n  describeFeatures() {\n    return ['issue-sudt'];\n  }\n\n}\n\nexports.NonAcpPwLockWallet = NonAcpPwLockWallet;\n\nfunction hashMessage(message) {\n  // https://github.com/XuJiandong/pw-lock/blob/develop/c/pw_chain_ethereum.h#L43\n  return new _pwCore.Keccak256Hasher().update('\\x19Ethereum Signed Message:\\n32').update((0, _utils.hexToBytes)(message).buffer).digest().serializeJson();\n}\n\nvar _privateKey = /*#__PURE__*/new WeakMap();\n\nclass InternalNonAcpPwLockSigner extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(privateKey, ckitProvider) {\n    super({\n      provider: ckitProvider\n    });\n    this.ckitProvider = ckitProvider;\n\n    _privateKey.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _privateKey, privateKey);\n  }\n\n  getEthAddress() {\n    const pubkey = (0, _secp256k.publicKeyCreate)((0, _utils.hexToBytes)(_classPrivateFieldGet(this, _privateKey)), false).slice(1);\n    const keccak = new _pwCore.Keccak256Hasher();\n    return '0x' + keccak.update(pubkey.buffer).digest().serializeJson().slice(-40);\n  }\n\n  async getAddress() {\n    const config = this.ckitProvider.getScriptConfig('PW_NON_ANYONE_CAN_PAY');\n    return this.ckitProvider.parseToAddress({\n      code_hash: config.CODE_HASH,\n      hash_type: config.HASH_TYPE,\n      args: this.getEthAddress()\n    });\n  }\n\n  async signMessage(message) {\n    const result = _hd.key.signRecoverable(hashMessage(message), _classPrivateFieldGet(this, _privateKey));\n\n    let v = Number.parseInt(result.slice(-2), 16);\n    if (v >= 27) v -= 27;\n\n    const platform = _pwCore.Platform.eth.toString(16).padStart(2, '0');\n\n    const sig = result.slice(2, -2);\n    return '0x' + platform + sig + v.toString(16).padStart(2, '0');\n  }\n\n}\n\nexports.InternalNonAcpPwLockSigner = InternalNonAcpPwLockSigner;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"BaseCellOutPointProvider\", {\n  enumerable: true,\n  get: function () {\n    return _CellOutPointProvider.BaseCellOutPointProvider;\n  }\n});\nObject.defineProperty(exports, \"DefaultOutPointProvider\", {\n  enumerable: true,\n  get: function () {\n    return _CellOutPointProvider.DefaultOutPointProvider;\n  }\n});\nObject.defineProperty(exports, \"LatestOutPointProvider\", {\n  enumerable: true,\n  get: function () {\n    return _LatestOutPointProvider.LatestOutPointProvider;\n  }\n});\nObject.defineProperty(exports, \"StaticFutureOutPointProvider\", {\n  enumerable: true,\n  get: function () {\n    return _StaticFutureOutPointProvider.StaticFutureOutPointProvider;\n  }\n});\nexports.MercuryClient = void 0;\n\nvar _clientJs = require(\"@open-rpc/client-js\");\n\nvar _CellOutPointProvider = require(\"./CellOutPointProvider\");\n\nvar _LatestOutPointProvider = require(\"./LatestOutPointProvider\");\n\nvar _StaticFutureOutPointProvider = require(\"./StaticFutureOutPointProvider\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass MercuryClient {\n  constructor(uri) {\n    _defineProperty(this, \"client\", void 0);\n\n    const transport = new _clientJs.HTTPTransport(uri, {\n      headers: {\n        'content-type': 'application/json'\n      }\n    });\n    this.client = new _clientJs.Client(new _clientJs.RequestManager([transport]));\n  }\n\n  get_cells(payload) {\n    const {\n      search_key,\n      order = 'asc',\n      limit = '0x3e8'\n      /*1_000*/\n      ,\n      after_cursor\n    } = payload;\n    return this.client.request({\n      method: 'get_cells',\n      params: [search_key, order, limit, after_cursor]\n    });\n  }\n\n  get_tip() {\n    return this.client.request({\n      method: 'get_tip'\n    });\n  }\n\n  get_transactions() {\n    return this.client.request({\n      method: 'get_transactions',\n      params: []\n    });\n  }\n\n}\n\nexports.MercuryClient = MercuryClient;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  helpers: true,\n  errors: true,\n  utils: true,\n  predefined: true\n};\nObject.defineProperty(exports, \"predefined\", {\n  enumerable: true,\n  get: function () {\n    return _predefined.predefined;\n  }\n});\nexports.utils = exports.errors = exports.helpers = void 0;\n\nvar _base = require(\"@ckitjs/base\");\n\nObject.keys(_base).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _base[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _base[key];\n    }\n  });\n});\n\nvar _wallets = require(\"./wallets\");\n\nObject.keys(_wallets).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _wallets[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _wallets[key];\n    }\n  });\n});\n\nvar _providers = require(\"./providers\");\n\nObject.keys(_providers).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _providers[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _providers[key];\n    }\n  });\n});\n\nvar _txBuilders = require(\"./tx-builders\");\n\nObject.keys(_txBuilders).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _txBuilders[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _txBuilders[key];\n    }\n  });\n});\n\nvar _helpers = _interopRequireWildcard(require(\"./helpers\"));\n\nexports.helpers = _helpers;\n\nvar _errors = _interopRequireWildcard(require(\"./errors\"));\n\nexports.errors = _errors;\n\nvar _utils = _interopRequireWildcard(require(\"./utils\"));\n\nexports.utils = _utils;\n\nvar _predefined = require(\"./predefined\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SerializeUTF8Bytes = SerializeUTF8Bytes;\nexports.SerializeUint128 = SerializeUint128;\nexports.SerializeByte32 = SerializeByte32;\nexports.SerializeUdtInfo = SerializeUdtInfo;\nexports.SerializeUdtCellData = SerializeUdtCellData;\nexports.UdtCellData = exports.UdtInfo = exports.Byte32 = exports.Uint128 = exports.UTF8Bytes = void 0;\n\nfunction dataLengthError(actual, required) {\n  throw new Error(`Invalid data length! Required: ${required}, actual: ${actual}`);\n}\n\nfunction assertDataLength(actual, required) {\n  if (actual !== required) {\n    dataLengthError(actual, required);\n  }\n}\n\nfunction assertArrayBuffer(reader) {\n  if (reader instanceof Object && reader.toArrayBuffer instanceof Function) {\n    reader = reader.toArrayBuffer();\n  }\n\n  if (!(reader instanceof ArrayBuffer)) {\n    throw new Error(\"Provided value must be an ArrayBuffer or can be transformed into ArrayBuffer!\");\n  }\n\n  return reader;\n}\n\nfunction verifyAndExtractOffsets(view, expectedFieldCount, compatible) {\n  if (view.byteLength < 4) {\n    dataLengthError(view.byteLength, \">4\");\n  }\n\n  const requiredByteLength = view.getUint32(0, true);\n  assertDataLength(view.byteLength, requiredByteLength);\n\n  if (requiredByteLength === 4) {\n    return [requiredByteLength];\n  }\n\n  if (requiredByteLength < 8) {\n    dataLengthError(view.byteLength, \">8\");\n  }\n\n  const firstOffset = view.getUint32(4, true);\n\n  if (firstOffset % 4 !== 0 || firstOffset < 8) {\n    throw new Error(`Invalid first offset: ${firstOffset}`);\n  }\n\n  const itemCount = firstOffset / 4 - 1;\n\n  if (itemCount < expectedFieldCount) {\n    throw new Error(`Item count not enough! Required: ${expectedFieldCount}, actual: ${itemCount}`);\n  } else if (!compatible && itemCount > expectedFieldCount) {\n    throw new Error(`Item count is more than required! Required: ${expectedFieldCount}, actual: ${itemCount}`);\n  }\n\n  if (requiredByteLength < firstOffset) {\n    throw new Error(`First offset is larger than byte length: ${firstOffset}`);\n  }\n\n  const offsets = [];\n\n  for (let i = 0; i < itemCount; i++) {\n    const start = 4 + i * 4;\n    offsets.push(view.getUint32(start, true));\n  }\n\n  offsets.push(requiredByteLength);\n\n  for (let i = 0; i < offsets.length - 1; i++) {\n    if (offsets[i] > offsets[i + 1]) {\n      throw new Error(`Offset index ${i}: ${offsets[i]} is larger than offset index ${i + 1}: ${offsets[i + 1]}`);\n    }\n  }\n\n  return offsets;\n}\n\nfunction serializeTable(buffers) {\n  const itemCount = buffers.length;\n  let totalSize = 4 * (itemCount + 1);\n  const offsets = [];\n\n  for (let i = 0; i < itemCount; i++) {\n    offsets.push(totalSize);\n    totalSize += buffers[i].byteLength;\n  }\n\n  const buffer = new ArrayBuffer(totalSize);\n  const array = new Uint8Array(buffer);\n  const view = new DataView(buffer);\n  view.setUint32(0, totalSize, true);\n\n  for (let i = 0; i < itemCount; i++) {\n    view.setUint32(4 + i * 4, offsets[i], true);\n    array.set(new Uint8Array(buffers[i]), offsets[i]);\n  }\n\n  return buffer;\n}\n\nclass UTF8Bytes {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n  }\n\n  raw() {\n    return this.view.buffer.slice(4);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(4 + i);\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.UTF8Bytes = UTF8Bytes;\n\nfunction SerializeUTF8Bytes(value) {\n  const item = assertArrayBuffer(value);\n  const array = new Uint8Array(4 + item.byteLength);\n  new DataView(array.buffer).setUint32(0, item.byteLength, true);\n  array.set(new Uint8Array(item), 4);\n  return array.buffer;\n}\n\nclass Uint128 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 16);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 16;\n  }\n\n}\n\nexports.Uint128 = Uint128;\n\nfunction SerializeUint128(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 16);\n  return buffer;\n}\n\nclass Byte32 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 32);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 32;\n  }\n\n}\n\nexports.Byte32 = Byte32;\n\nfunction SerializeByte32(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 32);\n  return buffer;\n}\n\nclass UdtInfo {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    if (offsets[1] - offsets[0] !== 1) {\n      throw new Error(`Invalid offset for decimals: ${offsets[0]} - ${offsets[1]}`);\n    }\n\n    new UTF8Bytes(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new UTF8Bytes(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n    new UTF8Bytes(this.view.buffer.slice(offsets[3], offsets[4]), {\n      validate: false\n    }).validate();\n  }\n\n  getDecimals() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new DataView(this.view.buffer.slice(offset, offset_end)).getUint8(0);\n  }\n\n  getName() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new UTF8Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getSymbol() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new UTF8Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getDescription() {\n    const start = 16;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new UTF8Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.UdtInfo = UdtInfo;\n\nfunction SerializeUdtInfo(value) {\n  const buffers = [];\n  const decimalsView = new DataView(new ArrayBuffer(1));\n  decimalsView.setUint8(0, value.decimals);\n  buffers.push(decimalsView.buffer);\n  buffers.push(SerializeUTF8Bytes(value.name));\n  buffers.push(SerializeUTF8Bytes(value.symbol));\n  buffers.push(SerializeUTF8Bytes(value.description));\n  return serializeTable(buffers);\n}\n\nclass UdtCellData {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    if (offsets[1] - offsets[0] !== 1) {\n      throw new Error(`Invalid offset for version: ${offsets[0]} - ${offsets[1]}`);\n    }\n\n    new Uint128(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new Uint128(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n    new Byte32(this.view.buffer.slice(offsets[3], offsets[4]), {\n      validate: false\n    }).validate();\n    new UdtInfo(this.view.buffer.slice(offsets[4], offsets[5]), {\n      validate: false\n    }).validate();\n  }\n\n  getVersion() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new DataView(this.view.buffer.slice(offset, offset_end)).getUint8(0);\n  }\n\n  getCurrentSupply() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Uint128(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getMaxSupply() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Uint128(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getSudtScriptHash() {\n    const start = 16;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Byte32(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getUdtInfo() {\n    const start = 20;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new UdtInfo(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.UdtCellData = UdtCellData;\n\nfunction SerializeUdtCellData(value) {\n  const buffers = [];\n  const versionView = new DataView(new ArrayBuffer(1));\n  versionView.setUint8(0, value.version);\n  buffers.push(versionView.buffer);\n  buffers.push(SerializeUint128(value.current_supply));\n  buffers.push(SerializeUint128(value.max_supply));\n  buffers.push(SerializeByte32(value.sudt_script_hash));\n  buffers.push(SerializeUdtInfo(value.udt_info));\n  return serializeTable(buffers);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.startsWith0x = startsWith0x;\nexports.rm0x = rm0x;\nexports.pad0x = pad0x;\nexports.safePadZero = safePadZero;\nexports.prependZeroToEvenLength = prependZeroToEvenLength;\nexports.convertEndian = convertEndian;\nexports.formatByteLike = formatByteLike;\nexports.toUnfixedBuffer = toUnfixedBuffer;\nexports.toFixedBuffer = toFixedBuffer;\nexports.toBuffer = toBuffer;\nexports.pipe = void 0;\n\nvar _buffer = require(\"buffer\");\n\n// TODO replace with safe-buffer\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nconst pipe = (...fn) => {\n  if (fn.length === 1) return fn[0];\n  return fn.reduce((fn1, fn2) => x => fn2(fn1(x)));\n};\n\nexports.pipe = pipe;\n\nfunction startsWith0x(x) {\n  return typeof x === 'string' && x.startsWith('0x');\n}\n\nfunction rm0x(input) {\n  if (startsWith0x(input)) return input.slice(2);\n  return input;\n}\n\nfunction pad0x(input) {\n  if (startsWith0x(input)) return input;\n  return '0x' + input;\n}\n\nfunction safePadZero(input, le, byteSize) {\n  const isEvenLength = input.length % 2 === 0;\n  const isUnfixed = byteSize === undefined;\n  if (isEvenLength && isUnfixed) return input;\n  const padEvenLength = isEvenLength ? 0 : 1; // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n  const expectedByteSize = isUnfixed ? (input.length + padEvenLength) / 2 : byteSize; // a byte is composed by 2 hex character\n\n  const expectedByteStringLength = expectedByteSize * 2;\n\n  if (le) {\n    return input.slice(0, expectedByteStringLength).padEnd(expectedByteStringLength, '0');\n  }\n\n  return input.slice(-expectedByteStringLength).padStart(expectedByteStringLength, '0');\n}\n\nfunction prependZeroToEvenLength(input) {\n  if (input.length % 2 === 0) return input;\n  return `0${input}`;\n}\n/**\n * convert between little-endian and big-endian bytes.\n * make sure the input is a bytes string of even length and **NOT** starting with 0x\n * @param input\n */\n\n\nfunction convertEndian(input) {\n  if (!input || input.length < 2) return input;\n  const grouped = prependZeroToEvenLength(input).match(/../g); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n  return grouped.reverse().join('');\n}\n\n/**\n * A byte is generally composed of two hex characters, and this function ensures that\n * the length of the output byte string used to represent the byte is an even number\n */\nfunction formatByteLike(input, options = {}) {\n  let byteString;\n  if (typeof input === 'string') byteString = rm0x(input);else byteString = _buffer.Buffer.from(input).toString('hex');\n  byteString = safePadZero(byteString, options.le, options.byteSize);\n  const shouldPad0x = !options.rm0x && (options.pad0x || startsWith0x(input));\n  if (options.convertEndian) byteString = convertEndian(byteString);\n  if (shouldPad0x) byteString = pad0x(byteString);\n  return byteString;\n}\n\nfunction toUnfixedBuffer(input) {\n  if (_buffer.Buffer.isBuffer(input) || input instanceof Uint8Array) return _buffer.Buffer.from(input);\n  return _buffer.Buffer.from(formatByteLike(input, {\n    rm0x: true\n  }), 'hex');\n}\n\nfunction toFixedBuffer(buffer, byteSize) {\n  if (byteSize === 0) return _buffer.Buffer.from([]);\n  const unfixed = toUnfixedBuffer(buffer);\n  const unfixedSize = unfixed.length;\n  if (unfixedSize === 0) return _buffer.Buffer.alloc(byteSize);\n  if (unfixedSize === byteSize) return unfixed;\n  if (unfixedSize > byteSize) return unfixed.slice(unfixedSize - byteSize);\n  return _buffer.Buffer.concat([_buffer.Buffer.alloc(byteSize - unfixedSize), unfixed]);\n}\n\nfunction toBuffer(input, byteSize) {\n  if (byteSize === undefined) return toUnfixedBuffer(input);\n  return toFixedBuffer(input, byteSize);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  AbstractTransactionBuilder: true,\n  SerializedTx: true,\n  DeserializedTx: true\n};\nObject.defineProperty(exports, \"AbstractTransactionBuilder\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractTransactionBuilder.AbstractTransactionBuilder;\n  }\n});\nObject.defineProperty(exports, \"SerializedTx\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractTransactionBuilder.SerializedTx;\n  }\n});\nObject.defineProperty(exports, \"DeserializedTx\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractTransactionBuilder.DeserializedTx;\n  }\n});\n\nvar _AbstractTransactionBuilder = require(\"./AbstractTransactionBuilder\");\n\nvar _AcpTransferSudtBuilder = require(\"./AcpTransferSudtBuilder\");\n\nObject.keys(_AcpTransferSudtBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _AcpTransferSudtBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _AcpTransferSudtBuilder[key];\n    }\n  });\n});\n\nvar _TransferCkbBuilder = require(\"./TransferCkbBuilder\");\n\nObject.keys(_TransferCkbBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _TransferCkbBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _TransferCkbBuilder[key];\n    }\n  });\n});\n\nvar _MintSudtBuilder = require(\"./MintSudtBuilder\");\n\nObject.keys(_MintSudtBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _MintSudtBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _MintSudtBuilder[key];\n    }\n  });\n});\n\nvar _rc = require(\"./rc\");\n\nObject.keys(_rc).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _rc[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _rc[key];\n    }\n  });\n});\n\nvar _ChequeDepositBuilder = require(\"./ChequeDepositBuilder\");\n\nObject.keys(_ChequeDepositBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _ChequeDepositBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _ChequeDepositBuilder[key];\n    }\n  });\n});\n\nvar _ChequeClaimBuilder = require(\"./ChequeClaimBuilder\");\n\nObject.keys(_ChequeClaimBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _ChequeClaimBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _ChequeClaimBuilder[key];\n    }\n  });\n});\n\nvar _ChequeWithdrawBuilder = require(\"./ChequeWithdrawBuilder\");\n\nObject.keys(_ChequeWithdrawBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _ChequeWithdrawBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _ChequeWithdrawBuilder[key];\n    }\n  });\n});\n\nvar _ExchangeSudtForCkbBuilder = require(\"./ExchangeSudtForCkbBuilder\");\n\nObject.keys(_ExchangeSudtForCkbBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _ExchangeSudtForCkbBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _ExchangeSudtForCkbBuilder[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MercuryProvider = void 0;\n\nvar _rpc = require(\"@ckb-lumos/rpc\");\n\nvar _base = require(\"@ckitjs/base\");\n\nvar _mercuryClient = require(\"@ckitjs/mercury-client\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _isomorphicFetch = _interopRequireDefault(require(\"isomorphic-fetch\"));\n\nvar _rxjs = require(\"rxjs\");\n\nvar _errors = require(\"../../errors\");\n\nvar _helpers = require(\"../../helpers\");\n\nvar _utils = require(\"../../utils\");\n\nvar _IndexerCellProvider = require(\"./IndexerCellProvider\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction toCell(resolved) {\n  return {\n    cell_output: resolved.output,\n    data: resolved.output_data,\n    block_number: resolved.block_number,\n    out_point: resolved.out_point\n  };\n}\n\nclass MercuryProvider extends _base.AbstractProvider {\n  constructor(mercuryRpc = 'http://127.0.0.1:8116', ckbRpc = 'http://127.0.0.1:8114') {\n    super();\n\n    _defineProperty(this, \"depOutPointProvider\", void 0);\n\n    _defineProperty(this, \"mercuryUrl\", void 0);\n\n    _defineProperty(this, \"mercury\", void 0);\n\n    _defineProperty(this, \"rpc\", void 0);\n\n    _defineProperty(this, \"rpcUrl\", void 0);\n\n    this.mercuryUrl = mercuryRpc;\n    this.mercury = new _mercuryClient.MercuryClient(mercuryRpc);\n    this.rpcUrl = ckbRpc;\n    this.rpc = new _rpc.RPC(ckbRpc);\n  }\n\n  async getCellDep(configKey) {\n    const scriptConfig = this.getScriptConfig(configKey);\n    if (!scriptConfig) throw new Error('No scriptConfig found');\n\n    if (this.depOutPointProvider) {\n      const newOutPoint = await this.depOutPointProvider.getScriptDep(configKey);\n      if (!newOutPoint) throw new Error('No cell dep found');\n      return {\n        dep_type: scriptConfig.DEP_TYPE,\n        out_point: newOutPoint\n      };\n    }\n\n    return {\n      dep_type: scriptConfig.DEP_TYPE,\n      out_point: {\n        tx_hash: scriptConfig.TX_HASH,\n        index: scriptConfig.INDEX\n      }\n    };\n  }\n\n  init(config) {\n    this.depOutPointProvider = new _mercuryClient.LatestOutPointProvider(config, this.rpcUrl, this.mercuryUrl);\n    return super.init(config);\n  }\n\n  async batchRequestCkb(request) {\n    const batch = [];\n\n    for (let i = 0; i < request.length; i++) {\n      batch.push({\n        id: i,\n        jsonrpc: '2.0',\n        method: (0, _utils.nonNullable)(request[i]).method,\n        params: [(0, _utils.nonNullable)(request[i]).params]\n      });\n    }\n\n    const response = await (0, _isomorphicFetch.default)(this.rpcUrl, {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(batch)\n    });\n    const results = await response.json();\n    const res = [];\n\n    for (let i = 0; i < results.length; i++) {\n      const result = results[i];\n      if (result.error) throw new Error(result.error);\n      res.push(result.result);\n    }\n\n    return res;\n  }\n  /**\n   * @deprecated please migrate to {@link collectLockOnlyCells}\n   * @param address\n   * @param minimalCapacity\n   * @returns\n   */\n\n\n  async collectCkbLiveCells(address, minimalCapacity) {\n    const lock = this.parseToScript(address);\n    const searchKey = {\n      script: lock,\n      script_type: 'lock',\n      filter: {\n        output_data_len_range: ['0x0', '0x1']\n      } // ckb live cells only\n\n    };\n    const cells$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects), (0, _rxjs.filter)(cell => cell.output.type == null), // live cell only\n    (0, _rxjs.scan)((acc, next) => ({\n      cells: acc.cells.concat(next),\n      amount: (0, _helpers.BN)(acc.amount).plus((0, _helpers.BN)(next.output.capacity))\n    }), {\n      amount: (0, _helpers.BN)(0),\n      cells: []\n    }), (0, _rxjs.takeWhile)(acc => (0, _helpers.BN)(acc.amount).lt((0, _helpers.BN)(minimalCapacity)), true));\n    const acc = await (0, _rxjs.lastValueFrom)(cells$, {\n      defaultValue: {\n        amount: (0, _helpers.BN)(0),\n        cells: []\n      }\n    });\n\n    if (acc.amount.lt((0, _helpers.BN)(minimalCapacity))) {\n      throw new _errors.NoEnoughCkbError({\n        lock,\n        expected: minimalCapacity,\n        actual: _helpers.Amount.from(acc.amount).toHex()\n      });\n    }\n\n    return acc.cells;\n  }\n\n  async collectLockOnlyCells(fromInfo, capacity) {\n    const result = await this.collectCkbLiveCells(typeof fromInfo === 'string' ? fromInfo : this.parseToAddress(fromInfo), capacity);\n    return result.map(resolved => ({\n      cell_output: resolved.output,\n      data: resolved.output_data,\n      block_number: resolved.block_number,\n      out_point: resolved.out_point\n    }));\n  }\n\n  collectCells({\n    searchKey\n  }, takeWhile_, options) {\n    let inclusive = false;\n\n    if (options && options.inclusive) {\n      inclusive = options.inclusive;\n    }\n\n    const cells$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects.map(toCell)), (0, _rxjs.scan)((acc, next) => acc.concat(next), []), (0, _rxjs.takeWhile)(acc => takeWhile_(acc), inclusive));\n    return (0, _rxjs.lastValueFrom)(cells$, {\n      defaultValue: []\n    });\n  }\n  /**\n   * Calculate the capacity of all cells with only locks\n   */\n\n\n  async getCkbLiveCellsBalance(address) {\n    const searchKey = {\n      script: this.parseToScript(address),\n      script_type: 'lock',\n      filter: {\n        output_data_len_range: ['0x0', '0x1']\n      } // ckb live cells only\n\n    };\n    const balance$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects), (0, _rxjs.filter)(cell => cell.output.type == null), (0, _rxjs.reduce)((balance, cell) => balance.plus((0, _helpers.BN)(cell.output.capacity)), (0, _helpers.BN)(0)));\n    const balance = await (0, _rxjs.lastValueFrom)(balance$, {\n      defaultValue: (0, _helpers.BN)(0)\n    });\n    return '0x' + balance.toString(16);\n  }\n\n  getTxPoolInfo() {\n    return this.rpc.tx_pool_info();\n  }\n\n  getChainInfo() {\n    return this.rpc.get_blockchain_info();\n  }\n\n  sendTransaction(tx) {\n    return this.rpc.send_transaction(tx, 'passthrough');\n  }\n\n  async collectUdtCells(address, udt, minimalAmount) {\n    const lock = this.parseToScript(address);\n    const searchKey = {\n      script: lock,\n      filter: {\n        script: udt\n      },\n      script_type: 'lock'\n    };\n    const cells$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects), (0, _rxjs.scan)((acc, resolvedCell) => ({\n      cells: acc.cells.concat(resolvedCell),\n      amount: (0, _helpers.BN)(acc.amount).plus((0, _helpers.BN)((0, _pwCore.toBigUInt128LE)(resolvedCell.output_data.slice(0, 34))))\n    }), {\n      amount: (0, _helpers.BN)(0),\n      cells: []\n    }), (0, _rxjs.takeWhile)(acc => (0, _helpers.BN)(acc.amount).lt(minimalAmount), true) // inclusive last to ensure cells are enough\n    );\n    const acc = await (0, _rxjs.lastValueFrom)(cells$, {\n      defaultValue: {\n        amount: (0, _helpers.BN)(0),\n        cells: []\n      }\n    });\n\n    if ((0, _helpers.BN)(acc.amount).lt(minimalAmount)) {\n      throw new _errors.NoEnoughUdtError({\n        lock,\n        expected: minimalAmount,\n        actual: _helpers.Amount.from(acc.amount).toHex()\n      });\n    }\n\n    return acc.cells;\n  }\n\n  getUdtBalance(address, udt) {\n    const searchKey = {\n      script: this.parseToScript(address),\n      filter: {\n        script: udt\n      },\n      script_type: 'lock'\n    };\n    const balance$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects), (0, _rxjs.reduce)((acc, resolvedCell) => (0, _helpers.BN)(acc).plus((0, _pwCore.toBigUInt128LE)(resolvedCell.output_data.slice(0, 34))), (0, _helpers.BN)(0)));\n    return (0, _rxjs.lastValueFrom)(balance$, {\n      defaultValue: (0, _helpers.BN)(0)\n    }).then(x => '0x' + x.toString(16));\n  }\n\n  async waitForTransactionCommitted(txHash, options = {}) {\n    const {\n      pollIntervalMs = 1000,\n      timeoutMs = 120000\n    } = options;\n    const start = Date.now();\n    let result = null;\n\n    while (Date.now() - start <= timeoutMs) {\n      var _tx$tx_status;\n\n      const tx = await this.rpc.get_transaction(txHash);\n\n      if ((tx === null || tx === void 0 ? void 0 : (_tx$tx_status = tx.tx_status) === null || _tx$tx_status === void 0 ? void 0 : _tx$tx_status.status) === 'committed') {\n        result = tx.transaction;\n        break;\n      }\n\n      await (0, _utils.asyncSleep)(pollIntervalMs);\n    }\n\n    const rpcTip = Number(await this.rpc.get_tip_block_number());\n\n    while (Date.now() - start <= timeoutMs) {\n      const mercuryTip = await this.mercury.get_tip();\n      if (Number(mercuryTip.block_number) >= rpcTip) break;\n      await (0, _utils.asyncSleep)(pollIntervalMs);\n    }\n\n    return result;\n  }\n\n  asIndexerCellProvider() {\n    return new _IndexerCellProvider.MercuryCellProvider(this.mercury);\n  }\n\n}\n\nexports.MercuryProvider = MercuryProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractProvider = void 0;\n\nvar _configManager = require(\"@ckb-lumos/config-manager\");\n\nvar _helpers = require(\"@ckb-lumos/helpers\");\n\nvar _typeid = require(\"./typeid\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass AbstractProvider {\n  constructor() {\n    _defineProperty(this, \"initialized\", false);\n\n    _defineProperty(this, \"_config\", void 0);\n  }\n\n  get config() {\n    if (!this._config) throw new Error('Cannot find the config, maybe provider is not initialied');\n    return this._config;\n  }\n\n  getScriptConfig(key) {\n    return this.config.SCRIPTS[key];\n  }\n\n  newScript(configKey, args) {\n    const scriptConfig = this.getScriptConfig(configKey);\n    if (!scriptConfig) return undefined;\n    return {\n      code_hash: scriptConfig.CODE_HASH,\n      args,\n      hash_type: scriptConfig.HASH_TYPE\n    };\n  }\n\n  newTypeIdScript(args) {\n    return {\n      code_hash: '0x00000000000000000000000000000000000000000000000000545950455f4944',\n      // Buffer.from('TYPE_ID')\n      hash_type: 'type',\n      args\n    };\n  }\n\n  generateTypeIdScript(input, outputIndex) {\n    return (0, _typeid.generateTypeIdScript)(input, outputIndex);\n  }\n\n  async getCellDep(configKey) {\n    const scriptConfig = this.getScriptConfig(configKey);\n    if (!scriptConfig) return undefined;\n    return {\n      dep_type: scriptConfig.DEP_TYPE,\n      out_point: {\n        tx_hash: scriptConfig.TX_HASH,\n        index: scriptConfig.INDEX\n      }\n    };\n  }\n\n  findCellDepByAddress(address) {\n    const script = this.parseToScript(address);\n    const scriptConfigs = Object.values(this.config.SCRIPTS);\n    if (scriptConfigs == null) return undefined;\n    const index = scriptConfigs.findIndex(scriptConfig => (scriptConfig === null || scriptConfig === void 0 ? void 0 : scriptConfig.CODE_HASH) === script.code_hash && (scriptConfig === null || scriptConfig === void 0 ? void 0 : scriptConfig.HASH_TYPE) === script.hash_type);\n    const found = scriptConfigs[index];\n    if (!found) return undefined;\n    return {\n      dep_type: found.DEP_TYPE,\n      out_point: {\n        tx_hash: found.TX_HASH,\n        index: found.INDEX\n      }\n    };\n  }\n\n  findCellDepByScript(script) {\n    return this.findCellDepByAddress(this.parseToAddress(script));\n  }\n  /**\n   * init the provider\n   * @param config if no config is provided, {@link getChainInfo} will be called to check the network type, and using the predefined config\n   */\n\n\n  async init(config) {\n    if (this.initialized) return;\n\n    if (config) {\n      const MIN_FEE_RATE = config.MIN_FEE_RATE ? config.MIN_FEE_RATE : (await this.getTxPoolInfo()).min_fee_rate;\n      this._config = { ...config,\n        MIN_FEE_RATE\n      };\n    } else {\n      const chainInfo = await this.getChainInfo();\n      const isMainnet = chainInfo.chain === 'ckb';\n      const txPoolInfo = await this.getTxPoolInfo();\n      this._config = isMainnet ? { ..._configManager.predefined.LINA,\n        MIN_FEE_RATE: txPoolInfo.min_fee_rate\n      } : { ..._configManager.predefined.AGGRON4,\n        MIN_FEE_RATE: txPoolInfo.min_fee_rate\n      };\n    }\n\n    this.initialized = true;\n  }\n  /**\n   * parse a script to address, defaults to parse to CKB2019 address\n   * @param script\n   * @param options\n   */\n\n\n  parseToAddress(script, options) {\n    if ((options === null || options === void 0 ? void 0 : options.version) === 'CKB2021') return (0, _helpers.encodeToAddress)(script, {\n      config: this.config\n    });\n    return (0, _helpers.generateAddress)(script, {\n      config: this.config\n    });\n  }\n  /**\n   * parse an {@link Address} to script, throws an error when parsing failed\n   * @param address\n   */\n\n\n  parseToScript(address) {\n    return (0, _helpers.parseAddress)(address, {\n      config: this.config\n    });\n  }\n\n}\n\nexports.AbstractProvider = AbstractProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.generateTypeIdScript = generateTypeIdScript;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nfunction generateTypeIdScript(input, outputIndex) {\n  return _base.utils.generateTypeIdScript(input, outputIndex);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractWallet = void 0;\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _eventemitter = _interopRequireDefault(require(\"eventemitter3\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass AbstractWallet {\n  // do **NOT** change the value manually\n  // use {@link getConnectStatus} instead of\n  // do **NOT** change the value manually\n  // use {@link getSigner} instead of\n  constructor() {\n    _defineProperty(this, \"descriptor\", {\n      name: 'Unknown Wallet',\n      features: [],\n      description: 'an unknown wallet'\n    });\n\n    _defineProperty(this, \"connectStatus\", 'disconnected');\n\n    _defineProperty(this, \"signer\", void 0);\n\n    _defineProperty(this, \"emitter\", void 0);\n\n    _defineProperty(this, \"on\", (event, listener) => {\n      this.emitter.on(event, listener);\n    });\n\n    this.emitter = new _eventemitter.default();\n  }\n\n  connect() {\n    const isDisconnected = this.connectStatus === 'disconnected';\n    (0, _utils.invariant)(isDisconnected, `[${this.descriptor.name}]: Do not reconnect the wallet`);\n    if (!isDisconnected) return;\n    this.emitConnectStatusChanged('connecting');\n    void this.tryConnect().then(signer => {\n      this.emitConnectStatusChanged('connected');\n      this.emitChangedSigner(signer);\n    }, e => {\n      this.emitError(e);\n      this.emitConnectStatusChanged('disconnected');\n    });\n  }\n\n  disconnect() {\n    this.emitConnectStatusChanged('disconnected');\n    this.emitter.removeAllListeners();\n  }\n\n  checkSupported(feature) {\n    return this.descriptor.features.includes(feature);\n  }\n\n  getConnectStatus() {\n    return this.connectStatus;\n  }\n\n  getSigner() {\n    return this.signer;\n  }\n\n  emitConnectStatusChanged(status) {\n    this.connectStatus = status;\n    this.emitter.emit('connectStatusChanged', status);\n  }\n\n  emitChangedSigner(signer) {\n    this.signer = signer;\n    this.emitter.emit('signerChanged', signer);\n  }\n\n  emitError(error = new Error(`An unknown error occurred in the ${this.descriptor.name}`)) {\n    this.emitter.emit('error', error);\n  }\n\n  setDescriptor(descriptor) {\n    const {\n      name = this.descriptor.name,\n      features = this.descriptor.features,\n      description = this.descriptor.description\n    } = descriptor;\n    this.descriptor = {\n      name,\n      features,\n      description\n    };\n  }\n\n}\n\nexports.AbstractWallet = AbstractWallet;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createDebugger = createDebugger;\nexports.debug = void 0;\n\nvar _debug = _interopRequireDefault(require(\"debug\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createDebugger(namespace) {\n  if (!namespace.startsWith('ckit-')) namespace = 'ckit-' + namespace;\n  return (0, _debug.default)(namespace);\n}\n\nconst debug = (0, _debug.default)('ckit');\nexports.debug = debug;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"invariant\", {\n  enumerable: true,\n  get: function () {\n    return _tinyInvariant.default;\n  }\n});\n\nvar _tinyInvariant = _interopRequireDefault(require(\"tiny-invariant\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.unimplemented = unimplemented;\n\nfunction unimplemented() {\n  throw new Error('unimplemented');\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.concat = concat;\nexports.rm0x = rm0x;\nexports.toHex = toHex;\n\nvar _jsbi = _interopRequireDefault(require(\"jsbi\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isNumberLike(x) {\n  if (typeof x === 'number') return true;\n  if (x === null || x === undefined) return false;\n  return typeof (x === null || x === void 0 ? void 0 : x.toString) === 'function';\n}\n/**\n * concat byte-like into a hex string\n *\n * @example\n * concat('00', '01') // 0x0001\n * @param hexes\n */\n\n\nfunction concat(...hexes) {\n  return '0x' + hexes.map(padToEven).join('');\n}\n/**\n * pad a big-endian string to even length\n * @param x\n */\n\n\nfunction padToEven(x) {\n  let result = rm0x(toHex(x));\n  if (result.length % 2 !== 0) result = '0' + x;\n  return result;\n}\n\nfunction rm0x(hexStringLike) {\n  if (hexStringLike.startsWith('0x')) hexStringLike = hexStringLike.slice(2);\n  return hexStringLike;\n}\n\nfunction toHex(x) {\n  if (typeof x === 'number') {\n    if (x < 0 || !Number.isInteger(x)) throw new Error(`Cannot parse ${x} to a hex string`);\n    return '0x' + x.toString(16);\n  }\n\n  if (typeof x === 'string') {\n    if (x.startsWith('0x')) return x;\n    return '0x' + x;\n  }\n\n  if (typeof x === 'bigint') {\n    return '0x' + x.toString(16);\n  }\n\n  if (Buffer.isBuffer(x)) {\n    return '0x' + x.toString('hex');\n  }\n\n  if (isNumberLike(x)) {\n    return '0x' + _jsbi.default.BigInt(x).toString(16);\n  }\n\n  throw new Error(`Cannot parse ${x} to a hex string`);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  internal: true,\n  AcpPwLockWallet: true,\n  NonAcpPwLockWallet: true,\n  RcOwnerWallet: true,\n  RcPwSigner: true,\n  RcAcpWallet: true,\n  RcAcpPwSigner: true\n};\nObject.defineProperty(exports, \"AcpPwLockWallet\", {\n  enumerable: true,\n  get: function () {\n    return _PwWallet.AcpPwLockWallet;\n  }\n});\nObject.defineProperty(exports, \"NonAcpPwLockWallet\", {\n  enumerable: true,\n  get: function () {\n    return _PwWallet.NonAcpPwLockWallet;\n  }\n});\nObject.defineProperty(exports, \"RcOwnerWallet\", {\n  enumerable: true,\n  get: function () {\n    return _RcOwnerWallet.RcOwnerWallet;\n  }\n});\nObject.defineProperty(exports, \"RcPwSigner\", {\n  enumerable: true,\n  get: function () {\n    return _RcOwnerWallet.RcPwSigner;\n  }\n});\nObject.defineProperty(exports, \"RcAcpWallet\", {\n  enumerable: true,\n  get: function () {\n    return _RcOwnerWallet.RcAcpWallet;\n  }\n});\nObject.defineProperty(exports, \"RcAcpPwSigner\", {\n  enumerable: true,\n  get: function () {\n    return _RcOwnerWallet.RcAcpPwSigner;\n  }\n});\nexports.internal = void 0;\n\nvar _RcInternalSigner = require(\"./RcInternalSigner\");\n\nvar _Secp256k1Wallet = require(\"./Secp256k1Wallet\");\n\nvar _PwWallet = require(\"./PwWallet\");\n\nvar _UnipassWallet = require(\"./UnipassWallet\");\n\nObject.keys(_UnipassWallet).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _UnipassWallet[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _UnipassWallet[key];\n    }\n  });\n});\n\nvar _RcOwnerWallet = require(\"./RcOwnerWallet\");\n\nconst internal = {\n  RcSecp256k1Signer: _RcInternalSigner.RcSecp256k1Signer,\n  Secp256k1Signer: _Secp256k1Wallet.Secp256k1Signer,\n  RcEthSigner: _RcInternalSigner.RcEthSigner\n};\nexports.internal = internal;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RcEthSigner = exports.RCLockSigner = exports.RC_MODE = exports.RcSecp256k1Signer = void 0;\n\nvar _hd = require(\"@ckb-lumos/hd\");\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nvar _secp256k = require(\"secp256k1\");\n\nvar _txBuilders = require(\"../tx-builders\");\n\nvar _utils2 = require(\"../utils\");\n\nvar _AbstractSingleEntrySigner = require(\"./AbstractSingleEntrySigner\");\n\nvar _PwWallet = require(\"./PwWallet\");\n\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\n\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\n\nvar _privateKey = /*#__PURE__*/new WeakMap();\n\n/**\n * Please do not use this signer directly in a production environment,\n * as it can only be used for testing purposes.\n */\nclass RcSecp256k1Signer extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(privateKey, ckitProvider) {\n    super({\n      provider: ckitProvider\n    });\n    this.ckitProvider = ckitProvider;\n\n    _privateKey.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _privateKey, privateKey);\n  }\n\n  getRcIdentity() {\n    return {\n      flag: _txBuilders.RcIdentityFlag.CKB,\n      // pubkeyHash: this.getEthAddress(),\n      pubkeyHash: _hd.key.privateKeyToBlake160(_classPrivateFieldGet(this, _privateKey))\n    };\n  }\n\n  getAddress() {\n    const config = this.ckitProvider.getScriptConfig('RC_LOCK');\n    return this.ckitProvider.parseToAddress({\n      code_hash: config.CODE_HASH,\n      hash_type: config.HASH_TYPE,\n      args: _utils.bytes.concat(this.getRcIdentity().flag, this.getRcIdentity().pubkeyHash, 0)\n    });\n  }\n\n  async signMessage(message) {\n    const signature = _hd.key.signRecoverable(message, _classPrivateFieldGet(this, _privateKey));\n\n    return Promise.resolve(new _ckbJsToolkit.Reader((0, _rcLock.SerializeRcLockWitnessLock)({\n      signature: new _ckbJsToolkit.Reader(signature)\n    })).serializeJson());\n  }\n\n}\n\nexports.RcSecp256k1Signer = RcSecp256k1Signer;\nlet RC_MODE;\nexports.RC_MODE = RC_MODE;\n\n(function (RC_MODE) {\n  RC_MODE[\"PUBKEY_HASH\"] = \"00\";\n  RC_MODE[\"ACP\"] = \"02\";\n})(RC_MODE || (exports.RC_MODE = RC_MODE = {}));\n\nvar _privateKey2 = /*#__PURE__*/new WeakMap();\n\nclass RCLockSigner extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(privateKey, ckitProvider) {\n    super({\n      provider: ckitProvider\n    });\n    this.ckitProvider = ckitProvider;\n\n    _privateKey2.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _privateKey2, privateKey);\n  }\n\n  getRcIdentity() {\n    return {\n      flag: _txBuilders.RcIdentityFlag.CKB,\n      // pubkeyHash: this.getEthAddress(),\n      pubkeyHash: _hd.key.privateKeyToBlake160(_classPrivateFieldGet(this, _privateKey2))\n    };\n  }\n\n  async getAddress() {\n    return await this.getAddressByMode(RC_MODE.ACP);\n  }\n\n  async getAddressByMode(mode) {\n    let pubKeykHash = _hd.key.privateKeyToBlake160(_classPrivateFieldGet(this, _privateKey2));\n\n    if (pubKeykHash.startsWith('0x')) {\n      pubKeykHash = pubKeykHash.substring(2);\n    }\n\n    let rc_args = `0x00${pubKeykHash}00`;\n\n    switch (mode) {\n      case RC_MODE.ACP:\n        rc_args = `0x00${pubKeykHash}020000`;\n        break;\n\n      case RC_MODE.PUBKEY_HASH:\n        rc_args = `0x00${pubKeykHash}00`;\n        break;\n\n      default:\n        return Promise.reject(new Error('invalid rc mode'));\n    }\n\n    const config = await this.ckitProvider.getScriptConfig('RC_LOCK');\n    return this.ckitProvider.parseToAddress({\n      code_hash: config.CODE_HASH,\n      hash_type: config.HASH_TYPE,\n      args: rc_args\n    });\n  }\n\n  async signMessage(message) {\n    const signature = _hd.key.signRecoverable(message, _classPrivateFieldGet(this, _privateKey2));\n\n    return Promise.resolve(new _ckbJsToolkit.Reader((0, _rcLock.SerializeRcLockWitnessLock)({\n      signature: new _ckbJsToolkit.Reader(signature)\n    })).serializeJson());\n  }\n\n}\n\nexports.RCLockSigner = RCLockSigner;\n\nvar _privateKey3 = /*#__PURE__*/new WeakMap();\n\nclass RcEthSigner extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(privateKey, ckitProvider) {\n    super({\n      provider: ckitProvider\n    });\n    this.ckitProvider = ckitProvider;\n\n    _privateKey3.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _privateKey3, privateKey);\n  }\n\n  getRcIdentity() {\n    return {\n      flag: _txBuilders.RcIdentityFlag.ETH,\n      pubkeyHash: this.getEthAddress()\n    };\n  }\n\n  getAddress() {\n    const config = this.ckitProvider.getScriptConfig('RC_LOCK');\n    const ethAddress = this.getEthAddress();\n    const rc_args = `0x01${ethAddress.substring(2)}00`;\n    return this.ckitProvider.parseToAddress({\n      code_hash: config.CODE_HASH,\n      hash_type: config.HASH_TYPE,\n      args: rc_args\n    });\n  }\n\n  getEthAddress() {\n    const pubkey = (0, _secp256k.publicKeyCreate)((0, _utils2.hexToBytes)(_classPrivateFieldGet(this, _privateKey3)), false).slice(1);\n    const keccak = new _pwCore.Keccak256Hasher();\n    return '0x' + keccak.update(pubkey.buffer).digest().serializeJson().slice(-40);\n  }\n\n  async signMessage(message) {\n    const result = _hd.key.signRecoverable((0, _PwWallet.hashMessage)(message), _classPrivateFieldGet(this, _privateKey3));\n\n    let v = Number.parseInt(result.slice(-2), 16);\n    if (v >= 27) v -= 27;\n    const sig = result.slice(2, -2);\n    const signature = '0x' + sig + v.toString(16).padStart(2, '0');\n    return Promise.resolve(new _ckbJsToolkit.Reader((0, _rcLock.SerializeRcLockWitnessLock)({\n      signature: new _ckbJsToolkit.Reader(signature)\n    })).serializeJson());\n  }\n\n}\n\nexports.RcEthSigner = RcEthSigner;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SerializeIdentity = SerializeIdentity;\nexports.SerializeRcIdentity = SerializeRcIdentity;\nexports.SerializeRcIdentityOpt = SerializeRcIdentityOpt;\nexports.SerializeRcLockWitnessLock = SerializeRcLockWitnessLock;\nexports.SerializeScriptVec = SerializeScriptVec;\nexports.SerializeScriptVecOpt = SerializeScriptVecOpt;\nexports.SerializeXudtWitnessInput = SerializeXudtWitnessInput;\nexports.SerializeRCRule = SerializeRCRule;\nexports.SerializeRCCellVec = SerializeRCCellVec;\nexports.SerializeRCData = SerializeRCData;\nexports.SerializeSmtProof = SerializeSmtProof;\nexports.SerializeSmtProofEntry = SerializeSmtProofEntry;\nexports.SerializeSmtProofEntryVec = SerializeSmtProofEntryVec;\nexports.SerializeSmtUpdateItem = SerializeSmtUpdateItem;\nexports.SerializeSmtUpdateItemVec = SerializeSmtUpdateItemVec;\nexports.SerializeSmtUpdateAction = SerializeSmtUpdateAction;\nexports.SerializeXudtData = SerializeXudtData;\nexports.SerializeUint32 = SerializeUint32;\nexports.SerializeUint64 = SerializeUint64;\nexports.SerializeUint128 = SerializeUint128;\nexports.SerializeByte32 = SerializeByte32;\nexports.SerializeUint256 = SerializeUint256;\nexports.SerializeBytes = SerializeBytes;\nexports.SerializeBytesOpt = SerializeBytesOpt;\nexports.SerializeBytesVec = SerializeBytesVec;\nexports.SerializeByte32Vec = SerializeByte32Vec;\nexports.SerializeScriptOpt = SerializeScriptOpt;\nexports.SerializeProposalShortId = SerializeProposalShortId;\nexports.SerializeUncleBlockVec = SerializeUncleBlockVec;\nexports.SerializeTransactionVec = SerializeTransactionVec;\nexports.SerializeProposalShortIdVec = SerializeProposalShortIdVec;\nexports.SerializeCellDepVec = SerializeCellDepVec;\nexports.SerializeCellInputVec = SerializeCellInputVec;\nexports.SerializeCellOutputVec = SerializeCellOutputVec;\nexports.SerializeScript = SerializeScript;\nexports.SerializeOutPoint = SerializeOutPoint;\nexports.SerializeCellInput = SerializeCellInput;\nexports.SerializeCellOutput = SerializeCellOutput;\nexports.SerializeCellDep = SerializeCellDep;\nexports.SerializeRawTransaction = SerializeRawTransaction;\nexports.SerializeTransaction = SerializeTransaction;\nexports.SerializeRawHeader = SerializeRawHeader;\nexports.SerializeHeader = SerializeHeader;\nexports.SerializeUncleBlock = SerializeUncleBlock;\nexports.SerializeBlock = SerializeBlock;\nexports.SerializeCellbaseWitness = SerializeCellbaseWitness;\nexports.SerializeWitnessArgs = SerializeWitnessArgs;\nexports.WitnessArgs = exports.CellbaseWitness = exports.Block = exports.UncleBlock = exports.Header = exports.RawHeader = exports.Transaction = exports.RawTransaction = exports.CellDep = exports.CellOutput = exports.CellInput = exports.OutPoint = exports.Script = exports.CellOutputVec = exports.CellInputVec = exports.CellDepVec = exports.ProposalShortIdVec = exports.TransactionVec = exports.UncleBlockVec = exports.ProposalShortId = exports.ScriptOpt = exports.Byte32Vec = exports.BytesVec = exports.BytesOpt = exports.Bytes = exports.Uint256 = exports.Byte32 = exports.Uint128 = exports.Uint64 = exports.Uint32 = exports.XudtData = exports.SmtUpdateAction = exports.SmtUpdateItemVec = exports.SmtUpdateItem = exports.SmtProofEntryVec = exports.SmtProofEntry = exports.SmtProof = exports.RCData = exports.RCCellVec = exports.RCRule = exports.XudtWitnessInput = exports.ScriptVecOpt = exports.ScriptVec = exports.RcLockWitnessLock = exports.RcIdentityOpt = exports.RcIdentity = exports.Identity = void 0;\n\nfunction dataLengthError(actual, required) {\n  throw new Error(`Invalid data length! Required: ${required}, actual: ${actual}`);\n}\n\nfunction assertDataLength(actual, required) {\n  if (actual !== required) {\n    dataLengthError(actual, required);\n  }\n}\n\nfunction assertArrayBuffer(reader) {\n  if (reader instanceof Object && reader.toArrayBuffer instanceof Function) {\n    reader = reader.toArrayBuffer();\n  }\n\n  if (!(reader instanceof ArrayBuffer)) {\n    throw new Error(\"Provided value must be an ArrayBuffer or can be transformed into ArrayBuffer!\");\n  }\n\n  return reader;\n}\n\nfunction verifyAndExtractOffsets(view, expectedFieldCount, compatible) {\n  if (view.byteLength < 4) {\n    dataLengthError(view.byteLength, \">4\");\n  }\n\n  const requiredByteLength = view.getUint32(0, true);\n  assertDataLength(view.byteLength, requiredByteLength);\n\n  if (requiredByteLength === 4) {\n    return [requiredByteLength];\n  }\n\n  if (requiredByteLength < 8) {\n    dataLengthError(view.byteLength, \">8\");\n  }\n\n  const firstOffset = view.getUint32(4, true);\n\n  if (firstOffset % 4 !== 0 || firstOffset < 8) {\n    throw new Error(`Invalid first offset: ${firstOffset}`);\n  }\n\n  const itemCount = firstOffset / 4 - 1;\n\n  if (itemCount < expectedFieldCount) {\n    throw new Error(`Item count not enough! Required: ${expectedFieldCount}, actual: ${itemCount}`);\n  } else if (!compatible && itemCount > expectedFieldCount) {\n    throw new Error(`Item count is more than required! Required: ${expectedFieldCount}, actual: ${itemCount}`);\n  }\n\n  if (requiredByteLength < firstOffset) {\n    throw new Error(`First offset is larger than byte length: ${firstOffset}`);\n  }\n\n  const offsets = [];\n\n  for (let i = 0; i < itemCount; i++) {\n    const start = 4 + i * 4;\n    offsets.push(view.getUint32(start, true));\n  }\n\n  offsets.push(requiredByteLength);\n\n  for (let i = 0; i < offsets.length - 1; i++) {\n    if (offsets[i] > offsets[i + 1]) {\n      throw new Error(`Offset index ${i}: ${offsets[i]} is larger than offset index ${i + 1}: ${offsets[i + 1]}`);\n    }\n  }\n\n  return offsets;\n}\n\nfunction serializeTable(buffers) {\n  const itemCount = buffers.length;\n  let totalSize = 4 * (itemCount + 1);\n  const offsets = [];\n\n  for (let i = 0; i < itemCount; i++) {\n    offsets.push(totalSize);\n    totalSize += buffers[i].byteLength;\n  }\n\n  const buffer = new ArrayBuffer(totalSize);\n  const array = new Uint8Array(buffer);\n  const view = new DataView(buffer);\n  view.setUint32(0, totalSize, true);\n\n  for (let i = 0; i < itemCount; i++) {\n    view.setUint32(4 + i * 4, offsets[i], true);\n    array.set(new Uint8Array(buffers[i]), offsets[i]);\n  }\n\n  return buffer;\n}\n\nclass Identity {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 21);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 21;\n  }\n\n}\n\nexports.Identity = Identity;\n\nfunction SerializeIdentity(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 21);\n  return buffer;\n}\n\nclass RcIdentity {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Identity(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new SmtProofEntryVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getIdentity() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Identity(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getProofs() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new SmtProofEntryVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.RcIdentity = RcIdentity;\n\nfunction SerializeRcIdentity(value) {\n  const buffers = [];\n  buffers.push(SerializeIdentity(value.identity));\n  buffers.push(SerializeSmtProofEntryVec(value.proofs));\n  return serializeTable(buffers);\n}\n\nclass RcIdentityOpt {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.hasValue()) {\n      this.value().validate(compatible);\n    }\n  }\n\n  value() {\n    return new RcIdentity(this.view.buffer, {\n      validate: false\n    });\n  }\n\n  hasValue() {\n    return this.view.byteLength > 0;\n  }\n\n}\n\nexports.RcIdentityOpt = RcIdentityOpt;\n\nfunction SerializeRcIdentityOpt(value) {\n  if (value) {\n    return SerializeRcIdentity(value);\n  } else {\n    return new ArrayBuffer(0);\n  }\n}\n\nclass RcLockWitnessLock {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new BytesOpt(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new RcIdentityOpt(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new BytesOpt(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n  }\n\n  getSignature() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new BytesOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getRcIdentity() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new RcIdentityOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getPreimage() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.RcLockWitnessLock = RcLockWitnessLock;\n\nfunction SerializeRcLockWitnessLock(value) {\n  const buffers = [];\n  buffers.push(SerializeBytesOpt(value.signature));\n  buffers.push(SerializeRcIdentityOpt(value.rc_identity));\n  buffers.push(SerializeBytesOpt(value.preimage));\n  return serializeTable(buffers);\n}\n\nclass ScriptVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new Script(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new Script(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.ScriptVec = ScriptVec;\n\nfunction SerializeScriptVec(value) {\n  return serializeTable(value.map(item => SerializeScript(item)));\n}\n\nclass ScriptVecOpt {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.hasValue()) {\n      this.value().validate(compatible);\n    }\n  }\n\n  value() {\n    return new ScriptVec(this.view.buffer, {\n      validate: false\n    });\n  }\n\n  hasValue() {\n    return this.view.byteLength > 0;\n  }\n\n}\n\nexports.ScriptVecOpt = ScriptVecOpt;\n\nfunction SerializeScriptVecOpt(value) {\n  if (value) {\n    return SerializeScriptVec(value);\n  } else {\n    return new ArrayBuffer(0);\n  }\n}\n\nclass XudtWitnessInput {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new ScriptVecOpt(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new BytesVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getRawExtensionData() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new ScriptVecOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getExtensionData() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.XudtWitnessInput = XudtWitnessInput;\n\nfunction SerializeXudtWitnessInput(value) {\n  const buffers = [];\n  buffers.push(SerializeScriptVecOpt(value.raw_extension_data));\n  buffers.push(SerializeBytesVec(value.extension_data));\n  return serializeTable(buffers);\n}\n\nclass RCRule {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getSmtRoot() {\n    return new Byte32(this.view.buffer.slice(0, 0 + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getFlags() {\n    return this.view.getUint8(0 + Byte32.size());\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, RCRule.size());\n    this.getSmtRoot().validate(compatible);\n  }\n\n  static size() {\n    return 0 + Byte32.size() + 1;\n  }\n\n}\n\nexports.RCRule = RCRule;\n\nfunction SerializeRCRule(value) {\n  const array = new Uint8Array(0 + Byte32.size() + 1);\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeByte32(value.smt_root)), 0);\n  view.setUint8(0 + Byte32.size(), value.flags);\n  return array.buffer;\n}\n\nclass RCCellVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * Byte32.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new Byte32(this.view.buffer.slice(4 + i * Byte32.size(), 4 + (i + 1) * Byte32.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.RCCellVec = RCCellVec;\n\nfunction SerializeRCCellVec(value) {\n  const array = new Uint8Array(4 + Byte32.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeByte32(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * Byte32.size());\n  }\n\n  return array.buffer;\n}\n\nclass RCData {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      assertDataLength(this.view.byteLength, \">4\");\n    }\n\n    const t = this.view.getUint32(0, true);\n\n    switch (t) {\n      case 0:\n        new RCRule(this.view.buffer.slice(4), {\n          validate: false\n        }).validate();\n        break;\n\n      case 1:\n        new RCCellVec(this.view.buffer.slice(4), {\n          validate: false\n        }).validate();\n        break;\n\n      default:\n        throw new Error(`Invalid type: ${t}`);\n    }\n  }\n\n  unionType() {\n    const t = this.view.getUint32(0, true);\n\n    switch (t) {\n      case 0:\n        return \"RCRule\";\n\n      case 1:\n        return \"RCCellVec\";\n\n      default:\n        throw new Error(`Invalid type: ${t}`);\n    }\n  }\n\n  value() {\n    const t = this.view.getUint32(0, true);\n\n    switch (t) {\n      case 0:\n        return new RCRule(this.view.buffer.slice(4), {\n          validate: false\n        });\n\n      case 1:\n        return new RCCellVec(this.view.buffer.slice(4), {\n          validate: false\n        });\n\n      default:\n        throw new Error(`Invalid type: ${t}`);\n    }\n  }\n\n}\n\nexports.RCData = RCData;\n\nfunction SerializeRCData(value) {\n  switch (value.type) {\n    case \"RCRule\":\n      {\n        const itemBuffer = SerializeRCRule(value.value);\n        const array = new Uint8Array(4 + itemBuffer.byteLength);\n        const view = new DataView(array.buffer);\n        view.setUint32(0, 0, true);\n        array.set(new Uint8Array(itemBuffer), 4);\n        return array.buffer;\n      }\n\n    case \"RCCellVec\":\n      {\n        const itemBuffer = SerializeRCCellVec(value.value);\n        const array = new Uint8Array(4 + itemBuffer.byteLength);\n        const view = new DataView(array.buffer);\n        view.setUint32(0, 1, true);\n        array.set(new Uint8Array(itemBuffer), 4);\n        return array.buffer;\n      }\n\n    default:\n      throw new Error(`Invalid type: ${value.type}`);\n  }\n}\n\nclass SmtProof {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n  }\n\n  raw() {\n    return this.view.buffer.slice(4);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(4 + i);\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.SmtProof = SmtProof;\n\nfunction SerializeSmtProof(value) {\n  const item = assertArrayBuffer(value);\n  const array = new Uint8Array(4 + item.byteLength);\n  new DataView(array.buffer).setUint32(0, item.byteLength, true);\n  array.set(new Uint8Array(item), 4);\n  return array.buffer;\n}\n\nclass SmtProofEntry {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    if (offsets[1] - offsets[0] !== 1) {\n      throw new Error(`Invalid offset for mask: ${offsets[0]} - ${offsets[1]}`);\n    }\n\n    new SmtProof(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getMask() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new DataView(this.view.buffer.slice(offset, offset_end)).getUint8(0);\n  }\n\n  getProof() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new SmtProof(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.SmtProofEntry = SmtProofEntry;\n\nfunction SerializeSmtProofEntry(value) {\n  const buffers = [];\n  const maskView = new DataView(new ArrayBuffer(1));\n  maskView.setUint8(0, value.mask);\n  buffers.push(maskView.buffer);\n  buffers.push(SerializeSmtProof(value.proof));\n  return serializeTable(buffers);\n}\n\nclass SmtProofEntryVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new SmtProofEntry(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new SmtProofEntry(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.SmtProofEntryVec = SmtProofEntryVec;\n\nfunction SerializeSmtProofEntryVec(value) {\n  return serializeTable(value.map(item => SerializeSmtProofEntry(item)));\n}\n\nclass SmtUpdateItem {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getKey() {\n    return new Byte32(this.view.buffer.slice(0, 0 + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getPackedValues() {\n    return this.view.getUint8(0 + Byte32.size());\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, SmtUpdateItem.size());\n    this.getKey().validate(compatible);\n  }\n\n  static size() {\n    return 0 + Byte32.size() + 1;\n  }\n\n}\n\nexports.SmtUpdateItem = SmtUpdateItem;\n\nfunction SerializeSmtUpdateItem(value) {\n  const array = new Uint8Array(0 + Byte32.size() + 1);\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeByte32(value.key)), 0);\n  view.setUint8(0 + Byte32.size(), value.packed_values);\n  return array.buffer;\n}\n\nclass SmtUpdateItemVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * SmtUpdateItem.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new SmtUpdateItem(this.view.buffer.slice(4 + i * SmtUpdateItem.size(), 4 + (i + 1) * SmtUpdateItem.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.SmtUpdateItemVec = SmtUpdateItemVec;\n\nfunction SerializeSmtUpdateItemVec(value) {\n  const array = new Uint8Array(4 + SmtUpdateItem.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeSmtUpdateItem(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * SmtUpdateItem.size());\n  }\n\n  return array.buffer;\n}\n\nclass SmtUpdateAction {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new SmtUpdateItemVec(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new SmtProof(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getUpdates() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new SmtUpdateItemVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getProof() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new SmtProof(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.SmtUpdateAction = SmtUpdateAction;\n\nfunction SerializeSmtUpdateAction(value) {\n  const buffers = [];\n  buffers.push(SerializeSmtUpdateItemVec(value.updates));\n  buffers.push(SerializeSmtProof(value.proof));\n  return serializeTable(buffers);\n}\n\nclass XudtData {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Bytes(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new BytesVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getLock() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getData() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.XudtData = XudtData;\n\nfunction SerializeXudtData(value) {\n  const buffers = [];\n  buffers.push(SerializeBytes(value.lock));\n  buffers.push(SerializeBytesVec(value.data));\n  return serializeTable(buffers);\n}\n\nclass Uint32 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 4);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  toBigEndianUint32() {\n    return this.view.getUint32(0, false);\n  }\n\n  toLittleEndianUint32() {\n    return this.view.getUint32(0, true);\n  }\n\n  static size() {\n    return 4;\n  }\n\n}\n\nexports.Uint32 = Uint32;\n\nfunction SerializeUint32(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 4);\n  return buffer;\n}\n\nclass Uint64 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 8);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 8;\n  }\n\n}\n\nexports.Uint64 = Uint64;\n\nfunction SerializeUint64(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 8);\n  return buffer;\n}\n\nclass Uint128 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 16);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 16;\n  }\n\n}\n\nexports.Uint128 = Uint128;\n\nfunction SerializeUint128(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 16);\n  return buffer;\n}\n\nclass Byte32 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 32);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 32;\n  }\n\n}\n\nexports.Byte32 = Byte32;\n\nfunction SerializeByte32(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 32);\n  return buffer;\n}\n\nclass Uint256 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 32);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 32;\n  }\n\n}\n\nexports.Uint256 = Uint256;\n\nfunction SerializeUint256(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 32);\n  return buffer;\n}\n\nclass Bytes {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n  }\n\n  raw() {\n    return this.view.buffer.slice(4);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(4 + i);\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.Bytes = Bytes;\n\nfunction SerializeBytes(value) {\n  const item = assertArrayBuffer(value);\n  const array = new Uint8Array(4 + item.byteLength);\n  new DataView(array.buffer).setUint32(0, item.byteLength, true);\n  array.set(new Uint8Array(item), 4);\n  return array.buffer;\n}\n\nclass BytesOpt {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.hasValue()) {\n      this.value().validate(compatible);\n    }\n  }\n\n  value() {\n    return new Bytes(this.view.buffer, {\n      validate: false\n    });\n  }\n\n  hasValue() {\n    return this.view.byteLength > 0;\n  }\n\n}\n\nexports.BytesOpt = BytesOpt;\n\nfunction SerializeBytesOpt(value) {\n  if (value) {\n    return SerializeBytes(value);\n  } else {\n    return new ArrayBuffer(0);\n  }\n}\n\nclass BytesVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new Bytes(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.BytesVec = BytesVec;\n\nfunction SerializeBytesVec(value) {\n  return serializeTable(value.map(item => SerializeBytes(item)));\n}\n\nclass Byte32Vec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * Byte32.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new Byte32(this.view.buffer.slice(4 + i * Byte32.size(), 4 + (i + 1) * Byte32.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.Byte32Vec = Byte32Vec;\n\nfunction SerializeByte32Vec(value) {\n  const array = new Uint8Array(4 + Byte32.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeByte32(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * Byte32.size());\n  }\n\n  return array.buffer;\n}\n\nclass ScriptOpt {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.hasValue()) {\n      this.value().validate(compatible);\n    }\n  }\n\n  value() {\n    return new Script(this.view.buffer, {\n      validate: false\n    });\n  }\n\n  hasValue() {\n    return this.view.byteLength > 0;\n  }\n\n}\n\nexports.ScriptOpt = ScriptOpt;\n\nfunction SerializeScriptOpt(value) {\n  if (value) {\n    return SerializeScript(value);\n  } else {\n    return new ArrayBuffer(0);\n  }\n}\n\nclass ProposalShortId {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 10);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 10;\n  }\n\n}\n\nexports.ProposalShortId = ProposalShortId;\n\nfunction SerializeProposalShortId(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 10);\n  return buffer;\n}\n\nclass UncleBlockVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new UncleBlock(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new UncleBlock(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.UncleBlockVec = UncleBlockVec;\n\nfunction SerializeUncleBlockVec(value) {\n  return serializeTable(value.map(item => SerializeUncleBlock(item)));\n}\n\nclass TransactionVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new Transaction(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new Transaction(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.TransactionVec = TransactionVec;\n\nfunction SerializeTransactionVec(value) {\n  return serializeTable(value.map(item => SerializeTransaction(item)));\n}\n\nclass ProposalShortIdVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * ProposalShortId.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new ProposalShortId(this.view.buffer.slice(4 + i * ProposalShortId.size(), 4 + (i + 1) * ProposalShortId.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.ProposalShortIdVec = ProposalShortIdVec;\n\nfunction SerializeProposalShortIdVec(value) {\n  const array = new Uint8Array(4 + ProposalShortId.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeProposalShortId(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * ProposalShortId.size());\n  }\n\n  return array.buffer;\n}\n\nclass CellDepVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * CellDep.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new CellDep(this.view.buffer.slice(4 + i * CellDep.size(), 4 + (i + 1) * CellDep.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.CellDepVec = CellDepVec;\n\nfunction SerializeCellDepVec(value) {\n  const array = new Uint8Array(4 + CellDep.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeCellDep(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * CellDep.size());\n  }\n\n  return array.buffer;\n}\n\nclass CellInputVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * CellInput.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new CellInput(this.view.buffer.slice(4 + i * CellInput.size(), 4 + (i + 1) * CellInput.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.CellInputVec = CellInputVec;\n\nfunction SerializeCellInputVec(value) {\n  const array = new Uint8Array(4 + CellInput.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeCellInput(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * CellInput.size());\n  }\n\n  return array.buffer;\n}\n\nclass CellOutputVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new CellOutput(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new CellOutput(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.CellOutputVec = CellOutputVec;\n\nfunction SerializeCellOutputVec(value) {\n  return serializeTable(value.map(item => SerializeCellOutput(item)));\n}\n\nclass Script {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Byte32(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n\n    if (offsets[2] - offsets[1] !== 1) {\n      throw new Error(`Invalid offset for hash_type: ${offsets[1]} - ${offsets[2]}`);\n    }\n\n    new Bytes(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n  }\n\n  getCodeHash() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Byte32(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getHashType() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new DataView(this.view.buffer.slice(offset, offset_end)).getUint8(0);\n  }\n\n  getArgs() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.Script = Script;\n\nfunction SerializeScript(value) {\n  const buffers = [];\n  buffers.push(SerializeByte32(value.code_hash));\n  const hashTypeView = new DataView(new ArrayBuffer(1));\n  hashTypeView.setUint8(0, value.hash_type);\n  buffers.push(hashTypeView.buffer);\n  buffers.push(SerializeBytes(value.args));\n  return serializeTable(buffers);\n}\n\nclass OutPoint {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getTxHash() {\n    return new Byte32(this.view.buffer.slice(0, 0 + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getIndex() {\n    return new Uint32(this.view.buffer.slice(0 + Byte32.size(), 0 + Byte32.size() + Uint32.size()), {\n      validate: false\n    });\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, OutPoint.size());\n    this.getTxHash().validate(compatible);\n    this.getIndex().validate(compatible);\n  }\n\n  static size() {\n    return 0 + Byte32.size() + Uint32.size();\n  }\n\n}\n\nexports.OutPoint = OutPoint;\n\nfunction SerializeOutPoint(value) {\n  const array = new Uint8Array(0 + Byte32.size() + Uint32.size());\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeByte32(value.tx_hash)), 0);\n  array.set(new Uint8Array(SerializeUint32(value.index)), 0 + Byte32.size());\n  return array.buffer;\n}\n\nclass CellInput {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getSince() {\n    return new Uint64(this.view.buffer.slice(0, 0 + Uint64.size()), {\n      validate: false\n    });\n  }\n\n  getPreviousOutput() {\n    return new OutPoint(this.view.buffer.slice(0 + Uint64.size(), 0 + Uint64.size() + OutPoint.size()), {\n      validate: false\n    });\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, CellInput.size());\n    this.getSince().validate(compatible);\n    this.getPreviousOutput().validate(compatible);\n  }\n\n  static size() {\n    return 0 + Uint64.size() + OutPoint.size();\n  }\n\n}\n\nexports.CellInput = CellInput;\n\nfunction SerializeCellInput(value) {\n  const array = new Uint8Array(0 + Uint64.size() + OutPoint.size());\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeUint64(value.since)), 0);\n  array.set(new Uint8Array(SerializeOutPoint(value.previous_output)), 0 + Uint64.size());\n  return array.buffer;\n}\n\nclass CellOutput {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Uint64(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new Script(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new ScriptOpt(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n  }\n\n  getCapacity() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Uint64(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getLock() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Script(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getType() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new ScriptOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.CellOutput = CellOutput;\n\nfunction SerializeCellOutput(value) {\n  const buffers = [];\n  buffers.push(SerializeUint64(value.capacity));\n  buffers.push(SerializeScript(value.lock));\n  buffers.push(SerializeScriptOpt(value.type_));\n  return serializeTable(buffers);\n}\n\nclass CellDep {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getOutPoint() {\n    return new OutPoint(this.view.buffer.slice(0, 0 + OutPoint.size()), {\n      validate: false\n    });\n  }\n\n  getDepType() {\n    return this.view.getUint8(0 + OutPoint.size());\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, CellDep.size());\n    this.getOutPoint().validate(compatible);\n  }\n\n  static size() {\n    return 0 + OutPoint.size() + 1;\n  }\n\n}\n\nexports.CellDep = CellDep;\n\nfunction SerializeCellDep(value) {\n  const array = new Uint8Array(0 + OutPoint.size() + 1);\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeOutPoint(value.out_point)), 0);\n  view.setUint8(0 + OutPoint.size(), value.dep_type);\n  return array.buffer;\n}\n\nclass RawTransaction {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Uint32(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new CellDepVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new Byte32Vec(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n    new CellInputVec(this.view.buffer.slice(offsets[3], offsets[4]), {\n      validate: false\n    }).validate();\n    new CellOutputVec(this.view.buffer.slice(offsets[4], offsets[5]), {\n      validate: false\n    }).validate();\n    new BytesVec(this.view.buffer.slice(offsets[5], offsets[6]), {\n      validate: false\n    }).validate();\n  }\n\n  getVersion() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Uint32(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getCellDeps() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new CellDepVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getHeaderDeps() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Byte32Vec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getInputs() {\n    const start = 16;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new CellInputVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getOutputs() {\n    const start = 20;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new CellOutputVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getOutputsData() {\n    const start = 24;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.RawTransaction = RawTransaction;\n\nfunction SerializeRawTransaction(value) {\n  const buffers = [];\n  buffers.push(SerializeUint32(value.version));\n  buffers.push(SerializeCellDepVec(value.cell_deps));\n  buffers.push(SerializeByte32Vec(value.header_deps));\n  buffers.push(SerializeCellInputVec(value.inputs));\n  buffers.push(SerializeCellOutputVec(value.outputs));\n  buffers.push(SerializeBytesVec(value.outputs_data));\n  return serializeTable(buffers);\n}\n\nclass Transaction {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new RawTransaction(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new BytesVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getRaw() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new RawTransaction(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getWitnesses() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.Transaction = Transaction;\n\nfunction SerializeTransaction(value) {\n  const buffers = [];\n  buffers.push(SerializeRawTransaction(value.raw));\n  buffers.push(SerializeBytesVec(value.witnesses));\n  return serializeTable(buffers);\n}\n\nclass RawHeader {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getVersion() {\n    return new Uint32(this.view.buffer.slice(0, 0 + Uint32.size()), {\n      validate: false\n    });\n  }\n\n  getCompactTarget() {\n    return new Uint32(this.view.buffer.slice(0 + Uint32.size(), 0 + Uint32.size() + Uint32.size()), {\n      validate: false\n    });\n  }\n\n  getTimestamp() {\n    return new Uint64(this.view.buffer.slice(0 + Uint32.size() + Uint32.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size()), {\n      validate: false\n    });\n  }\n\n  getNumber() {\n    return new Uint64(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size()), {\n      validate: false\n    });\n  }\n\n  getEpoch() {\n    return new Uint64(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size()), {\n      validate: false\n    });\n  }\n\n  getParentHash() {\n    return new Byte32(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getTransactionsRoot() {\n    return new Byte32(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getProposalsHash() {\n    return new Byte32(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getUnclesHash() {\n    return new Byte32(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getDao() {\n    return new Byte32(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, RawHeader.size());\n    this.getVersion().validate(compatible);\n    this.getCompactTarget().validate(compatible);\n    this.getTimestamp().validate(compatible);\n    this.getNumber().validate(compatible);\n    this.getEpoch().validate(compatible);\n    this.getParentHash().validate(compatible);\n    this.getTransactionsRoot().validate(compatible);\n    this.getProposalsHash().validate(compatible);\n    this.getUnclesHash().validate(compatible);\n    this.getDao().validate(compatible);\n  }\n\n  static size() {\n    return 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size();\n  }\n\n}\n\nexports.RawHeader = RawHeader;\n\nfunction SerializeRawHeader(value) {\n  const array = new Uint8Array(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size());\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeUint32(value.version)), 0);\n  array.set(new Uint8Array(SerializeUint32(value.compact_target)), 0 + Uint32.size());\n  array.set(new Uint8Array(SerializeUint64(value.timestamp)), 0 + Uint32.size() + Uint32.size());\n  array.set(new Uint8Array(SerializeUint64(value.number)), 0 + Uint32.size() + Uint32.size() + Uint64.size());\n  array.set(new Uint8Array(SerializeUint64(value.epoch)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size());\n  array.set(new Uint8Array(SerializeByte32(value.parent_hash)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size());\n  array.set(new Uint8Array(SerializeByte32(value.transactions_root)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size());\n  array.set(new Uint8Array(SerializeByte32(value.proposals_hash)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size());\n  array.set(new Uint8Array(SerializeByte32(value.uncles_hash)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size());\n  array.set(new Uint8Array(SerializeByte32(value.dao)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size());\n  return array.buffer;\n}\n\nclass Header {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getRaw() {\n    return new RawHeader(this.view.buffer.slice(0, 0 + RawHeader.size()), {\n      validate: false\n    });\n  }\n\n  getNonce() {\n    return new Uint128(this.view.buffer.slice(0 + RawHeader.size(), 0 + RawHeader.size() + Uint128.size()), {\n      validate: false\n    });\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, Header.size());\n    this.getRaw().validate(compatible);\n    this.getNonce().validate(compatible);\n  }\n\n  static size() {\n    return 0 + RawHeader.size() + Uint128.size();\n  }\n\n}\n\nexports.Header = Header;\n\nfunction SerializeHeader(value) {\n  const array = new Uint8Array(0 + RawHeader.size() + Uint128.size());\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeRawHeader(value.raw)), 0);\n  array.set(new Uint8Array(SerializeUint128(value.nonce)), 0 + RawHeader.size());\n  return array.buffer;\n}\n\nclass UncleBlock {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Header(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new ProposalShortIdVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getHeader() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Header(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getProposals() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new ProposalShortIdVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.UncleBlock = UncleBlock;\n\nfunction SerializeUncleBlock(value) {\n  const buffers = [];\n  buffers.push(SerializeHeader(value.header));\n  buffers.push(SerializeProposalShortIdVec(value.proposals));\n  return serializeTable(buffers);\n}\n\nclass Block {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Header(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new UncleBlockVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new TransactionVec(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n    new ProposalShortIdVec(this.view.buffer.slice(offsets[3], offsets[4]), {\n      validate: false\n    }).validate();\n  }\n\n  getHeader() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Header(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getUncles() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new UncleBlockVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getTransactions() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new TransactionVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getProposals() {\n    const start = 16;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new ProposalShortIdVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.Block = Block;\n\nfunction SerializeBlock(value) {\n  const buffers = [];\n  buffers.push(SerializeHeader(value.header));\n  buffers.push(SerializeUncleBlockVec(value.uncles));\n  buffers.push(SerializeTransactionVec(value.transactions));\n  buffers.push(SerializeProposalShortIdVec(value.proposals));\n  return serializeTable(buffers);\n}\n\nclass CellbaseWitness {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Script(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new Bytes(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getLock() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Script(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getMessage() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.CellbaseWitness = CellbaseWitness;\n\nfunction SerializeCellbaseWitness(value) {\n  const buffers = [];\n  buffers.push(SerializeScript(value.lock));\n  buffers.push(SerializeBytes(value.message));\n  return serializeTable(buffers);\n}\n\nclass WitnessArgs {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new BytesOpt(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new BytesOpt(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new BytesOpt(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n  }\n\n  getLock() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new BytesOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getInputType() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new BytesOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getOutputType() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.WitnessArgs = WitnessArgs;\n\nfunction SerializeWitnessArgs(value) {\n  const buffers = [];\n  buffers.push(SerializeBytesOpt(value.lock));\n  buffers.push(SerializeBytesOpt(value.input_type));\n  buffers.push(SerializeBytesOpt(value.output_type));\n  return serializeTable(buffers);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.convertToRcIdentityFlag = convertToRcIdentityFlag;\nexports.convertToSudtSupplyInfo = convertToSudtSupplyInfo;\nexports.convertToSudtInfo = convertToSudtInfo;\nexports.RcSupplyLockHelper = exports.RcLockFlag = exports.RcIdentityFlag = exports.OmniSupplyOutputData = exports.RcSupplyOutputData = exports.OmniSupplyLockArgs = exports.OmniIdentityLockArgs = exports.RcSupplyLockArgs = exports.RcIdentityLockArgs = exports.RcIdentityAcpLockArgs = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _easyByte = require(\"@ckitjs/easy-byte\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _operators = require(\"rxjs/operators\");\n\nvar _rc_udt_info = require(\"./generated/rc_udt_info\");\n\nfunction Bytes(byteWidth) {\n  return {\n    byteWidth,\n\n    read(buf, offset = 0) {\n      return (0, _easyByte.formatByteLike)(buf.slice(offset, offset + byteWidth), {\n        pad0x: true\n      });\n    },\n\n    write(buf, val, offset = 0) {\n      const byte = (0, _easyByte.formatByteLike)(val, {\n        rm0x: true\n      });\n      buf.write(byte, offset, byteWidth, 'hex');\n    }\n\n  };\n}\n\nconst RcIdentityAcpLockArgs = (0, _easyByte.createFixedStruct)().field('rc_identity_flag', (0, _easyByte.createField)(1, (buf, offset) => convertToRcIdentityFlag(buf.readUInt8(offset)), _easyByte.U8.write)).field('rc_identity_pubkey_hash', Bytes(20)).field('rc_lock_flag', _easyByte.U8).field('rc_lock_acp_minimum_ckb', _easyByte.U8).field('rc_lock_acp_minimum_udt', _easyByte.U8);\nexports.RcIdentityAcpLockArgs = RcIdentityAcpLockArgs;\nconst RcIdentityLockArgs = (0, _easyByte.createFixedStruct)().field('rc_identity_flag', (0, _easyByte.createField)(1, (buf, offset) => convertToRcIdentityFlag(buf.readUInt8(offset)), _easyByte.U8.write)).field('rc_identity_pubkey_hash', Bytes(20)).field('rc_lock_flag', _easyByte.U8);\nexports.RcIdentityLockArgs = RcIdentityLockArgs;\nconst RcSupplyLockArgs = RcIdentityLockArgs.field('type_id_hash', Bytes(32));\nexports.RcSupplyLockArgs = RcSupplyLockArgs;\nconst OmniIdentityLockArgs = RcIdentityLockArgs;\nexports.OmniIdentityLockArgs = OmniIdentityLockArgs;\nconst OmniSupplyLockArgs = RcSupplyLockArgs;\n/**\n * @deprecated please migrate to {@link OmniSupplyOutputData}\n */\n\nexports.OmniSupplyLockArgs = OmniSupplyLockArgs;\nconst RcSupplyOutputData = (0, _easyByte.createFixedStruct)().field('version', _easyByte.U8).field('current_supply', _easyByte.U128LE).field('max_supply', _easyByte.U128LE).field('sudt_script_hash', Bytes(32));\nexports.RcSupplyOutputData = RcSupplyOutputData;\nconst OmniSupplyOutputData = (0, _easyByte.createFixedStruct)().field('version', _easyByte.U8).field('current_supply', _easyByte.U128LEJSBI).field('max_supply', _easyByte.U128LEJSBI).field('sudt_script_hash', Bytes(32));\n/**\n * {@link https://github.com/XuJiandong/ckb-c-stdlib/blob/4eca989f8a/ckb_identity.h#L45-L51 RC Identity}\n */\n\nexports.OmniSupplyOutputData = OmniSupplyOutputData;\nlet RcIdentityFlag;\nexports.RcIdentityFlag = RcIdentityFlag;\n\n(function (RcIdentityFlag) {\n  RcIdentityFlag[RcIdentityFlag[\"CKB\"] = 0] = \"CKB\";\n  RcIdentityFlag[RcIdentityFlag[\"ETH\"] = 1] = \"ETH\";\n})(RcIdentityFlag || (exports.RcIdentityFlag = RcIdentityFlag = {}));\n\nfunction convertToRcIdentityFlag(flag) {\n  const num = Number(_utils.bytes.toHex(flag));\n  if (num === RcIdentityFlag.CKB) return RcIdentityFlag.CKB;\n  if (num === RcIdentityFlag.ETH) return RcIdentityFlag.ETH;\n  throw new Error(`Unknown RC Identity flag: ${num}`);\n}\n\nlet RcLockFlag;\nexports.RcLockFlag = RcLockFlag;\n\n(function (RcLockFlag) {\n  RcLockFlag[RcLockFlag[\"ROOT\"] = 1] = \"ROOT\";\n  RcLockFlag[RcLockFlag[\"ACP_MASK\"] = 2] = \"ACP_MASK\";\n  RcLockFlag[RcLockFlag[\"SINCE_MASK\"] = 4] = \"SINCE_MASK\";\n  RcLockFlag[RcLockFlag[\"SUPPLY_MASK\"] = 8] = \"SUPPLY_MASK\";\n})(RcLockFlag || (exports.RcLockFlag = RcLockFlag = {}));\n\nfunction convertToSudtSupplyInfo(outputData) {\n  const {\n    current_supply,\n    max_supply,\n    version\n  } = OmniSupplyOutputData.decode((0, _easyByte.toBuffer)(outputData));\n  const fixedDataLen = OmniSupplyOutputData.fields.reduce((acc, field) => acc + field[1].byteWidth, 0);\n  const udtInfo = new _rc_udt_info.UdtInfo(new _ckbJsToolkit.Reader(_utils.bytes.toHex(outputData.slice(2\n  /*0x*/\n  + fixedDataLen * 2))));\n  return {\n    version: _utils.bytes.toHex(version),\n    currentSupply: _utils.bytes.toHex(current_supply),\n    maxSupply: _utils.bytes.toHex(max_supply),\n    description: Buffer.from(udtInfo.getDescription().raw()).toString(),\n    symbol: Buffer.from(udtInfo.getSymbol().raw()).toString(),\n    name: Buffer.from(udtInfo.getName().raw()).toString(),\n    decimals: udtInfo.getDecimals()\n  };\n}\n/**\n * convert a resolved rc-udt cell to {@link SudtInfo}\n * @param cell\n */\n\n\nfunction convertToSudtInfo(cell) {\n  const {\n    rc_identity_flag,\n    rc_identity_pubkey_hash,\n    type_id_hash\n  } = RcSupplyLockArgs.decode((0, _easyByte.toBuffer)(cell.output.lock.args));\n  return {\n    rcIdentity: {\n      flag: rc_identity_flag,\n      pubkeyHash: rc_identity_pubkey_hash\n    },\n    udtId: type_id_hash,\n    ...convertToSudtSupplyInfo(cell.output_data)\n  };\n}\n\nclass RcSupplyLockHelper {\n  constructor(indexer, config) {\n    this.indexer = indexer;\n    this.config = config;\n  }\n\n  async listCreatedInfoCells(options) {\n    const {\n      rcIdentity,\n      udtId\n    } = options;\n    const mercury = this.indexer;\n    const searchKey = {\n      script: { ...this.config.rcLock,\n        args: _utils.bytes.concat(rcIdentity.flag, rcIdentity.pubkeyHash, RcLockFlag.SUPPLY_MASK, udtId !== null && udtId !== void 0 ? udtId : '')\n      },\n      script_type: 'lock'\n    };\n    const supplyCells$ = (0, _rxjs.from)(mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _operators.expand)(res => mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _operators.takeWhile)(res => res.objects.length > 0), (0, _operators.concatMap)(res => res.objects), (0, _operators.toArray)());\n    return (0, _rxjs.lastValueFrom)(supplyCells$);\n  }\n\n  async listCreatedSudt(options) {\n    const infoCells = await this.listCreatedInfoCells(options);\n    return infoCells.map(convertToSudtInfo);\n  }\n\n  newRcSupplyLockScript({\n    rcIdentity,\n    udtId\n  }) {\n    return { ...this.config.rcLock,\n      args: _utils.bytes.toHex(RcSupplyLockArgs.encode({\n        rc_identity_flag: rcIdentity.flag,\n        rc_identity_pubkey_hash: rcIdentity.pubkeyHash,\n        rc_lock_flag: RcLockFlag.SUPPLY_MASK,\n        type_id_hash: udtId\n      }))\n    };\n  }\n  /**\n   * generate sudt script which was issued by a rc_lock_supply\n   * @param options\n   */\n\n\n  newSudtScript({\n    rcIdentity,\n    udtId\n  }) {\n    const infoLock = this.newRcSupplyLockScript({\n      rcIdentity,\n      udtId\n    });\n    return { ...this.config.sudtType,\n      args: _base.utils.computeScriptHash(infoLock)\n    };\n  }\n\n}\n\nexports.RcSupplyLockHelper = RcSupplyLockHelper;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createField = createField;\nexports.createFixedStruct = createFixedStruct;\nexports.U128BEJSBI = exports.U128LEJSBI = exports.U64BEJSBI = exports.U64LEJSBI = exports.U128BE = exports.U128LE = exports.I128BE = exports.I128LE = exports.U64BE = exports.U64LE = exports.I64BE = exports.I64LE = exports.U32BE = exports.U32LE = exports.I32BE = exports.I32LE = exports.U16BE = exports.U16LE = exports.I16BE = exports.I16LE = exports.U8 = exports.I8 = exports.FixedStruct = void 0;\n\nvar _buffer = require(\"buffer\");\n\nvar _jsbi = _interopRequireDefault(require(\"jsbi\"));\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction createReader(fnName) {\n  return function (buf, offset = 0) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    return buf[fnName](offset);\n  };\n}\n\nfunction createWriter(fnName) {\n  return function (buf, val, offset = 0) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    buf[fnName](val, offset);\n  };\n}\n\nfunction createField(byteWidth, read, write) {\n  return {\n    byteWidth,\n    read,\n    write\n  };\n} // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nclass FixedStruct {\n  constructor(fields = []) {\n    _defineProperty(this, \"fields\", void 0);\n\n    _defineProperty(this, \"byteWidth\", void 0);\n\n    this.fields = fields;\n    this.byteWidth = fields.reduce((width, field) => width + field[1].byteWidth, 0);\n  }\n\n  field(name, field) {\n    const namedField = [name, field];\n    return new FixedStruct(this.fields.concat([namedField]));\n  }\n\n  decode(buf) {\n    const result = {};\n    let offset = 0;\n    this.fields.forEach(([name, field]) => {\n      const parsed = field.read(buf, offset);\n      offset += field.byteWidth;\n      result[name] = parsed;\n    });\n    return result;\n  }\n\n  encode(obj) {\n    const byteSize = this.fields.reduce((size, [, field]) => field.byteWidth + size, 0);\n\n    const buf = _buffer.Buffer.alloc(byteSize);\n\n    let offset = 0;\n    this.fields.forEach(([name, field]) => {\n      field.write(buf, obj[name], offset);\n      offset += field.byteWidth;\n    });\n    return buf;\n  }\n\n}\n\nexports.FixedStruct = FixedStruct;\n\nfunction bigIntReader(byteSize, le, signed) {\n  return function (buf, offset = 0) {\n    const byteString = (0, _utils.formatByteLike)(buf.slice(offset, offset + byteSize), {\n      byteSize,\n      // when the bytes are marked as little endian,\n      // in order to parse the bytes as the correct BigInt,\n      // the bytes need to be reversed to big endian\n      convertEndian: le,\n      // padding a 0x to ensure that it is considered by BigInt as hexadecimal\n      pad0x: true\n    });\n    const val = BigInt(byteString);\n    if (!signed) return val;\n    const signMask = BigInt(1) << BigInt(byteSize * 8 - 1);\n    const valueMask = signMask - BigInt(1);\n    if ((signMask & val) === BigInt(0)) return val;\n    return (valueMask & val) - signMask;\n  };\n}\n\nfunction bigIntWriter(byteSize, le, signed) {\n  return function (buf, input, offset = 0) {\n    let val = input;\n    if (signed && val < BigInt(0)) val = (BigInt(1) << BigInt(byteSize * 8)) + val;\n    const byteString = (0, _utils.formatByteLike)(val.toString(16), {\n      byteSize,\n      convertEndian: le\n    });\n    buf.write(byteString, offset, 'hex');\n  };\n}\n\nfunction jsbiReader(byteSize, le) {\n  return (buf, offset = 0) => _jsbi.default.BigInt((0, _utils.formatByteLike)(buf.slice(offset, offset + byteSize), {\n    byteSize,\n    convertEndian: le,\n    pad0x: true\n  }));\n}\n\nfunction jsbiWriter(byteSize, le) {\n  return (buf, input, offset = 0) => {\n    const byteString = (0, _utils.formatByteLike)(input.toString(16), {\n      byteSize,\n      convertEndian: le\n    });\n    buf.write(byteString, offset, 'hex');\n  };\n}\n\nconst I8 = createField(1, createReader('readInt8'), createWriter('writeInt8'));\nexports.I8 = I8;\nconst U8 = createField(1, createReader('readUInt8'), createWriter('writeUInt8'));\nexports.U8 = U8;\nconst I16LE = createField(2, createReader('readInt16LE'), createWriter('writeInt16LE'));\nexports.I16LE = I16LE;\nconst I16BE = createField(2, createReader('readInt16BE'), createWriter('writeInt16BE'));\nexports.I16BE = I16BE;\nconst U16LE = createField(2, createReader('readUInt16LE'), createWriter('writeUInt16LE'));\nexports.U16LE = U16LE;\nconst U16BE = createField(2, createReader('readUInt16BE'), createWriter('writeUInt16BE'));\nexports.U16BE = U16BE;\nconst I32LE = createField(4, createReader('readInt32LE'), createWriter('writeInt32LE'));\nexports.I32LE = I32LE;\nconst I32BE = createField(4, createReader('readInt32BE'), createWriter('writeInt32BE'));\nexports.I32BE = I32BE;\nconst U32LE = createField(4, createReader('readUInt32LE'), createWriter('writeUInt32LE'));\nexports.U32LE = U32LE;\nconst U32BE = createField(4, createReader('readUInt32BE'), createWriter('writeUInt32BE'));\nexports.U32BE = U32BE;\nconst I64LE = createField(8, createReader('readBigInt64LE'), createWriter('writeBigInt64LE'));\nexports.I64LE = I64LE;\nconst I64BE = createField(8, createReader('readBigInt64BE'), createWriter('writeBigInt64BE'));\nexports.I64BE = I64BE;\nconst U64LE = createField(8, createReader('readBigUInt64LE'), createWriter('writeBigUInt64LE'));\nexports.U64LE = U64LE;\nconst U64BE = createField(8, createReader('readBigUInt64BE'), createWriter('writeBigUInt64BE'));\nexports.U64BE = U64BE;\nconst I128LE = createField(16, bigIntReader(16, true, true), bigIntWriter(16, true, true));\nexports.I128LE = I128LE;\nconst I128BE = createField(16, bigIntReader(16, false, true), bigIntWriter(16, false, true));\nexports.I128BE = I128BE;\nconst U128LE = createField(16, bigIntReader(16, true, false), bigIntWriter(16, true, false));\nexports.U128LE = U128LE;\nconst U128BE = createField(16, bigIntReader(16, false, false), bigIntWriter(16, false, false));\nexports.U128BE = U128BE;\nconst U64LEJSBI = createField(8, jsbiReader(8, true), jsbiWriter(8, true));\nexports.U64LEJSBI = U64LEJSBI;\nconst U64BEJSBI = createField(8, jsbiReader(8, false), jsbiWriter(8, false));\nexports.U64BEJSBI = U64BEJSBI;\nconst U128LEJSBI = createField(16, jsbiReader(16, true), jsbiWriter(16, true));\nexports.U128LEJSBI = U128LEJSBI;\nconst U128BEJSBI = createField(16, jsbiReader(16, false), jsbiWriter(16, false));\n/**\n * Create a coder for a fixed-length byte\n * that can easily convert a string of bytes into a plain JS object\n * @example\n * ```typescript\n * const struct = createFixedStruct()\n *  .field('messageType', U8)\n *  .field('messageContent', U64);\n *\n * const parsed = struct.decode(Buffer.from('...'))\n * console.log(parsed) // { messageType: 0, messageContent: ...}\n * ```\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\n\nexports.U128BEJSBI = U128BEJSBI;\n\nfunction createFixedStruct() {\n  return new FixedStruct();\n}"],"sourceRoot":""}